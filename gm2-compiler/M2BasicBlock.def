(* Copyright (C) 2001 Free Software Foundation, Inc. *)
(* This file is part of GNU Modula-2.

GNU Modula-2 is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free
Software Foundation; either version 2, or (at your option) any later
version.

GNU Modula-2 is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
for more details.

You should have received a copy of the GNU General Public License along
with gm2; see the file COPYING.  If not, write to the Free Software
Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. *)
DEFINITION MODULE M2BasicBlock ;

(*
   Title      : M2BasicBlock
   Author     : Gaius Mulley
   Date       : 28/10/87
   LastEdit   : 28/10/87
   System     : UNIX (GNU Modula-2)
   Description: Converts a list of quadruples into a list of Basic Blocks,
                each basic block is then coded in the appropriate target
                processor assembly language.
*)

EXPORT QUALIFIED GenBasicBlocks, DestroyBasicBlocks,
                 GenBasicBlockCode, ForeachBasicBlockDo ;


TYPE
   BasicBlockProc = PROCEDURE (CARDINAL, CARDINAL) ;


(*
   GenBasicBlocks - Converts a list of quadruples, Head, to a list of Basic
                    Blocks, each Basic Block is then passed on to the
                    specific target code generation phase.

                    Analageous with a protocol:

                    +------------------------------------------------+
                    |     Generate Quadruples from Source            |
                    +------------------------------------------------+
                         |
                         v
                    +------------------------------------------------+
                    | Convert List of Quadruples to Basic Blocks     |
                    +------------------------------------------------+
                         |            |
                         v            v
                    +-----------+
                    |  Code     |    ....
                    +-----------+
*)

PROCEDURE GenBasicBlocks (VAR Head: CARDINAL) ;



(*
   DestroyBasicBlocks - destroys the list of Basic Blocks - so that
                        the quadruples can be furthur optimized.
*)

PROCEDURE DestroyBasicBlocks ;


(*
   GenBasicBlockCode - converts the Quadruples within Basic Blocks into
                       Code.
*)

PROCEDURE GenBasicBlockCode (Head: CARDINAL) ;


(*
   ForeachBasicBlockDo - for each basic block call procedure, p.
*)

PROCEDURE ForeachBasicBlockDo (p: BasicBlockProc) ;


END M2BasicBlock.
