2009-12-19       Gaius Mulley <gaius@gnu.org>

	* gm2.paranoid builds on LP64
	* gm2/patches/gcc/4.1.2/01.gaius_patch_gcc:  removed
	  m2pp.o from being linked in with cc1 and cc1dummy.
	* gm2/gm2-compiler/M2GenGCC.mod:  (CodeEndFile) remove
	  PopScope again as the quadruple coding ordering needs to
	  be fixed before this code will work.  The CodeStartDefFile,
	  CodeStartModFile, CodeEndFile need to be placed at the start
	  and end of the module and collected in the CodeScope.
	  Renamed CompilingMainModule to CompilingMainModuleStack.
	* gm2/gm2-compiler/M2Quads.mod:  (doConvert) New function.
	  BuildForToByDo call doConvert to convert expressions e1 and
	  e2 before they are used to calculate the iteration final
	  value.  Fixes a bug reported by James Cox <jvcox@sandia.gov>.
	  (testsuite/gm2/switches/check-all/run/pass/forcheck.mod).
	* gm2/m2pp.c:  new function (m2pp_integer).  m2pp_type and
	  m2pp_simple_type call m2pp_integer.  (m2pp_simple_expression)
	  corrected '-' binary operator written.
	* gm2/bnf/m2-3.bnf:  removed unused procedure
	  (CollectConstructor).
	* gm2/bnf/m2-h.bnf:  fixed ConstSetOrQualidentOrFunction
	  to use ConstActualParameters.

2009-12-18       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GenGCC.mod:  (CodeEndFile) call
	  PopScope to ensure that we generate the correct
	  runtime scope error message.

2009-12-17       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs/libc.def:  added setenv.
	* gm2/gm2-libs/StringConvert.mod:  fixed precision bug
	  reported by Steve Giess.  <scgiess@hotmail.com>.
	* gm2/gm2/gm2-libs-ch/dtoa.c:  fixed incorrect placing
	  of '0'.
	* gm2/gm2-libs/StringConvert.mod:  added TotalWidth test
	  in LongrealToString.
	* gm2/gm2-libs/StringConvert.mod:  corrected slice of
	  final string.
	* gm2/gm2-libs/M2RTS.mod:  improved runtime error message.
	* gm2/gm2-compiler/M2Range.mod:  corrected comment.

2009-12-16       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs/StringConvert.mod:  LongrealToString fix
	  to correct leading zeros after the '.'.  Fixes a bug
	  reported by Steve Giess.  <scgiess@hotmail.com>.

2009-12-15       Gaius Mulley <gaius@gnu.org>

	* The following changes fix a bug reported by Martin Kalbfuﬂ
	  (see testsuite/gm2/iso/run/pass/nestediso.mod).
	* gm2/gm2-compiler/M2Quads.mod:  use IsAssignmentCompatible
	  rather than equality of constructor types.
	* gm2/bnf/m2-2.bnf:  removed commented out code.  Removed
	  SimpleSet rule and replaced it by calls to Constructor.
	* gm2/bnf/m2-3.bnf:  removed SimpleSet and replaced it
	  by Constructor.  Removed SilentSimpleSet and replaced it
	  by SilentConstructor.  Removed CollectConstructor (a noop)
	  from SilentConstructor.  Removed SilentSimpleSet from
	  SilentConstSetOrQualidentOrFunction and replaced it
	  by SilentConstructor.
	* gm2/bnf/m2-h.bnf:  removed ConstSimpleSet by Constructor
	  and replace SilentSimpleSet by SilentConstructor.
	  Removed SilentSimpleSet, ConstSimpleSet.
	* gm2/bnf/m2.bnf:  ConstSetOrQualidentOrFunction uses
	  Constructor instead of SimpleSet.  Removed SimpleSet.
	* gm2/gm2-compiler/M2Quads.def:  removed CollectConstructor.
	* gm2/gm2-compiler/M2Quads.mod:  removed CollectConstructor.
	* gm2/gm2-compiler/M2ALU.mod:  (GetConstructorElement)
	  ensure that upon an error NulSym is returned.  Also
	  allow 0C to be returned if an CHAR ARRAY is being
	  created and the initial string is shorter than
	  the actual array size.
	* gm2/gm2-compiler/M2GenGCC.mod:  tidied up comment.
	* gm2/gm2-compiler/M2Quads.def:  corrected comment for
	  BuildConstructorEnd.  New functions (NextConstructorField),
	  (BuildTypeForConstructor).
	* gm2/gm2-compiler/M2Quads.mod:  new data structure
	  ConstructorFrame.  New function (BuildTypeForConstructor),
	  (PushConstructor), (PopConstructor), (NextConstructorField).
	  BuildConstructorEnd reimplemented.
	* gm2/gm2-compiler/SymbolTable.mod:  changed debugging watch
	  values.
	* gm2/examples/gravity:  many changes, an intemediate checkin.

2009-12-13       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Students.mod:  fixed bug reported
	  by Martin Kalbfuﬂ which occurred if -fstudents is used.
	  The parameters to Sprintf2 must not be Name types but
	  String types.  Modified accordingly.

2009-12-12       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs/RTExceptions.mod:  fix so that
	  the default handler will write the exception
	  message to stderr.  Also add a nul terminator
	  to the exception string.

2009-12-09       Gaius Mulley <gaius@gnu.org>

	* gm2/examples/gravity/gsl.def:  new file.
	* gm2/examples/gravity/Makefile:  added -lgsl -lblas
	  to the linking rule and fixed the clean rule.
	* gm2/examples/gravity/deviceGnuPic.def:  defines
	  four colours and allows entities to be drawn in
	  different colours.
	* gm2/examples/gravity/deviceGnuPic.mod:  implemented
	  above and will now invoke mencode to generate movie.avi.
	* gm2/examples/gravity/test.mod:  extended test example.
	* gm2/examples/gravity/twoDsim.mod:  completed circle
	  collision detection code.
	* gm2/gm2-libs/StringConvert.mod:  fixed bug when
	  printing fixed width value of 0.0.
	* gm2/gm2-libs-iso/ConvStringReal.mod:  added a
	  configurable debugging printf.
	* gm2/examples/gravity:  many fixes.

2009-12-08       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs/FIO.mod:  fixed bug in WriteNBytes.  The
	  cached seek position was not updated after a write.
	* gm2/gm2-libs/FIO.mod:  fixed bug in WriteNBytes.  The
	  cached seek position was not updated after a write.

2009-12-06       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Quads.mod:  fixed a bug reported by
	  Martin Kalbfuﬂ (both this bug and the one below required
	  fixes to BuildAdrFunction, which should return a
	  RightValue rather than a LeftValue).

2009-12-01       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Quads.mod:  fixed a bug reported by
	  Scott Iverson
	  (http://lists.gnu.org/archive/html/gm2/2009-11/msg00022.html).

2009-11-29       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  now builds and installs shared library
	  and O2 optimized versions of the ISO libraries.
	* gm2/examples/gravity/testsim.py:  no longer need to specify
	  the module name in the Python test module due to fixes
	  to the UNQUALIFIED extension.
	* gm2/examples/gravity/twoDsim.def:  EXPORT UNQUALIFED
	  added to all exported entities.
	* gm2/gm2-compiler/M2AsmUtil.mod:  fixes to
	  GetFullScopePrefix to honour the IsExportQuafified boolean.
	* gm2/gm2-compiler/M2Quads.mod:  changes to watch trigger.
	* gm2/gm2-libs-iso/Storage.def:  tidied up comments and also
	  added REALLOCATE procedure.
	* gm2/gm2-libs-iso/Storage.mod:  fixed dates and implemented
	  the REALLOCATE procedure.
	* gm2/examples/gravity/twoDsim.py:  removed automatically
	  generated file.

2009-11-27       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs/RTExceptions.mod:  fixed DefaultErrorCatch
	  so that it THROWs an exception rather than calls HALT.
	* gm2/gm2-libs-iso/Storage.def:  added REALLOCATE procedure.

2009-11-26       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Quads.mod: fixed bug reported by Martin
	  Kalbfuﬂ <ma.kalbfuss@web.de> an unbounded actual parameter
	  being passed to unbounded formal parameter in
	  a DEFINITION MODULE FOR "C" module was not converted into
	  the address of its data.
	* gm2/gccgm2.c:  added garbage collector tags to
	  all tree structure fields.  Use local variable, s, 
          rather than, t1, in global_constant.
	  New function (gccgm2_DumpGlobalConstants).
	  Dont pushdecl constants as they are placed onto
	  the global_binding_level and never deallocated.
	* gm2/examples/gravity/twoDsim.mod:  intemediate checkin.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  changed debugging
	  watch symbol.
	* gm2/gm2-compiler/SymbolConversion.mod:  corrected
	  misleading internal error message.  Only poison
	  non constant symbols as constants remain declared
	  in the global_binding_level.
	* gm2/gm2-libs/M2RTS.def:  HALT now has an optional
	  parameter.
	* gm2/gm2-libs/M2RTS.mod:  implement optional parameter
	  (exit code).
	* gm2/gm2-libs/StdIO.def:  added new line.
	* gm2/gm2-libs-ch/StdIO.c:  changed HALT extern.
	* gm2/gm2-libs-iso/M2RTS.def:  HALT now has an optional
	  parameter.
	* gm2/gm2-libs-iso/M2RTS.mod:  implement optional parameter
	  (exit code).
	* gm2/ulm-lib-gm2/std/M2RTS.mod:  implement optional parameter
	  (exit code).
	* gm2/www/index.ms:  fixed apt/sources.list information for
	  the latest binaries of gm2.  Also fixed release numbers.
	* gm2/p2c/p2c-src/src/lex.c:  change getline to
	  pgetline to avoid a name clash with
	  /usr/include/stdio.h.  Call pgetline rather
	  than getline.
	* gm2/p2c/p2c-src/src/parse.c:  call pgetline
	  rather than getline.
	* gm2/p2c/p2c-src/src/decl.c:  allow HALT to
	  take an optional exit code parameter.  If absent
	  the parameter defaults to -1.
	* gm2/p2c/p2c-src/src/funcs.c:  modify the parsing
	  of procedure declarations to allow an optional
	  parameter using the GNU Modula-2 syntax.
	* gm2/p2c/p2c-src/src/trans.c:  tidied up dates in
	  comments.

2009-11-17       Gaius Mulley <gaius@gnu.org>

	* gm2/configure:  rebuilt.
	* gm2/gm2/configure.in:  updated to 0.71.
	* gm2/gm2-libs/configure:  rebuilt.
	* gm2/gm2-libs/configure.in:  rebuilt.

2009-11-09       Gaius Mulley <gaius@gnu.org>

	* gm2/version.c:  updated to 0.71

2009-11-09       Gaius Mulley <gaius@gnu.org>

	* GM2 Release 0.70
	* gm2/gm2.texi:  fixed download url and fixed
	  debian repository information.
	* All regression tests pass on LP64 (x86_64) platform.

2009-11-08       Gaius Mulley <gaius@gnu.org>

	* rename SysVec to RTint and introduce a tiny module
	  COROUTINES for the pim libraries which just define
	  PROTECTION.  Thus gm2 is able to share RTint between
	  iso and pim libraries.
	* gm2/Make-lang.in:  added RTint.def COROUTINES.def
	  RTint.def COROUTINES.mod to the list of pim libraries.
	  Removed SysVec.mod from list of pim coroutine libraries.
	* gm2/examples/executive/Makefile:  improve clean rule.
	* gm2/examples/executive/testexecutive.mod:  replace
	  PRIORITY with PROTECTION and change imports.
	* gm2/examples/executive/testtime.mod:  replace
	  PRIORITY with PROTECTION and change imports.
	* gm2/examples/executive/winexec.mod:  replace
	  PRIORITY with PROTECTION and change imports.
	* gm2/examples/hello/Makefile:  improve clean rule.
	* gm2/examples/min/Makefile:  improve clean rule.
	* gm2/examples/ncurses/WindowDevice.mod:  replace
	  PRIORITY with PROTECTION and change imports.
	* gm2/examples/server/server.mod:  replace
	  PRIORITY with PROTECTION and change imports.
	* gm2/gm2-compiler/M2Quads.mod:  New function
	  (GetTurnInterrupts).
	* gm2/gm2-libs-coroutines/Executive.mod:  replace
	  PRIORITY with PROTECTION and change imports.
	* gm2/gm2-libs-coroutines/SYSTEM.def:  remove PRIORITY,
	  import PROTECTION, tidied up comments.
	* gm2/gm2-libs-coroutines/SYSTEM.mod:  replace
	  PRIORITY with PROTECTION and change imports.
	* gm2/gm2-libs-coroutines/TimerHandler.mod:  replace
	  PRIORITY with PROTECTION and change imports.
	* gm2/gm2-libs-iso/COROUTINES.mod:  intemediate checkin.
	
2009-11-07       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs/FIO.mod:  ReadFromBuffer return total
	  when data is taken from the buffer, rather than
	  attempting to read more data from the file.
	* gm2/gm2-libs-iso/RTgen.mod:  checkPreRead has an
	  extra parameter, raw, which stops the procedure
	  from testing whether end of line is seen if in
	  raw mode.
	* gm2/gm2-libs-iso/TextIO.mod:  SkipLine new
	  implementation.
	* fixes two bugs reported by Scott Iverson
	  (http://lists.gnu.org/archive/html/gm2/2009-11/msg00005.html)
	  (http://lists.gnu.org/archive/html/gm2/2009-11/msg00004.html).
	* gm2/patches/gcc/4.1.2/09.gaius_patch_config:
	  new patch file so that various configures
	  detect new texinfo versions correctly.  This
	  allows info documentation to be built and installed.

2009-11-05       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-iso/RndFile.def:  corrected dates.
	* gm2/gm2-libs-iso/RndFile.mod:  corrected boolean
	  expression bugs.
	* gm2/gm2-libs-iso/SeqFile.mod:  corrected boolean
	  expression bug.
	* gm2/gm2-libs-iso/StreamFile.mod:  corrected boolean
	  expression bug.

2009-11-01       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GCCDeclare.mod:  IsTypeQ check to
	  see that we are not trying to declare a PartialUnbounded
	  symbol.  (IncludePartialUnbounded) New procedure.
	  PrintVerboseFromList call IncludePartialUnbounded if
	  necessary and check for GnuAsm symbols.
	* gm2/gm2-compiler/SymbolTable.mod:  MakePointer, MakeSet,
	  MakeProcType must also call ForeachOAFamily.  GetScope
	  to call InternalError if trying to get the scope of
	  a PartialUnbounded symbol.
	* fixes a bug reported by Scott Iverson
	  (http://lists.gnu.org/archive/html/gm2/2009-10/msg00048.html).

2009-10-30       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2.texi:  new default initialization ordering
	  of modules, documented, and explained in more detail.
	* gm2/lang-specs.h:  bug fixes to -fuselist, -fmakelist.
	* gm2/gm2-compiler/gm2lorder.mod:  new value for
	  DefaultRuntimeModules.
	* gm2/gm2-libs-coroutines/SysVec.def:  updated dates.
	* gm2/gm2-libs-iso/COROUTINES.def:  updated dates.
	* gm2/gm2-libs-iso/COROUTINES.mod:  new implementation
	  (partially complete).
	* gm2/gm2-libs-iso/TextIO.def:  updated dates.
	* gm2/gm2-libs-iso/TextIO.mod:  fixes to bugs reported
	  by Scott Iverson
	  (http://lists.gnu.org/archive/html/gm2/2009-10/msg00043.html).
	* testsuite/gm2/isolib/run/pass/testio.mod:   new test.
	* testsuite/gm2/isolib/run/pass/testio2.mod:   new test.
	* testsuite/gm2/isolib/run/pass/testinput:   new file.
	
2009-10-28       Gaius Mulley <gaius@gnu.org>

	* gm2/gccgm2.c:  gccgm2_DeclareKnownVariable set
	  DECL_ARTIFICIAL and DECL_IGNORED_P to 0.
	* gm2/gm2-libs-iso/RTdata.mod:  assign data to NIL
	  once freedata has been called.
	* gm2/gm2-libs-iso/TermFile.mod:  removed commented
	  out code and completed initialization of t in
	  openTerm.
	* gm2/gm2-libs-iso/TermFile.def:  removed commented
	  out code.
	* gm2/gccgm2.c:  gccgm2_DeclareKnownVariable set
	  DECL_ARTIFICIAL to 0 and DECL_IGNORED_P to
	  istemporary which fixes the regression test failure:
	  testsuite/gm2/iso/run/pass/shift3.mod.
	* All 8328 regression tests pass on the Debian Stable
	  Lenny LP64 x86_64 platform.

2009-10-23       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-ch/dtoa.c:  fixes to dtoa_calcdecimal
	  so that the correct number of digits after the decimal 
	  place is returned.  Fixes a bug reported by James
	  Cox <jvcox@sandia.gov>.
	* gm2/gm2-libs-pim/RealConversions.mod:  turn debugging
	  off.
	
2009-10-22       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Range.mod:  allow second argument
	  to DEC and INC to be >=0 rather than MIN(des).  Fixes
	  a bug reported by James Cox <jvcox@sandia.gov>.
	* gm2/gm2-libs-ch/ldtoa.c:  reordered the headers to
	  ensure that _ISOC99_SOURCE is set before stdlib.h is
	  read so that the prototypes for strtold are correct.
	  Fixes a long real numeric conversion bug reported by
	  James Cox <jvcox@sandia.gov>.

2009-10-16       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs/FIO.mod:  fixed bug in FIO.FindPosition
	  as reported by James Cox <jvcox@sandia.gov>.

2009-10-15       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2.texi:  removed options which are not yet 
	  implemented -fwholevalue, -fno-wholevalue.
	* gm2/lang-options.h:  removed options which are not yet 
	  implemented -fwholevalue, -fno-wholevalue.
	* gm2/gm2-compiler/M2Quads.mod:  add Convert to
	  (MoveWithMode) if the types are different when moving
	  data indirectly.  New function (doVal) which is used to
	  change type during indirection if necessary.
	* gm2/gm2-compiler/M2Base.mod:  fix bug in unbounded array
	  dimension checking reported by
	  Scott Iverson (testsuite/gm2/pim/pass/ptrarray3.mod).
	* gm2/gm2-compiler/M2Quads.mod:  fix bug in unbounded array
	  dimension checking reported by
	  Scott Iverson (testsuite/gm2/pim/pass/ptrarray3.mod).

2009-10-14       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Base.mod:  allow sized SYSTEM types
	  (which are really pseudonyms of pervasive type to be
	   VAR parameter compatible).  Call IsSameSizePervasiveType.
	* gm2/gm2-compiler/M2System.def:  define and export
	  IsSameSizePervasiveType.
	* gm2/gm2-compiler/M2System.mod:  implement
	  IsSameSizePervasiveType.
	* gm2/gm2.texi:  removed -fbounds and introduced -fno-nil
	  -fwholediv, -fno-wholediv, -fwholevalue, -fno-wholevalue,
	  -findex, -fno-index, -frange and -fno-range.
	* gm2/lang-options.h:  removed -fbounds and introduced options
          -fno-nil, -fwholediv, -fno-wholediv, -fwholevalue,
	  -fno-wholevalue, -findex, -fno-index, -frange and -fno-range.
	* gm2/gm2-compiler/M2Base.mod:  removed BoundsChecking and
	  DivModRemChecking.  Use RangeChecking, IndexChecking and
          WholeDivChecking instead.
	* gm2/gm2-compiler/M2Options.def:  removed BoundsChecking and
	  DivModRemChecking.  Use RangeChecking, IndexChecking and
          WholeDivChecking instead.
	* gm2/gm2/gm2-compiler/M2Options.mod:  enable the detection of
	  -fwholevalue, -fno-wholevalue, -fno-nil, -fwholediv, -fno-wholediv,
	  -findex, -fno-index, -frange, -fno-range.
	* gm2/gm2-compiler/M2Quads.mod:  replace BoundChecking with
	  WholeValueChecking.

2009-10-07       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  added SysExceptions.c and SysExceptions.def
	  to the list of library modules.  Also included the appropriate
	  build rules.
	* gm2/gm2.texi:  added space.
	* gm2/el/g-mode.el:  added all ISO and PIM built-in Modula-2
	  procedures and procedure functions.
	* gm2/gm2-libs/RTExceptions.mod:  new procedure functions
	  (indexf), (range), (casef), (invalidloc), (function),
	  (wholevalue), (wholediv), (realvalue), (realdiv),
	  (complexvalue), (complexdiv), (protection), (systemf),
	  (coroutine), (exception).  Call
	  SysException.InitExceptionHandlers to init the signal
	  call backs.o
	* gm2/init/gm2-gccinit:  add SysExceptions to the list of
	  modules.
	* gm2/init/gm2lccinit:  add SysExceptions to the list of
	  modules.
	* gm2/init/gm2lgeninit:  add SysExceptions to the list of
	  modules.
	* gm2/init/gm2linit:  add SysExceptions to the list of
	  modules.
	* gm2/init/gm2lorderinit:  add SysExceptions to the list of
	  modules.
	* gm2/init/gm2minit:  add SysExceptions to the list of
	  modules.
	* gm2/init/h2definit:  add SysExceptions to the list of
	  modules.
	* gm2/init/ppginit:  add SysExceptions to the list of
	  modules.

2009-10-01       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GenGCC.mod:  fixed bug reported by Martin
	  Kalbfuﬂ <ma.kalbfuss@web.de>,
	  (see testsuite/gm2/iso/run/pass/constructor2.mod) which did not
	  allow a constructor to be passed as an actual parameter to an
	  unbounded array formal parameter.  Procedure CodeUnbounded
	  extended to include a case when a constructor appears as op3.
	* gm2/gm2-compiler/M2Quads.mod:  ManipulateParameters to merge
	  the rw information and mark a parameter as read if passed by
	  value and write/read if passed by address.

2009-09-30       Gaius Mulley <gaius@gnu.org>

	* gm2/el/g-mode.el:  added colour to GNU Modula-2 lisp mode.
	* gm2/gm2-compiler/M2Quads.mod:  tidied up some of the error
	  messages (using MetaError2).  Also enabled -Wpedantic to catch
	  using a variable which is never initialised.

2009-09-29       Gaius Mulley <gaius@gnu.org>

	* gm2/examples/swig/exceptions/Makefile:  introduce PYTHON_VERSION
	  and complete the clean target.
	* gm2/examples/swig/full-strlib/Makefile:  introduce PYTHON_VERSION
	  and complete the clean target.
	* gm2/examples/swig/strio/Makefile:  introduce PYTHON_VERSION
	  and complete the clean target.
	* gm2/examples/swig/strlen/Makefile:  introduce PYTHON_VERSION
	  and complete the clean target.
	* gm2/examples/swig/tiny/Makefile:  introduce PYTHON_VERSION
	  and complete the clean target.
	* gm2/gm2-compiler/M2Quads.mod:  introduce, rw, field into the
	  BoolFrame so that during pass 3 we can check whether arrays,
          records, parameters and variables are modified when indexed,
	  or by using ADR, or indirection.  New functions (MarkAsRead),
	  (MarkAsWrite), (OperandRW), (OperandMergeRW), (PushTFADrw),
	  (PushTFDrw), (PushTFrw), (PopTFrw), (PushTrw), (PopTrw).
	* gm2/gm2-libs/RTExceptions.mod:  removed redundant import of
	  type ADDRESS.
	  
2009-09-26       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GCCDeclare.mod:  ensure that record and field
	  symbols are CompletelyResolved in FoldOffset, FoldSize, FoldHigh.
	  Fixes a bug reported by James Cox.

2009-09-17       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/NameKey.mod:  added tests to ensure that out of
	  bound names do not cause the compiler to crash.  This fixes a bug
	  reported by Scott Iverson.
	* gm2/gm2/gm2-libs-iso/ProgramArgs.mod:  completed module and fixed
	  bugs to allow the channel to be reset and read.
	* gm2/gm2-libs-iso/ProgramArgs.def:  tidied up comments.
	* gm2/gm2-libs-iso/ProgramArgs.mod:  fixed bug in NextArg which
	  skipped every other argument.

2009-09-14       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Quads.mod:  RepeatStack, WhileStack, ForStack
	  new stacks for respective loops.  PushFor, PopFor (New Procedures).
	  REPEAT, FOR and WHILE loops no longer allow EXIT to terminate the
	  loop as EXIT is only allowed to terminate LOOP statements (as per
	  ISO and PIM Modula-2).
	* gm2/gm2-libs/FIO.mod:  corrected order of parameters to memcpy.
	  Ensure that calls to EOF do not alter the file state.
	* gm2/gm2-libs-iso/SimpleCipher.mod:  use early RETURN and not EXIT
	  as EXITs are only allowed inside LOOP statements.
	* gm2/gm2-libs-iso/TextIO.mod:  remove EXIT statement from WHILE loop.

2009-09-03       Gaius Mulley <gaius@gnu.org>

	* gm2/TODO:  removed completed items.
	* gm2/gccgm2.c:  modified documentation in light of completing
	  ISO Modula-2 language.  Also rewritten the descriptions of
	  INC and DEC.
	* gm2/gm2-compiler/M2CaseList.mod:  bug fixes in the missing
	  range checking.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  fixes so that cyclic array
	  declarations are canonicalised by their front end type and the
	  GCC index type.
	* gm2/gm2-compiler/gccgm2.def:  BuildStartArrayType new parameter,
	  type.
	* gm2/patches/gcc/4.1.2/06.gaius_patch_tree:  new version of
	  tree.[ch] patches.
	* gm2/gm2/tools-src/makeversion:  corrected date.
	* gm2/gm2-compiler/M2CaseList.mod:  use IsEqual to test identity
	  of constants rather than =.

2009-08-22       Gaius Mulley <gaius@gnu.org>

	* Make-lang.in:  added SMathLib0.def to list of library
	  modules.
	* gm2.texi:  added build log for macports description.
	* gm2-compiler/M2CaseList.mod:  only test case ranges if
	  the high field is used, otherwise test equality.  Check
	  that case types are also known and their maximum and
	  minimum values.
	* gm2-compiler/SymbolTable.mod:  only place record fields
	  into the Record.LocalSymbol tree if the name is not NulName.
	* gm2-libs/SMathLib0.mod:  many fixes to SMathLib0 using the
	  correct libm function name expf, sqrtf etc.
	* gm2-libs-iso/Processes.def:  tidied up comment formatting.
	* gm2/gm2.texi:  improved the building under macports section.

2009-08-21       Gaius Mulley <gaius@gnu.org>

	* gm2/www/index.ms:  updated to reflect recent changes.
	  Removed older build platforms.

2009-08-20       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2.texi:  added macport section.  Also updated
	  state of gm2 within the documentation.  The languages
	  are complete, libraries are incomplete.

2009-08-18       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  added dependency on
	  $(objdir)/gm2/gm2-libs for gm2/gm2-libs/gm2-libs-host.h.
	  Added dependencies on cc1gm2$(exeext) when creating
	  SYSTEM.def.  Explicitly invoke bash to run bash scripts
	  rather than assume that the developers SHELL is bash.

2009-08-17       Gaius Mulley <gaius@gnu.org>

        * gm2/gm2spec.c:  fixed an off by one bug when scanning
	  arguments.  This manifested itself as a linking bug
	  (as reported by John O Goyo <jgoyo@ca.inter.net>)
	  when arguments were presented in a different order.
	  '-o' skipped one to many arguments.

2009-08-16       Gaius Mulley <gaius@gnu.org>

	* gm2/m2.flex:  corrected dates.  Added changes for
	  ISO lexical completeness '(!' pseudonym for '[',
	  '!)' pseudonym for ']', '@' pseudonym for '^', '(:'
	  pseudonym for '{', ':)' pseudonym for '}', '!' pseudonym
	  for '|'.  The source code directives <* *> have been
	  implemented some time ago.

2009-08-15       Gaius Mulley <gaius@gnu.org>

        * gm2/gm2-compiler/M2CaseList.mod:  tidied up formatting of
	  error message.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  IncludeGetParent (New
	  function).  Use IncludeGetParent with appropriate symbols.
	* gm2/gm2-compiler/M2Quads.mod:  use GetParent and GetRecord
	  together now that the specification for GetParent has changed.
	* gm2/gm2-compiler/P2SymBuild.mod:  GetParent now returns the
	  parent of the field or varient.  GetRecord returns the
	  record of varient.  PutFieldRecord returns the field created
	  so that it can be recorded as the tag via PutVarientTag if
	  neccesary.  Modified BuildFieldRecord,
	  BuildVarientSelector, StartBuildVarientFieldRecord and
	  EndBuildVarientFieldRecord.
	* gm2/gm2-compiler/SymbolTable.def:  export GetRecord.
	* gm2/gm2-compiler/SymbolTable.mod:   GetParent now returns
	  the parent of the field or varient.  GetRecord returns the
	  record of varient.  PutFieldRecord returns the field created
	  so that it can be recorded as the tag via PutVarientTag if
	  neccesary.  EnsureOrder (New function) used by
	  PutVarientTag.
	* gm2/ulm-lib-gm2/std/RTErrors.def:  include two ELSE clauses.
	* gm2/ulm-lib-gm2/std/TimeIO.mod:  include ELSE clause.

2009-08-04       Gaius Mulley <gaius@gnu.org>

	* gm2/bnf/m2-2.bnf:  modified so that the variant tag is
	  remembered in the symbol table.
	* gm2/bnf/m2-3.bnf:  variant record grammar rules
	  matches m2-2.bnf.
	* gm2/bnf/m2.bnf:  variant record grammar rules
	  matches m2-2.bnf.
	* gm2/bnf/m2-h.bnf:  variant record grammar rules
	  matches m2-2.bnf.
	* gm2/gm2-compiler/M2ALU.def:  corrected comment.
	* gm2/gm2-compiler/M2CaseList.def:  MissingCaseBounds (New
	  function).
	* gm2/gm2-compiler/M2CaseList.mod:  introduce SetRange
	  data structure and implement MissingCaseBounds using
	  (New functions) NewSet, DisposeRanges, SubBitRange,
	  ExcludeCaseRanges, DoEnumValues, ErrorRange, ErrorRanges.
	* gm2/gm2-compiler/M2GenGCC.mod:  reimplemented SizeOp
	  to effectively ignore the second and subsequent parameters
	  to TSIZE.  Much safer and considerably simpler.
	* gm2/gm2-compiler/M2Quads.def:  AddVarientToList (New function).
	* gm2/gm2-compiler/M2Quads.mod:  implement AddVarientToList
	  (New function).  Modify BuildNewProcedure and
	  BuildDisposeProcedure so they can take two or more parameters.
	  These parameters are effectively ignored as the union type
	  is TSIZEd via sizeof.
	* gm2/gm2/gm2-compiler/M2Range.def:  export IsEqual,
	  IsGreaterOrEqual and IsGreater.
	* gm2/gm2-compiler/M2Range.mod:  FoldCase and CodeCase now
	  introduce an additional check using MissingCaseBounds.
	* gm2/gm2-compiler/P2SymBuild.mod:  BuildVarientSelector
	  record the varient tag into the symbol table.
	* gm2/gm2-compiler/SymbolTable.def:  export GetVarientTag
	  and PutVarientTag.
	* gm2/gm2-compiler/SymbolTable.mod:  GetVarientTag
	  and PutVarientTag (New procedures).
	* gm2/gm2-compiler/ppg.mod:  removed debugging print.

2009-07-30       Gaius Mulley <gaius@gnu.org>

	* gm2/bnf/m2-3.bnf:  place the actions in the Varient rule
	  rather than in the FieldList rule.
	* gm2/gm2/gm2-compiler/M2CaseList.def:  ElseCase now has a
	  single parameter.
	* gm2/gm2-compiler/M2CaseList.mod:  add new elseField to
	  CaseDesc, record ElseCase parameter in elseField.
	* gm2/gm2-compiler/M2GenGCC.mod:  check that, s, is resolved
	  and known to the GCC backend before attempting to find
	  the size of, s.  Fixed bugs in FoldSize, CodeSize.
	* gm2/gm2-compiler/M2Quads.def:  New procedure function
	  (ElseVarient).
	* gm2/gm2-compiler/M2Quads.mod:  fixed BuildTSizeFunction
	  so that it now works out the maximum size necessary to
	  contain the object.  Implemented (ElseVarient).
	* gm2/gm2/gm2-compiler/ppg.mod:  fixed pretty printing of
	  'END ;' during the production of a recovery based parser.

2009-07-29       Gaius Mulley <gaius@gnu.org>

	* gm2/bnf/m2-2.bnf:  place the actions in the Varient rule
	  rather than in the FieldList rule.  Also introduce
	  VarientCaseLabelList and VarientCaseLabels rules.
	* gm2/bnf/m2-3.bnf:  place the actions in the Varient rule
	  rather than in the FieldList rule.
	* gm2/gm2-compiler/M2Debug.mod:  removed space.
	* gm2/gm2-compiler/P2SymBuild.mod:  introduced Assert.
	* gm2/gm2-compiler/ppg.mod:  fixed dates.  Altered so that
	  code actions immediately inside {} or [] are emitted when
	  the next token is consumed.  Thus allowing the Varient
	  rules in m2-2.bnf and m2-3.bnf to compile correctly.

2009-07-28       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  added Sets.mod and M2CaseList.mod
	  to the list of modules to be tested under gm2.paranoid.
	* gm2/bnf/m2-2.bnf:  corrected dates and added ability to
	  record record and varient fields into a list held in
	  M2Quads.mod.
	* gm2/bnf/m2-3.bnf:  now collects varient fields from the
	  the list held in M2Quads and associates the case labels
	  with each field to allow checking.  Altered SilentCaseLabel
	  et al to VarientCaseLabel variety.
	* gm2/bnf/m2-h.bnf:  match m2-3.bnf.
	* gm2/gm2-compiler/M2BasicBlock.mod:  removed references to
	  M2Quads.Head.
	* gm2/gm2-compiler/M2CaseList.def:  PushCase altered to
	  take a single parameter.  BeginCaseList also altered to
	  take a single parameter.  New procedure function (FindVarient)
	  and procedure (ElseCase).
	* gm2/gm2-compiler/M2CaseList.mod:  implement above changes
	  and new procedures.
	* gm2/gm2-compiler/M2Code.mod:  remove usage of M2Quads.Head.
	  Removed InitGM2M2.  Alterations reflecting removal of
	  M2Quads.Head.
	* gm2/gm2-compiler/M2GenGCC.def:  removed InitGM2M2.
	* gm2/gm2-compiler/M2GenGCC.mod:  reimplemented SizeOp
	  to comply with ISO TSIZE.
	* gm2/gm2-compiler/M2Optimize.mod:  remove usage of
	  M2Quads.Head.
	* gm2/gm2-compiler/M2Quads.def:  no longer export Head.
	  New procedures (GetFirstQuad), (BeginVarient), (EndVarient),
	  (BeginVarientList), (EndVarientList), (AddRecordToList),
	  (AddVarientFieldToList), (AddVarientRange), (AddVarientEquality).
	  Removed NoOfDynamicQuads, IncDynamicQuads.
	  BackPatchSubrangesAndOptParam no longer uses a parameter.
	* gm2/gm2-compiler/M2Quads.mod:  implement above changes.
	  CountQuads returns a variable rather than computes the value.
	  This modification speeds up the compiler by 30% for large
	  source files.  M2Quads is altered to support maintaining a count
	  of quadruples in the variable.  Fixed Assert bugs.
	* gm2/gm2-compiler/M2Scope.mod:  removed import of M2Quads.Head
	  and use GetFirstQuad instead.
	* gm2/gm2-compiler/P2SymBuild.mod:  StartBuildVarientFieldRecord
	  calls AddVarientFieldToList to record FieldSym necessary for
	  pass 3.
	
2009-07-27       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2CaseList.def:  new file.
	* gm2/gm2-compiler/M2CaseList.mod:  new file.
	* gm2/Make-lang.in:  added M2CaseList to be built.
	* gm2/bnf/m2-3.bnf:  corrected dates and build case list
	  in M2CaseList.
	* gm2/bnf/m2.bnf:  tidied up formatting.
	* gm2/gm2-compiler/M2MetaError.def:   new procedures
	  (MetaError4), (MetaErrorT4), (MetaErrorsT4),
	  (MetaErrorString4), (MetaErrorStringT4).
	* gm2/gm2-compiler/M2MetaError.mod:  implement new
	  procedures.
	* gm2/gm2-compiler/M2Quads.mod:  build case lists.
	* gm2/gm2-compiler/M2Range.def:  new procedures
	  (InitCaseBounds), (OverlapsRange).
	* gm2/gm2-compiler/M2Range.mod:  implement new procedures.
	* gm2/gm2-compiler/P2SymBuild.mod:  removed space.
	* gm2/init/gm2-gccinit:  added M2CaseList.

2009-07-23       Gaius Mulley <gaius@gnu.org>

	* gm2/tools-src/gensum.py:  corrected bug which allowed
	  error descriptions to be marked up as not tested
	  on different platforms.

2009-07-21       Gaius Mulley <gaius@gnu.org>

	* gm2/TODO:  removed multidimensional unbounded arrays.
	  Added TSIZE.
	* gm2/gm2-compiler/M2Code.mod:  removed Head parameter
	  from DisplayQuadList.
	* gm2/gm2-compiler/M2GenGCC.mod:  removed Head parameter
	  from DisplayQuadList.
	* gm2/gm2-compiler/M2Optimize.mod:  added bounds checks
	  to ensure that we never look outside the quad range
	  specified.
	* gm2/gm2-compiler/M2Quads.def:  removed AddQuad and
	  also removed the parameter Head from DisplayQuadList.
	  Removed KillQuad.
	* gm2/gm2-compiler/M2Quads.mod:  many changes which
	  remove the static array Quads and use a dynamic
	  equivalent.  Also make the builtin function TSIZE
	  generate appropriate quadruples.
	* gm2/gm2-libs-iso/SYSTEM.def:  fixed typo.

2009-07-20       Gaius Mulley <gaius@gnu.org>

	* gm2/patches/gcc/4.1.2/08.gaius_ipa_type_escape.c:
	  new file.  This patch detects cyclic ARRAY and POINTER
	  definitions which can now occur in gcc due to
	  06.gaius_patch_tree.

2009-07-17       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Quads.mod:  (AssignUnboundedNonVar),
	  (AssignUnboundedVar), (UnboundedNonVarLinkToArray),
	  (UnboundedVarLinkToArray) add extra parameter
	  indicating array symbol being indexed.  Used additional
	  parameter to resolve high values on unbounded arrays given
	  a particular dimension.
	  Can now pass a two dimensional unbounded array to an ARRAY
	  OF BYTE and also can index the first dimension and pass the
	  designator as an ARRAY OF BYTE.
	  See testsuite/gm2/iso/run/pass/unbounded8.mod which now works.
	  Refactored tests against BYTE, WORD, LOC with IsGenericSystemType.

2009-07-14       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Quads.mod:  AssignHighField
	  modified so that ARRAY OF ARRAY OF type can be
	  passed to ARRAY OF BYTE.
	* gm2/gm2-compiler/SymbolTable.mod:  modified so
	  that GetDimension will skip over type and variable
	  symbols.

2009-07-13       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  create O2, SO, SO_O2 directories
	  for ISO libraries.  Use -ffunction-sections
	  -fdata-sections when building libraries to aid
	  building smaller binaries.
	* gm2/gccgm2.c:  New function (StringLength).
	* gm2/bnf/m2-2.bnf:  formal type altered so that
	  multidimensional dynamic arrays are legal.
	* gm2/bnf/m2-3.bnf:  formal type altered so that
	  multidimensional dynamic arrays are legal.
	* gm2/bnf/m2-h.bnf:  formal type altered so that
	  multidimensional dynamic arrays are legal.
	* gm2/bnf/m2.bnf:  formal type altered so that
	  multidimensional dynamic arrays are legal.
	* gm2/examples/hello/Makefile:  modified test
	  build rules to build smaller binaries.
	* gm2/gm2-compiler/Indexing.def:  corrected dates.
	* gm2/gm2-compiler/Indexing.mod:  corrected dates.
	* gm2/gm2-compiler/M2Base.mod:  corrected spelling
	  typo.  Modified parameter checking to allow
	  multidimensional dynamic arrays.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  walk
	  multidimensional unbounded records.
	* gm2/gm2-compiler/M2GenGCC.def:  GetHighFromUnbounded
	  now takes two parameters.
	* gm2/gm2-compiler/M2GenGCC.mod:  Added dimension parameter
	  to FoldHigh, ResolveHigh, GetHighFromUnbounded.
	  New procedures (BuildHighFromChar), (SkipToArray),
	  (BuildHighFromArray), (BuildHighFromString).
	* gm2/gm2-compiler/M2MetaError.mod:  fixed number
	  description to handle 11th, 12th and 13th.
	* gm2/gm2-compiler/M2Quads.def:  export PushTFA.
	* gm2/gm2-compiler/M2Quads.mod:  New procedures (PushTFAD),
	  (LegalUnboundedParam), (calculateMultipicand), (AssignHighField),
	  (AssignHighFields), (OperandD), (IncOperandD).
	  Ensure that HIGH, SIZE do not generate quadruples unless
	  they are accessing unbounded arrays.  Alter parameter
	  passing rules to allow multidimensional dynamic arrays.
	  Move BuildHighFromString, BuildHighFromChar into M2GenGCC.mod.
	* gm2/gm2-compiler/M2Range.def:  add dimension to array
	  bounds testing.
	* gm2/gm2-compiler/M2Range.mod:  incorporate the dimension
	  into the runtime error message.
	* gm2/gm2-compiler/P2SymBuild.mod:  add dimension to
	  unbounded parameter declaration.
	* gm2/gm2-compiler/SymbolTable.def:  New procedures
	  (IsOAFamily), (GetDimension), (MakeOAFamily), (GetOAFamily),
	  (ForeachOAFamily).  Add dimension parameter to
	  GetUnbounded, GetUnboundedHighOffset, MakeUnbounded.
	* gm2/gm2-compiler/SymbolTable.mod:  implement above.
	  Introduce OAFamily entity so that only one unbounded type
	  is created for each subtype.  Too many changes to
	  fully document here.
	* gm2/gm2-compiler/gccgm2.def:  define procedure
	  (StringLength).
	* gm2/gm2-libs/MathLib0.def:  removed long and short
	  declarations of intrinsic functions.
	* gm2/gm2-libs/LegacyReal.def:  new file.
	* gm2/gm2-libs/LMathLib0.def:  new file.
	* gm2/gm2-libs/SMathLib0.def:  new file.
	
2009-06-24       Michael Lambert <lambert@psc.edu>

	* gm2/Make-lang.in:  set debugging flags to -g
	  if on a Darwin i386 system.  Test supports bash/sh.
	* gm2/patches/gcc/4.1.2/07.michael_i386:  new file,
	  which tests if building on Darwin and if so it calls
	  c++filt --strip-underscore.

2009-06-24       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-min/libc.def:  added definition for printf.
	* gm2/examples/min/Makefile:  new file.
	* gm2/examples/min/minhello.mod:  new file.

2009-06-15       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  SRawIO.mod added to list of ISO modules
	  to be built and installed.
	* gm2/gm2-libs-iso/SRawIO.mod:  (new file).
	* gm2/m2.flex:  detect PACKEDSET keyword.
	* gm2/gm2m.bnf:  added PACKEDSET keyword.
	* gm2/gm2l.bnf:  added PACKEDSET keyword.
	* gm2/m2.bnf:  added PACKEDSET keyword.
	* gm2/m2-2.bnf:  added PACKEDSET keyword.
	* gm2/m2-3.bnf:  added PACKEDSET keyword.
	* gm2/m2-h.bnf:  added PACKEDSET keyword.
	* gm2/gm2-compiler/M2Reserved.def:  define packedsettok.
	* gm2/gm2-compiler/M2Reserved.mod:  define PackedSetTok
	  and ensure that it corresponds to packedsettok.
	* gm2/gm2-libs/FIO.def:  IsActive (new procedure function).
	* gm2/gm2-libs/FIO.mod:  IsActive (implement procedure
	  function).
	* gm2/gm2-libs-iso/RTfio.mod:  ensure that the file
	  is still active before testing IsNoError.

2009-06-06       Gaius Mulley <gaius@gnu.org>

	* gm2/Makefile.in:  added rules to build the minimum libraries
	  by default.
	* gm2/gm2.texi:  documented -fno-exceptions.
	* gm2/lang-options.h:  new option -fno-exceptions.
	* gm2/lang.opt:  reorder flibs options alphabetically.
	* gm2/version.c:  revised the release number to 0.70 as
	  the basic ISO IO libraries are implemented.
	* gm2/gm2-compiler/M2Base.mod:  only import NoException from
	  RTExceptions if the exceptions flag is set.
	* gm2/gm2-compiler/M2Options.mod:  implemented new flag
          -fno-exceptions
	* gm2/gm2-compiler/M2Quads.mod:  test the Exceptions flag
	  to ensure that we only generate exception code if the
	  exceptions flag is on.
	* gm2/gm2-compiler/gm2lgen.mod:  only generate the cpp
	  start up file if exceptions are enabled, other produce
	  the start up file in C.
	* gm2/gm2-libs/RTExceptions.def:  corrected procedure
	  function declaration.
	* gm2/gm2-libs/configure.in:  modified version number.
	* gm2/gm2-libs-iso/RTfio.mod:   many numerous fixes
	* gm2/gm2-libs-iso/RTgen.mod:   to fix error/eof/seek
	* gm2/gm2-libs-iso/RndFile.mod:  problems.
	* gm2/gm2-libs-iso/SeqFile.mod:
	* gm2/gm2-libs-iso/StreamFile.mod:  (checkOpenErrno) new function.
	* gm2/gm2-libs-iso/wraptime.c:   fix bug in call to localtime_r. 
	* gm2/gm2-libs-iso/wraptime.def:  
	* gm2/gm2-libs-min/M2RTS.def:  
	* gm2/gm2-libs-min/M2RTS.mod:  add NoException dummy procedure.
	* gm2/gm2-libs-min/SYSTEM.def:  add system data types.

2009-05-20       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  always build gm2-libs-min.
	* gm2/gm2-libs/RTExceptions.def:  fixed incorrect declaration
	  of function GetBaseExceptionBlock.

2009-05-15       Gaius Mulley <gaius@gnu.org>

	* gm2/lang-specs.h:  create modulename_m2.cpp init file if
	  -g is present on the command line.
        * gm2/TODO:  removed completed item on the list.
	* gm2/gm2-compiler/M2Base.mod:  IsVarParamCompatible (New
	  function).  Fixed paramater compatibility rules to
	  test VAR parameters.
	* gm2/ulm-lib-gm2/std/Directories.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysAccess.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysAlarm.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysBreak.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysClose.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysCreat.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysDup.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysExec.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysExit.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysFcntl.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysGetpid.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysGetuid.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysIoctl.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysKill.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysLink.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysLseek.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysOpen.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysPause.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysPipe.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysRead.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysSetuid.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysStat.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysTime.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysUnlink.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysWait.mod:  altered types
	  of arguments from CARDINAL to INTEGER.
	* gm2/ulm-lib-gm2/sys/SysWrite.mod:  altered types
	  of arguments from CARDINAL to INTEGER.

2009-05-14       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GenGCC.mod:  convert constants to
	  integer if they are to be passed to a C stdarg function.
	* gm2/gm2-compiler/M2Quads.mod:  pass the address field
	  of an unbounded array if it is an argument to a
	  C stdarg function.
	* gm2/gm2-compiler/M2GenGCC.mod:  removed function
          DefaultCStdArgPromotion and fixed test code.
	* gm2/gm2.texi:  documented behaviour of stdarg parameters.

2009-05-11       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  added Sets.def and Sets.mod to
	  the list of compiler modules.
        * gm2/bnf/m2-h.bnf:  ConstActualParameters added so that
	  constant functions may be used in constant expressions
	  within modules declaring opaque types.
        * gm2/gm2-compiler/M2GCCDeclare.mod:  altered many of the
	  List data types to Set where appropriate.  Fixed
	  unbounded types to be walked just like all other types.
	  In turn refactored unbounded declarations.  Added test
	  to detect recursive calls to ForeachTryDeclare.
	* gm2/gm2-libs/ASCII.def:  fixed dates.
	* gm2/gm2-libs/Storage.mod:  fixed dates.
	* gm2/gm2-libs/SysStorage.mod:  fixed copyright notice.
	* gm2/init/gm2-gccinit:  added Sets.
	* gm2/p2c/p2c-src/src/decl.c:  fixed declaration of
	  BITSET so that MAX(BITSET) and MIN(BITSET) yield
	  correct values.

2009-05-06       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GCCDeclare.mod:  TryDeclareConst
	  now calls TryDeclareConstructor.
	* gm2/gm2-compiler/M2Range.mod:  modified all calls to
	  DeclareConstructor to TryDeclareConstructor.
	* gm2/gm2-compiler/SymbolTable.mod:  corrected dates.
	* gm2/gm2-compiler/M2GenGCC.mod:  detect if op3 is a
	  procedure in CodeConvert and if so calculate the
	  address of the procedure.
	* gm2/gm2-compiler/M2Quads.mod:  allow procedures as
	  the operand to cast/convert.  Changed
	  CheckVariabelOrConstant to
	  CheckVariabelOrConstantOrProcedure.
	* gm2/gm2-compiler/M2Quads.mod:  allow procedure types
	  or procedures to be CAST.

2009-05-04       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2ALU.mod:  ensure that
	  solved and areAllConstants are initialized for every
	  type of constant.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  return early from
	  TryDeclareConstant if the constructors dependants are
	  not all constant.
	* gm2/gm2-compiler/M2GenGCC.mod:  add missing double
	  book keeping entries in FoldConvert for op1 and the
	  tree.
	* gm2/gm2-compiler/M2Range.mod:  FoldTypeCheck
	  add TryDeclareConstructor.
	* gm2/gm2-compiler/SymbolTable.mod:  (IsConstructorConstant)
	  allow constant sets to have their elements tested for
	  being constant.

2009-05-01       Gaius Mulley <gaius@gnu.org>

	* bug fixes so that ulm-lib-gm2/std/TimeIO.mod builds.
	* gm2/gm2-compiler/M2ALU.def:  new procedure TryEvaluateValue.
	* gm2/gm2-compiler/M2ALU.mod:  implemented TryEvaluateValue.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  implemented new
	  procedure TryDeclareConst.

2009-04-30       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2/gm2-compiler/M2ALU.mod:  commented out
	  ChangeToConstructor.
	* gm2/gm2/gm2-compiler/M2GCCDeclare.def:  corrected
	  comments and added TryDeclareConstant and
	  TryDeclareConstructor.
	* gm2/gm2/gm2-compiler/M2GCCDeclare.mod:  remove symbol
	  from tobesolvedbyquad when it is completely resolved.
	  Implemented TryDeclareConstant and TryDeclareConstructor.
	* gm2/gm2/gm2-compiler/M2GenGCC.mod:  changed all occurances
	  of DeclareConstant to TryDeclareConstant.  Changed all
	  occurances of DeclareConstructor to TryDeclareConstructor.
	  Fixed bug in DeclareConst.
	* gm2/gm2/gm2-compiler/M2Range.mod:  changed all occurances
	  of DeclareConstant to TryDeclareConstant.  Changed all
	  occurances of DeclareConstructor to TryDeclareConstructor.

2009-04-19       Gaius Mulley <gaius@gnu.org>
	
	* gm2/gm2/gm2-compiler/M2GCCDeclare.mod:  fixed bug which
	  denied fixed sized set types from being correctly
	  declared.
	
2009-04-19       Gaius Mulley <gaius@gnu.org>

	* Huge amount of changes, most of which surround the new
	  implementation of M2GCCDeclare.mod.  This uses a set of
	  traverse and walk procedures for each data type which
	  allows cyclic data structures to be emitted to the
	  GCC middleend from the gm2 frontend.
	* gm2/patches/gcc/4.1.2/06.gaius_patch_tree:  new file.
	* gm2/gm2/gccgm2.c:  gccgm2_BuildStartType, gccgm2_BuildEndType
	  (New Functions).  gccgm2_DeclareKnownType build type from
	  previous two functions.  gccgm2_BuildStartArrayType,
	  gccgm2_PutArrayType, gccgm2_BuildEndArrayType,
	  gccgm2_GetDeclContext  (New Functions).
	* gm2/gm2/gm2-compiler/M2ALU.def:  PutConstructorSolved,
	  EvaluateValue,  IsConstructorDependants,
	  WalkConstructorDependants  (New procedures).
	* gm2/gm2/gm2-compiler/M2ALU.mod:  implement above
	  changes.
	* gm2/gm2/gm2-compiler/M2GCCDeclare.def:  ConstantKnownAndUsed,
	  PutToBeSolvedByQuads (New Procedures).
	* gm2/gm2/gm2-compiler/M2GCCDeclare.mod:  Completely new
	  algorithm used, too many changes to document here.
	* gm2/gm2/gm2-compiler/M2GenGCC.def:  ResolveConstantExpressions
	  first parameter is a WalkAction procedure.
	* gm2/gm2/gm2-compiler/M2GenGCC.mod:  many changes to reflect
	  the new walk algorithm of M2GCCDeclare.  All the Fold
	  procedures now call the WalkAction procedure parameter
	  if a symbol is resolved rather than removing it from
	  a list.
	* gm2/gm2/gm2-compiler/M2Range.def:  FoldRangeCheck
	  modified in light of new M2GCCDeclare.
	* gm2/gm2/gm2-compiler/M2Range.mod:  modified in light
	  of new M2GCCDeclare.
	* gm2/gm2/gm2-compiler/P2SymBuild.mod:  added commented
	  out code, which needs to be tested and enabled once
	  M2GCCDeclare stabalises.
        * gm2/gm2/gm2-compiler/gccgm2.def:  export BuildStartType,
	  BuildEndType.  Modified parameters to BuildEndEnumeration,
	  BuildEnumerator.  Export BuildStartArrayType,
	  BuildEndArrayType, PutArrayType, GetDeclContext.
	* gm2/gm2/gm2-libs-pim/InOut.def:  export OpenOutput.
	* gm2/gm2/p2c/p2c-src/src/decl.c:  changed implementation
	  of word to unsigned rather than integer.
	  
2009-04-09       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Base.mod:  simplified module by removing
	  parameter compatibility array.  We now just use the assignment
	  compatibility to test non var paramater types which avoids
	  duplication of code.  Fixed a bug reported Jurgen Lerch.

2009-03-20       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2.texi:  tidied up formatting.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  introduced a
	  debugging watch for the lists.
	* gm2/gm2-compiler/P2SymBuild.mod:  added an
	  error check to ensure types are not declared as
	  themselves.
	* gm2/gm2-libs-ch/sckt.c:  exit if an error occurs.
	* gm2/gm2-libs/configure:  rebuilt.
	* gm2/gm2-libs/configure.in:  added test code cfmakeraw.
	* gm2/gm2-libs/gm2-libs-host.h.in:  added stub for
	  cfmakeraw.
	* gm2/gm2-compiler/P2SymBuild.mod:  catch if a type
	  is being declared to itself.
	
2009-03-17       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Quads.mod:  fixed a critical bug
	  in DEC.  Swapped operands for doBuildBinaryOp around
          when building a DEC.
	* gm2/gm2-libs-ch/sckt.c:  removed debugging printf's.

2009-03-14       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GCCDeclare.mod:  modified debugging
	  catch.
	* gm2/gm2-compiler/SymbolTable.mod:  changed RequestSym
	  to GetDeclareSym in PutExportQualified and
	  PutExportUnQualified.
	* gm2/gm2-libs/SYSTEM.def:  removed export of SIZE.
	  (It is only added if -fpim2 is enabled).
	* gm2/gm2-libs-iso/TermFile.mod:  added debugging
	  comments.
        * gm2/gm2-libs-iso/wraptime.c:  added wraptime_
	  prefixes to exported procedures.
        * gm2/gm2-compiler/M2System.mod:  export SIZE if
	  -fpim2 is used (or -fpim but only if -fpedantic is not
	  set).
	* gm2/gm2-libs-iso/SYSTEM.def:  removed BITSET from export
	  list as it is pervasive in ISO Modula-2.
	* gm2/ulm-libs-gm2/sys/SYSTEM.def:  removed SIZE from export
	  list as it is exported internally depending upon -fpim2
	  and -fpedantic.
	* gm2/gm2-libs-coroutines/SYSTEM.def:  removed SIZE from export
	  list as it is exported internally depending upon -fpim2
	  and -fpedantic.

2009-03-09       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-file.in:  added termios.def to
	  GM2-LIBS-BOOT-DEFS, GM2-LIBS-DEFS.  Added
	  termios.c to GM2-LIBS-C and added rules to build
	  gm2/gm2-libs-boot/termios.o, gm2/gm2-libs/termios.o,
	  gm2/gm2-libs/O2/termios.o, gm2/gm2-libs/SO/termios.o,
          gm2/gm2-libs/SO_O2/termios.o,
	  gm2/gm2-libs-paranoid/termios.o.  Removed rule to
	  build gm2/ulm-lib-gm2/sys/termios.o.  Added termios.c
	  to GM2-LIBS-BOOT-C.  Removed termios.c from the ulm
	  libraries.
	* gm2/gm2-libs/IO.def:  UnBufferedMode, BufferedMode,
	  EchoOn, EchoOff new declarations.
	* gm2/gm2-libs/IO.mod:  mostly rewritten.
	* gm2/gm2-libs/errno.def:  added constant EAGAIN.
	* gm2/gm2-libs-iso/ClientSocket.mod:  added
	  port number to name now that IntToStr has been
	  implemented.
	* gm2/gm2-libs-iso/README.texi:  corrected dates and
	  added TermFile to the list of completed modules.
	* gm2/gm2-libs-iso/TermFile.def:  tidied up comments.
	* gm2/init/ppginit:  added errno and termios to the list
	  of dependant modules.
	* gm2/gm2-libs-iso/TermFile.mod:  new file.
	* gm2/Make-lang.in:  removed rule to build
          gm2/ulm-lib-gm2/sys/termios.o.
	* gm2/gm2-libs/libc.def:  corrected open to use varargs.
	* gm2/gm2-libs-iso/TermFile.mod:  initialize termios
	  types when term is initialised.  RestoreTerminalSettings
	  (new function).  Call new function.
	
2009-03-04       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-iso/SysClock.mod:  new file.
	* gm2/gm2-libs-iso/wraptime.def:  new file.
	* gm2/gm2-libs-iso/wraptime.c:  new file.
	* gm2/gm2-libs-iso/README.texi:  updated list of
	  completed ISO library modules.
	* gm2/Make-lang.in:  added SysClock.mod to
	  GM2-LIBS-ISO-MODS and added wraptime.c to
          GM2-LIBS-ISO-C.
	* gm2/gm2-compiler/P2SymBuild.mod:  use one
	  call of MetaErrorsT2, rather than two calls to
	  MetaErrorT1.

2009-02-27       Gaius Mulley <gaius@gnu.org>

	* Fixed compiler so that pervasive procedure functions
	  can be redefined.
	* gm2/Make-lang.in:  added IOResult.mod, SIOResult.mod,
	  StringChan.mod to GM2-LIBS-ISO-MODS.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  PrintDeclared
	  (new procedure).  PrintVerboseFromList call
	  PrintDeclared.
	* gm2/gm2-compiler/P2SymBuild.mod:  replace RequestSym
	  with GetDeclareSym.  Tidied up comments.
	* gm2/gm2-compiler/SymbolTable.def:  export GetDeclareSym.
	* gm2/gm2-compiler/SymbolTable.mod:  implement GetDeclareSym.
	* gm2/gm2-libs-iso/SysClock.def:  assign maxSecondParts to
	  zero.

2009-02-25       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs/StringConvert.mod:  LongrealToString
	  add test to see if the nonfraction component
	  is empty.  Fixes a bug reported by Steve Giess
	  <scgiess@hotmail.com>.
	* gm2/Make-lang.in:  LongIO.mod, RealIO.mod added
	  to GM2-LIBS-ISO-MODS.
	* gm2/gm2-libs-ch/dtoa.c:  removed conditional
	  compilation on HAVE_STRTOLD.
	* gm2/gm2-libs-ch/ldtoa.c:  fall back to using
	  strtod if strtold is unavailable.
	* gm2/gm2-libs-iso/IOChan.mod:  fixed error
	  message.
	* gm2/gm2-libs-iso/LongIO.mod:  tidied up comments.
	* gm2/gm2-libs-iso/LongIO.mod:  new implementation.
	* gm2/gm2-libs-iso/RealIO.def:  tidied up comments.
	* gm2/gm2-libs-iso/RealIO.mod:  new implementation.
	* gm2/gm2-libs-iso/SWholeIO.mod:  tidied up comments.
	* gm2/gm2-libs-iso/WholeIO.mod:  refactored to use
	  writeString.
	* gm2/gm2-libs-iso/SLongIO.mod:  new implementation.
	* gm2/gm2-libs-iso/SRealIO.mod:  new implementation.
	* gm2/gm2-libs-iso/IOResult.mod:  new implementation.
	* gm2/gm2-libs-iso/SIOResult.mod:  new implementation.

2009-02-20       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-iso/ConvStringLong.def:  new file.
	* gm2/gm2-libs-iso/ConvStringLong.mod:  new file.
	* gm2/gm2-libs-iso/ConvStringReal.mod:  fixed bugs.
	* gm2/gm2-libs-iso/LongConv.def:  tidied up comments.
	* gm2/gm2-libs-iso/LongConv.mod:  new file.
	* gm2/gm2-libs-iso/LongStr.def:  tidied up comments.
	* gm2/gm2-libs-iso/LongStr.mod:  new file.
	* gm2-libs-iso/README.texi:  updated list of
	  completed modules.
	* gm2/gm2-libs-iso/RealStr.def:  tidied up comments.
	* gm2/Make-lang.in:  added ConvStringLong.mod,
	  LongConv.mod, LongMath.mod, LongStr.mod to be
	  built and installed.
	* gm2/gm2-libs/StringConvert.mod:  skip leading zeros.

2009-02-15       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-iso/ConvStringReal.mod:  fixed comment.
	* gm2/gm2-libs-iso/RTio.def:  corrected return type
	  of GetDevicePtr.

2009-02-14       Gaius Mulley <gaius@gnu.org>

        * gm2/gm2-compiler/M2GenGCC.def:  add comment about
	  including the nul in the number of bytes copied.
	* gm2/gm2-compiler/M2GenGCC.mod:  check if destination
	  array type has enough room to contain the nul and if
	  so increment the number of characters to be copied.
	* gm2/gm2-libs/FIO.def:  corrected return type of
	  FindPosition to be LONGINT.
	* gm2/gm2-compiler/P2SymBuild.mod:  added procedure
	  return type check between definition and implement
	  modules.
	* gm2/gm2-libs/FIO.def:  FindPosition returns LONGINT.
	* gm2/gm2-libs-pim/FloatingUtilities.mod:  Round
	  returns INTEGER and Roundl returns LONGINT.
	* gm2/gm2-libs-pim/FloatingUtilities.def:  Roundl
	  also returns LONGINT.

2009-02-13       Gaius Mulley <gaius@gnu.org>

	* gm2/gccgm2.c:  copy result of TREE_CODE into a variable
	  to aid debugging.
	* gm2/m2pp.c:  m2pp_constructor (new function).  Add
	  INIT_EXPR as a pseudoname for MODIFY_EXPR.
	* gm2/gm2-compiler/M2ALU.mod:  fixed off by one bug when
	  constructing array constants.
	* gm2/gm2-libs-ch/dtoa.c:  add '0' to the end of a copied
	  string of significant digits.

2009-02-04       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  modified include path when compiling
	  ldtoa.c and dtoa.c.
	* gm2/gccgm2.c:  gccgm2_ConvertString (new function).
	  gccgm2_BuildStringConstantType (new function).
	  Re-factored gccgm2_BuildString.
	* gm2/gm2-compiler/M2GenGCC.mod:  convert string
	  if used during a constant constructor.
	* gm2/gm2-compiler/gccgm2.def:  export ConvertString.
	* gm2/gm2-libs-ch/dtoa.c:  another new implementation,
	  this time based on snprintf (due to lack of portability)
	  with qecvt_r and qfcvt_r.
	* gm2/gm2-libs-ch/ldtoa.c:  another new implementation,
	  this time based on snprintf (due to lack of portability)
	  with qecvt_r and qfcvt_r.
	* gm2/gm2-libs/FIO.def:  modified FindPosition to return
	  LONGINT.
	* gm2/gm2-libs/FIO.mod:  changed data type of abspos to
	  LONGINT, to reflect change in FindPosition.

2009-02-01       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs/StringConvert.mod:  fixed carryOne
	  to allow the carry to correctly propagate to
	  the left most digit.

2009-01-31       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2/Make-lang.in:  new rules to build ldtoa.o
	  and dtoa.o.
        * gm2/gm2/gccgm2.c:  change boolean_to_unsigned to
	  boolean_enum_to_unsigned and alter implementation
	  accordingly.
	* gm2/gm2/gm2-libs/StringConvert.mod:  use new ldtoa
	  interface and fixed bugs in ToSigFigs.
	* gm2/gm2/gm2-libs/configure.in:  check for strtod
	  and strtold.
	* gm2/gm2/gm2-libs/dtoa.def:  remove unused
	  enumerated fields and modify procedure function
	  names and parameters in light of the new dtoa
	  implementation.
	* gm2/gm2/gm2-libs/gm2-libs-host.h.in:  add entries
	  for HAVE_STRTOD and HAVE_STRTOLD.
	* gm2/gm2/gm2-libs/ldtoa.def:  remove unused
	  enumerated fields and modify procedure function
	  names and parameters in light of the new ldtoa
	  implementation.
	* gm2/gm2/gm2-libs-ch/dtoa.c:  new implementation
	  (GPL) based on libc strtod, ecvt and fcvt.
	* gm2/gm2/gm2-libs-ch/ldtoa.c:  new implementation
	  (GPL) based on libc strtold, qecvt and qfcvt.
	* gm2/gm2/gm2-libs-iso/ConvStringReal.def:  changed
	  procedure function name.
	* gm2/gm2/gm2-libs-iso/ConvStringReal.mod:
	  fixed many bugs in the three real conversion
	  routines.
	* gm2/gm2/gm2-libs-iso/RealConv.mod:  use new procedure
	  function name and modify parameters.
	* gm2/gm2-libs-ch/dtoa.c:  added GPL header.
	* gm2/gm2-libs-ch/ldtoa.c:  added GPL header.
	* gm2/gm2-libs-iso/RealStr.mod:  fixed more bugs.
	* gm2/Make-lang.in:  added RealStr.mod to list of
	  completed ISO modules.
	* gm2/gm2-libs-iso/README.texi:  added RealStr to
	  list of documented modules.

2009-01-26       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GenGCC.mod:  improved error
	  message and use MetaError rather than ErrorStringAt.

2009-01-21       Gaius Mulley <gaius@gnu.org>

	* gm2/gccgm2.c:  boolean_to_unsigned changed to
	  boolean_enum_to_unsigned and modified accordingly.
	  Call boolean_enum_to_unsigned in comparison build
	  functions.
	* gm2/gm2.texi:  minor word change.
	* gm2/gm2-compiler/M2Quads.mod:  removed redundant
	  import.
	* gm2-libs-iso/SWholeIO.def:  tidied up comments
	  to fix normal page and screen width.

2009-01-20       Michael Lambert <lambert@psc.edu>

        * gm2/gm2-libs-iso/SWholeIO.mod:  (new file).
	* gm2/gm2-libs-iso/README.texi:  updated complete
	  module list.
	* gm2/Make-lang.in:  add SWholeIO.mod to the list
	  of iso modules to be compiled (GM2-LIBS-ISO-MODS).

2009-01-20       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-iso/Strings.mod:  Insert (reimplemented).

2009-01-16       Gaius Mulley <gaius@gnu.org>

	* gm2/configure.in:  corrected version to 0.68
	* gm2/gccgm2.c:  added prototypes for gccgm2_BuildCmplx,
	  gccgm2_BuildIm and gccgm2_BuildRe.  gccgm2_BuildCmplx
	  detect constant operands or variable operands and skip
	  type decl.
	* gm2/gm2-compiler/M2Base.mod:  ScalarToComplex
	  return Complex even if error discovered.
	* gm2/gm2-compiler/M2Quads.mod:  check compatibility of
	  CMPLX operands and assign return value type for
	  CMPLX based on the operand types rather than CType.
	* gm2/configure.in:  added rule to detect the presence of
	  flex.
	* gm2/gccgm2.c:  gccgm2_BuildComplex test and convert
	  operands if necessary.

2009-01-14       Gaius Mulley <gaius@gnu.org>

	* new files RealStr.mod, ConvStringReal.def and
	  ConvStringReal.mod.
	* gm2/gm2-compiler/M2ALU.def:  IsValueConst (new function).
	* gm2/gm2-compiler/M2ALU.mod:  GetConstructorField return
	  symbol rather than Tree.  Add areAllConstants field
	  to a constructor value.  IsValueConst (implement new
	  function).  ConvertConstToType (new function).
        * gm2/gm2-compiler/M2GCCDeclare.def:  DeclareConstructor
	  (new procedure).
	* gm2/gm2-compiler/M2GCCDeclare.mod:  DeclareConstructor
	  (implement new procedure).
	* gm2/gm2-compiler/M2GenGCC.def:  DoCopyString exported.
	* gm2/gm2-compiler/M2GenGCC.mod:  call DeclareConstructor
	  before it is used.  Also check to see that Composite
	  types do not occur in expressions.
	* gm2/gm2-compiler/M2Quads.mod:  modified to allow non
	  constant constructors to be used.  General tidying up.
	* gm2/gm2-compiler/M2Range.mod:  call DeclareConstructor
	  before possible assignment of constructor.
	* gm2/gm2-compiler/SymbolTable.def:  IsConstructorConstant
	  (new procedure).  IsComposite (new procedure).
	* gm2/gm2-compiler/SymbolTable.mod:  IsConst checks to
	  see if the constructor is constant.  IsConstructorConstant
	  (implement new procedure).  IsComposite (implement new
	  procedure).
	* gm2/gm2-libs-iso/RealConv.mod:  reimplemented using
	  ConvStringReal.
	* gm2/gm2-compiler/M2ALU.mod:  DefinedByConstants (new
	  procedure),  arrayConstants (new procedure),
	  fieldsConstant (new procedure) and rangeConstant
	  (new procedure).
	* gm2/gm2.texi:  add information about the flag -g.
	
2009-01-13       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  only copy SYSTEM.def from the
	  build directory.  Add ConvStringReal.mod to the list
	  of ISO modules.

2009-01-10       Gaius Mulley <gaius@gnu.org>

	* gm2/gccgm2.c:  gccgm2_AreRealOrComplexConstantsEqual
	  (new function).  Call gccgm2_FoldAndStrip in BuildCmplx.
	* gm2/gm2-compiler/M2ALU.def:  IsValueTypeComplex (new
	  procedure).  PushComplexTree (new procedure).
	  PopComplexTree (new procedure).
	* gm2/gm2-compiler/M2ALU.mod:  EitherComplex (new
	  procedure).  ComplexAdd (new procedure).
	  ComplexSub (new procedure).  ComplexMult (new
	  procedure).  ComplexDiv (new procedure).
	* gm2/gm2-compiler/M2GCCDeclare.mod:  DeclareConstant
	  test for type COMPLEX and call M2ALU.PopComplexTree.
	* gm2/gm2-compiler/M2GenGCC.mod:  FoldBecomes
	  check IsValueTypeComplex and call PopComplexTree if
	  necessary.
	* gm2/gm2-compiler/SymbolConversion.mod:  AddModGcc
	  check for COMPLEX constant and push the appropriate
	  tree.
	* gm2/gm2-compiler/gccgm2.def:  AreRealOrComplexConstantsEqual
	  (new procedure).
	
2009-01-09       Gaius Mulley <gaius@gnu.org>

	* gm2/gccgm2.c:  fixed gccgm2_BuildRe, gccgm2_BuildIm
	  to detect constants.
	* gm2/gm2.texi:  added new section Build GNU Modula-2
	  from source under GNU/Linux.  Added SHELL=/bin/bash.
	  Also added GM2_ROOT in moving installation example.
	* gm2/gm2-compiler/M2Base.mod:  MixTypes detects
	  COMPLEX.
	* gm2/gm2-libs-iso/RealStr.def:  tidied up comments.
	* gm2/gm2.texi:  minor fixes.

2009-01-08       Gaius Mulley <gaius@gnu.org>

	* gm2spec.c:  improved debugging arg dumps and also
	  fixed bug (ignore a NULL string if it requested
	  to be added to the command line).
	* gm2/gm2.texi:  corrected word.
	* gm2/gm2-compiler/M2GenGCC.mod:  FoldUnary skips type
	  when checking for ZType, RType or CType constants.

2009-01-07       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2.texi:  corrected GM2ROOT to GM2_ROOT.
	* gm2/gm2spec.c:  corrected GM2ROOT to GM2_ROOT and
	  pass old PATH appended to the new PATH.
	* gm2/gm2spec.c:  only issue a warning message if
	  -fmakeall0 is not present on the command line.
	* gm2/gm2spec.c:  reset loop iterator variable.

2009-01-06       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2spec.c:  introduced GM2_ROOT environment
	  variable which can override the --prefix option
	  given to configure.
	* gm2/gm2spec.c:  commented new functions.
	* gm2/gm2spec.c:  introduced GM2IPATH and GM2OPATH
	  environment variables.
	* gm2/gm2.texi:  documented all new environment
	  variables.

2009-01-05       Gaius Mulley <gaius@gnu.org>

        * gm2/gm2-compiler/M2Base.mod:  IsComplesType includes
	  CType.
	* gm2/gm2-compiler/M2GenGCC.mod:  FoldUnary detects
	  whether a complex type constant is being used and
	  casts it to the CType.

2009-01-03       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Base.mod:  extended FindMetaType
	  to detect CType constants.  Extended assignment,
	  expression and parameter matrices to contain the
	  complex family of types.
	* testsuite/gm2/complex/pass/arith.mod and
          testsuite/gm2/complex/pass/arith2.mod new files.

2009-01-02       Gaius Mulley <gaius@gnu.org>

        * gm2/gccgm2.c:  added m2_complex_type_node,
	  m2_long_complex_type_node, m2_short_complex_node,
	  m2_c_type_node, m2_complex32_type_node,
	  m2_complex64_type_node,
	  m2_complex96_type_node,
          m2_complex128_type_node,
	  build_m2_complex32_type_node,
          build_m2_complex64_type_node,
	  build_m2_complex96_type_node,
	  build_m2_complex128_type_node,
	  gccgm2_GetM2Complex32,
          gccgm2_GetM2Complex64,
          gccgm2_GetM2Complex96,
          gccgm2_GetM2Complex128,
          build_m2_complex_type_node,
          build_m2_long_complex_type_node,
          build_m2_short_complex_type_node,
          build_m2_complex_type_from,
          gccgm2_GetM2ComplexType,
          gccgm2_GetM2LongComplexType,
          gccgm2_GetM2ShortComplexType,
          gccgm2_GetM2CType, gccgm2_BuildRe,
          gccgm2_BuildIm and gccgm2_BuildCmplx.
	* gm2/el/g-mode.el:  updated dates.
	* gm2/gm2-compiler/M2Base.def:  added Complex,
	  LongComplex, ShortComplex, IsAComplexType,
	  GetCmplxReturnType, ComplexToScalar and
	  ScalarToComplex.
	* gm2/gm2-compiler/M2Base.mod:  create and
	  implement CType, Complex, LongComplex,
	  ShortComplex, Re, Im, Cmplx.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  declare
	  COMPLEX, LONGCOMPLEX, SHORTCOMPLEX, COMPLEX32,
	  COMPLEX64, COMPLEX96 and COMPLEX128.
	* gm2/gm2-compiler/M2GenGCC.mod:  implement
	  IM, RE and CMPLX as standard functions and
	  attempt to fold them if possible.
	* gm2/gm2-compiler/M2Quads.mod:  BuildReFunction
	  BuildImFunction, BuildCmplxFunction (new functions).
	* gm2/gm2-compiler/M2System.def:  define IsComplexN
	  and ComplexN.
	* gm2/gm2-compiler/M2System.mod:  declare COMPLEX32,
	  COMPLEX64, COMPLEX96, COMPLEX128.  New functions:
	  ComplexN, IsComplexN.
	* gm2/gm2-compiler/SymbolTable.def:  define Make2Tuple.
	* gm2/gm2-compiler/SymbolTable.mod:  implement Make2Tuple.
	* gm2/gm2-compiler/gccgm2.def:  define BuildRe, BuildIm,
	  BuildCmplx, GetM2ComplexType, GetM2LongComplexType,
          GetM2ShortComplexType, GetM2CType, GetM2Complex32,
          GetM2Complex64, GetM2Complex96 and GetM2Complex128.
	* gm2/gm2.texi:  updated documentation to include
	  new complex types and their C equivalence.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  import IsObject
	  and IsTuple and extend the interactive debugging
	  procedure PrintVerbose.
	* gm2/gm2-compiler/M2GenGCC.mod:  attempt to declare
	  constants prior to attempting to use them during
	  FoldStandardFunction.  Fix bug when passing types of
	  operands to GetCmplxReturnType.
	* gm2/gm2-compiler/M2Quads.mod:  added missing line
	  to BuildCmplx and fixed ISO error message in light
	  of additional constant functions.
	* gm2/gm2-compiler/M2Range.mod:  make sure that
	  GetMinMax returns FALSE if a complex type is seen.
	* gm2/gm2-compiler/SymbolTable.def:  export IsObject
	  and IsTuple.
	* gm2/gm2-compiler/SymbolTable.mod:  implement
	  IsTuple.  Fixed bug in Make2Tuple and corrected
	  error message.
	
2009-01-02       Michael Lambert <lambert@psc.edu>

	* gm2/Make-lang.in:  patch to build dtoa and ldtoa
	  for gm2.paranoid.

2008-12-31       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-ch/dtoa.c:  new file.
	* gm2/gm2-libs-ch/ldtoa.c:  new file.
	* gm2/gm2-libs/dtoa.def:  new file.
	* gm2/gm2-libs/ldtoa.def:  new file.
	* gm2/gm2-libs/StringConvert.mod:  removed call to free.
	* gm2/gm2-libs-iso/RealConv.mod:  reimplemented
	  conversion routines using dtoa rather than
	  StringConvert.
	* gm2/gm2-compiler/M2Quads.mod:  fixed bug reported by
	  John O Goyo <jgoyo@ca.inter.net> set expressions using
	  / did not reduce to xor.  Confusion between DivTok (DIV)
	  and DivideTok (/) tokens.
	* testsuite/gm2/pim/run/pass/bitsettest.def:  new file.
	* testsuite/gm2/pim/run/pass/bitsettest.mod:  new file to
	  test this bugfix never regresses.
	* gm2/Make-file.in:  added dtoa.def and ldtoa.def to the
	  list of definition modules in GM2-LIBS-BOOT-DEFS and
	  GM2-LIBS-DEFS.

2008-12-30       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  modified SO, SO_O2 to contain -fPIC.
	  Added dtoa.c and ldtoa.c.
	* gm2/gm2-libs/StringConvert.mod:  corrected dates.
	* gm2/gm2-libs/errno.def:  added ERANGE.
	* gm2/gm2-libs-iso/README.texi:  added RealConv to list
	  of completed modules.
	* gm2/init/gm2-gccinit:  added dtoa and ldtoa.
	* gm2/init/gm2lccinit:  added dtoa and ldtoa.
	* gm2/init/gm2lgeninit:  added dtoa and ldtoa.
	* gm2/init/gm2linit:  added dtoa and ldtoa.
	* gm2/init/gm2lorderinit:  added dtoa and ldtoa.
	* gm2/init/gm2minit:  added dtoa and ldtoa.
	* gm2/init/h2definit:  added dtoa and ldtoa.
	* gm2/gm2-libs/StringConvert.mod:  replaced
	  implementation of LongrealToString with a call
	  to ldtoa.  Replaced implementation with a call
	  to strtold.
	* all regression tests pass on LP64.
	
2008-12-19       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs/StringConvert.mod:  used powl instead
	  of exp10l due to portability issues.
	
2008-12-18       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2/Make-lang.in:  RealConv.mod new file.
	* gm2/gm2/gm2builtins.c:  added __builtin_log10f,
	  __builtin_log10 and __builtin_log10l.
	* gm2-libs/Builtins.def:  added definitions for
	  log10f, log10, log10l, exp10f, exp10, exp10l.
	* gm2-libs/Builtins.mod:  new functions
	  log10f, log10, log10l, exp10f, exp10, exp10l.
	* gm2/gm2-compiler/M2Quads.mod:  migrated more error
	  messages to use M2MetaError and also made
	  BuildTruncFunction recover if operands are the wrong type.
	* gm2/gm2-libs/StringConvert.def:  ToSigFig new function.
	* gm2/gm2-libs/StringConvert.mod:  refactored to use IsDigit.
	  Implemented ToSigFig.  StringToLongreal improved to
	  minimise floating point operators.  LongrealToString
	  now allows TotalWidth of zero in which case it keeps
	  converting until the precision is exhausted.
	* gm2/gm2-libs/cbuiltin.def:  new definitions log10f,
	  log10, log10l, exp10, exp10l, exp10f.
	* gm2/gm2-libs/libm.def:  new definitions exp10, exp10l,
	  exp10f.
	* gm2/Make-lang.in:  added -lm to all stage1 executables.
	* gm2/gm2spec.c:  added MATH_LIBRARY to the list
	  of base libraries on the final link command.
	* gm2/gm2-libs/StringConvert.mod:  added forward declaration
          to help p2c.

2008-12-15       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs/MathLib0.def:  included definitions for
	  expl, lnl, tanl, arctanl.
	* gm2/gm2-libs/MathLib0.mod:  implemented above functions
	  and also modified logs to use libm.logf, tanl to use
	  libm.tanl, arctans to use libm.atanf and arctanl to
	  use libm.atanl.

2008-12-13       Gaius Mulley <gaius@gnu.org>

	* testsuite/gm2/pimlib/logitech/run/pass
	  added runtime tests to check the values of REAL and
	  LONGREALs once converted.
	* gm2/gm2-libs/FormatStrings.mod:  tidied up comments.
	* gm2/gm2-libs/MathLib0.def:  entierl (new function).
	* gm2/gm2-libs/MathLib0.mod:  entierl implement
	  (new function).
	* gm2/gm2-libs/StringConvert.def:  added example of
	  use to the comments.
	* gm2/gm2-libs/StringConvert.mod:  DetermineSafeTruncation
	  tidied up comments and added examples, fixed bugs.
	* gm2/gm2-libs-pim/RealConversions.def:  tided up comments
	  and added examples.  LongRealToString and ReadToString
	  now take an INTEGER width which matches the Logitech
	  definitions.
	* gm2/gm2-libs-pim/RealConversions.mod:  RealToString and
	  LongRealToString modified width parameter to take an INTEGER.
	  Reimplemented much of LongRealToString and altered its
	  definition to make it simpler to use.

2008-12-05       Gaius Mulley <gaius@gnu.org>

	* fixed bug reported by Steve Giess <scgiess@hotmail.com>
	  which showed const+realvar was not converted to the
	  required REAL/LONGREAL/SHORTREAL type when passed
	  to a procedure.
	* gm2/gm2-compiler/M2GenGCC.mod:  ensure that actual
	  parameter are converted to formal parameter types if
	  they are a member of the real type family.
	* testsuite/gm2/pim/run/pass/mathconst.mod:  new file.
	* testsuite/gm2/pim/run/pass/math.mod:  new file.
	* testsuite/gm2/pim/run/pass/math2.mod:  new file.
	* gm2/gm2-compiler/M2Base.mod:  fixed MixTypes to
	  handle expressions of RType and (REAL|SHORTREAL|LONGREAL).

2008-12-01       "Nestor" <nestorac@gmail.com>

	* gm2/gm2-libs/StringConvert.mod:  appended
	  string to leading zeros.

2008-11-28       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2spec.c:  insert option "-shared-libgcc" onto
	  command line to fix linking problem exposed Darwin.
	* gm2/Make-lang.in:  use g++ as the gm2cc linker.

2008-11-27       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Options.mod:  added ability for
	  the Modula-2 frontend to ignore -d options.  The -d
	  options are processed by gcc component of cc1gm2.
	* gm2/gm2.texi:  added -d to the list of supported
	  options.

2008-11-26       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  added cc1plus, cc1, cpp to the
	  list of executables to be installed as part of gm2.

2008-11-25       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  install all subsiduary binaries
	  into $(DESTDIR)$(libexecsubdir) instead of
          $(DESTDIR)$(libsubdir).

2008-11-24       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  prefixed invocation of makeversion
	  with /bin/bash.  Changed rule to build the paranoid version
	  of sckt.o.
	* gm2/gccgm2.c:  reset TYPE_SIZE when building PROCEDURE
	  types (this fixes a bug exposed by WholeConv.mod).
	  PROCEDURE type variables were not allocated any space.
	  General tidying up.
	* gm2/m2pp.c:  detect and avoid print out recursive data
	  structures.  Added function types to be printed.
	* gm2/gm2-compiler/M2Base.mod:  completed type checking code
	  to ensure that procedure types are fully type checked.
	* gm2/gm2-compiler/M2MetaError.mod:  added test against NulSym.
        * gm2/gm2-compiler/M2Quads.mod:  added call to MetaWarnings2.
	* gm2/gm2-compiler/M2Range.mod:  tided up error messages if
	  the procedure type causes a type mismatch.
	* gm2/gm2-libs-iso/WholeConv.mod:  rewritten ValueInt and
	  ValueCard.
	
2008-11-12       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-iso/WholeConv.mod:  finished implementation
	  module.
	* gm2/gm2-libs-iso/WholeStr.mod:  finished implementation
	  module.
	* gm2/gm2-libs-iso/WholeIO.mod:  finished implementation
	  module.
	* gm2/Make-lang.in:  added WholeConv.mod, WholeStr.mod
	  and WholeIO.mod to the list of ISO modules to be built
	  and installed.
	* gm2/gm2-libs-iso/README.texi:  updated list of completed
	  modules.
	* gm2/Make-lang.in:  added cc1plus to the tools to be
	  installed as part of gm2.
	* gm2/gm2.texi:  new section written explaining how
	  to move an entire installation to a new directory.
	* gm2/README:  updated download instructions and
	  mentioned that the compiler may now be moved.

2008-11-11       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2spec.c:  modified add_default_directories
	  to use a default_library_path.  lang_specific_driver
	  sets the default_library_path to getenv LIBRARY_PATH
	  or failing that to the LIBSUBDIR as determined by
	  configure.

2008-11-10       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-iso/README.texi:  added RndFile
	  to the list of completed implementation modules.
	  Removed duplicate StreamFile.
	* gm2/gm2-libs-iso/RndFile.def:  tidied up comments.
	  Set FilePosSize to SIZE(LONGINT) and
	  FilePos = LONGINT.
	* gm2/gm2-libs-iso/Storage.mod:  tidied up spaces.
	* gm2/tools-src/makeversion:  added gm2_version
	  prototype.
	* gm2/gm2-libs-iso/RndFile.mod:  new file.

2008-11-08       Gaius Mulley <gaius@gnu.org>

	* gm2/ChangeLog:  
	* gm2/examples/svga/DisplayBuffer.def:  tidied up
	  spacing.
	* gm2/examples/svga/Matrix3D.def:  tidied up
	  spacing.
	* gm2/examples/svga/Matrix3D.mod:  tidied up
	  spacing.
	* gm2/examples/svga/Transform.def:  tidied up
	  spacing.
	* gm2/gm2-compiler/SymbolTable.mod:  introduced
	  test to make it more robust in the face of
	  erroneous code.

2008-11-08       Michael Lambert <lambert@psc.edu>

        * testsuite/gm2/iso/pass/realbitscast.mod:  added test
	  against __LP64__.
	* testsuite/gm2/cpp/pass/subaddr.mod:  added test
	  against __LP64__.

2008-11-07       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  new rules to make gm2version.c
	  and M2Version.mod.  New rule to compile gm2version.c
	  and modified link of xgm2 to include gm2version.o
	* gm2/gm2.texi:  removed entry to h2def.texi.
	* gm2/gm2spec.c:  detect --version or -fversion and
	  call gm2_version.
	* gm2/lang-options.h:  add new options --version and
	  -fversion.
	* gm2/lang.opt:  add new options --version and
	  -fversion.
	* gm2/gm2-compiler/M2Options.mod:  display version
	  in cc1gm2.
	* tools-src/makeversion:  rewriten.
	* gm2/gm2-compiler/M2Options.mod:  corrected licence
	  version.
	* gm2/gm2/gm2-libs-ch/sckt.c:  removed include to
	  stdio.h.
	* gm2/gm2spec.c:  added test for source file and only
	  enable linking if the source file found.
	* gm2/gm2-libs-host.h.in:  added HAVE_NETINET_IN_H
	  and HAVE_NETDB_H macros.
	* gm2/gm2-libs/configure.in:  added tests for netinet/in.h
	  netdb.h.  Updated the version number and email address.
	* gm2/gm2-libs/configure:  rebuilt.
	* gm2/Make-lang.in:  added version.texi to the list of texi
	  files.
	* gm2/gm2.texi:  include version.texi.
	* gm2/tools-src/makeversion:  added -t argument and made it
	  test the version number in gm2/gm2-libs/configure.in.
	
2008-11-05       Gaius Mulley <gaius@gnu.org>

	* gm2/www/index.ms:  reworded some of the FAQs.
	* gm2/gm2.texi:  fixed spacing
	* testsuite/gm2/pim/options/optimize/run/pass/testadd.mod:
	  fixed dates.
	* testsuite/gm2/pim/options/optimize/run/pass/gm2.exp:
	  fixed link command.
	* testsuite/gm2/pim/options/optimize/run/pass/addition.mod:
	  fixed dates.
        * testsuite/gm2/pim/options/optimize/run/pass/addition.def:
	  fixed dates.
        * lib/gm2.exp:  fixed ability to configure link path -L.
        * lib/gm2-torture.exp:  fixed ability to configure link
	  path -L.

2008-11-04       Gaius Mulley <gaius@gnu.org>

	* All regression tests pass on LP64 Athlon Debian
	  Etch.
	* gm2/gccgm2.c:  gccgm2_BuildArray (new function).
	  build_unary_op changed to handle Modula-2 array
	  arithemetic rather than C pointer and indice
	  computations.
	* gm2/m2pp.c:  m2pp_array_type (new function).
	* gm2/gm2-compiler/Lists.mod:  tidied up spacing.
	* gm2/gm2-compiler/M2GenGCC.mod:  CodeArray (new
	  procedure).  FoldBase and CodeBase removed.
	* gm2/gm2-compiler/M2Quads.def:  ArrayOp replaces
	  BaseOp.
	* gm2/gm2-compiler/M2Quads.mod:  ArrayOp replaces
	  BaseOp.  BuildStaticArray is reimplemented using
	  ArrayOp.
	* gm2/gm2-compiler/M2SubExp.mod:  ArrayOp replaces
	  BaseOp.
	* gm2/gm2-compiler/SymbolTable.mod:  modifications
	  to the debugging hooks.
	* gm2/gm2-compiler/gccgm2.def:  BuildArray (new
	  definition).
	* gm2/gm2-libs/FIO.mod:  tab space changes.	
	* gm2/www/index.ms:  FAQ (new section).

2008-11-03       Gaius Mulley <gaius@gnu.org>

	* Cygwin port builds and installs.
	* gm2/lang.opt:  add -idirafter option which is used
	  by the preprocessor.
	* gm2/gm2.texi:  improved the cygwin build section.
	* gm2/www/index.ms:  updated web pages
	* gm2/gm2.texi:  modified version-GM2 to 0.68 to
	  reflect the version number in the CVS being worked
	  upon.
	* gm2/Make-lang.in:  modified GM2-VERSION to 0.68 to
	  reflect the version number in the CVS being worked
	  upon.

2008-11-02       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2/Make-lang.in:  removed $(exeext) from all
	  transformed names.
	* gm2/gm2/gm2spec.c:  append libraries at the end of the
	  command line rather than at the beginning.  Only add
	  -lgcc_eh if ENABLE_SHARED_LIBGCC is defined.
	* gm2/ulm-lib-gm2/sys/termios.c:  added prototype for
	  _M2_termios_finish.
	* gm2/gm2/gm2spec.c:  removed test line.
	* gm2/examples/hello/Makefile:  clean removes a.exe
	
2008-10-29       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GCCDeclare.mod:  fixed bug in
	  DeclareDefaultType which caused a segfault when using
	  BITSET8, BITSET16, BITSET32 (reported by Scott Iverson).
	  The set type was incorrectly declared as a subrange.
	* gm2/gm2-compiler/SymbolTable.mod:  tidied up more
	  error messages.
	* gm2/gm2-compiler/M2Quads.mod:  moved the assignment
	  check after the BecomesOp, to ensure that during
	  code generation we can check the types after a
	  constant designator has been resolved.

2008-10-28       Gaius Mulley <gaius@gnu.org>

	* gm2/gccgm2.c:  BuildArrayStringConstructor (new function).
	* gm2/gm2-compiler/M2GenGCC.mod:  DoCopyString remove
	  redundant parameter.  BuildReturnValue check to see whether
	  we are returning a constant string and if so call
	  BuildArrayStringConstructor.
	* gm2/gm2-compiler/M2LexBuf.mod:  add Assert to ensure
	  that the CurrentTokeNo>=ListOfTokens.LastBucketOffset.
	* gm2/gm2-compiler/M2Quads.mod:  revoke yesterdays
	  changes to this file in an attempt to allow GM2/GCC
	  to propagate the constant string further.
	* gm2/gm2-compiler/gccgm2.def:  add
	  BuildArrayStringConstructor to definition module.
	* gm2/gm2-compiler/M2LexBuf.mod:  UpdateFromBucket (new
	  function).  GetToken uses UpdateFromBucket and fixes
	  a buffer overrun bug reported by Scott Robinson.

2008-10-27       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Quads.mod:  modified BuildReturn
	  so that string constants can be returned from
	  functions with static array return types.
	* testsuite/gm2/pim/pass/testreturnstr.mod:  (new file).
	* testsuite/gm2/pim/run/pass/testreturnstr.mod:  (new file).
	* testsuite/gm2/pim/run/pass/testreturnstr2.mod:  (new file).

2008-10-26       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-iso/LongMath.mod:  tidied up comments.
	* gm2/gm2-libs-iso/README.texi:  brought list of
	  completed ISO modules up to date.
	* gm2/NEWS:  document 0.68 changes in readiness
	  for a release.
	* gm2/gm2.texi:  (Building GNU Modula-2 under Cygwin)
	  new section.  Tidied up some text.
	* gm2/gm2-compiler/M2Quads.mod:  corrected SIZE
	  to return ZType constant rather than CARDINAL constant.
	* gm2/gm2-libs/SYSTEM.def:  corrected definition
	  of SIZE.
	* gm2/gm2-compiler/M2System.mod:  corrected definition
	  of ADDRESS so that it can be dereferenced.  Fixed import
	  of ZType.
	* gm2/gm2-compiler/SymbolTable.mod:  improved some error
	  messages by using M2MetaError.  Corrected dates.

2008-10-25       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2spec.c:  (add_exec_dir) new function,
	  add new function to list of gm2 spec functions.
	* gm2/lang-specs.h:  use exec_prefix to find
	  the executable cc1 when -fcpp is specified on the
	  command line.
	* gm2/examples/swig/strlen:  StrLib.def StrLib.i
	  removed both files.
	* gm2/patches/gcc/4.1.2/05.gaius_patch_gcc:  new
	  patch file.

2008-10-24       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Quads.mod:  (EnsureImportedFrom)
	  replaced with (GetQualidentImport).  Fixes a bug
	  reported by Scott Iverson which was shown in
	  testsuite/gm2/isolib/run/pass/testappend.mod.
	  
2008-10-22       Michael Lambert <lambert@psc.edu>

	* testsuite/gm2/iso/pass/realbitscast.mod:  patch to
	  turn off 64 bit tests on an i386 and Apple OSX
	  combination.

2008-10-22       Gaius Mulley <gaius@gnu.org>

        * gm2/Make-lang.in:  include library build directory
	  when building gm2-libs-pim libraries.
	* gm2/gm2.texi:  corrected documentation to include
	  c++ in the list of languages needed to build GNU
	  Modula-2.
	* gm2/gm2-compiler/M2ALU.mod:  corrected four parameter
	  errors.
	* gm2/gm2-compiler/M2Base.def:  IsValidParameter new
	  procedure.
	* gm2/gm2-compiler/M2Base.mod:  IsValidParameter implement
	  it and produce better error messages.  Fixed parameter
	  compatibility between ZType and BYTE, WORD and ADDRESS.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  correct debugging
	  information.
	* gm2/gm2-compiler/M2MetaError.mod:  give ability of the
	  error routines to handle %N (count) and also only quote
	  symbol names.
	* gm2/gm2-compiler/M2Quads.mod:  produce range checks
	  for parameter passing.
	* gm2/gm2-compiler/M2Range.def:  InitTypesParameterCheck
	  modify parameters to fully specify which parameter,
	  procedure, formal, actual parameters are being checked.
	* gm2/gm2-compiler/M2Range.mod:  implement above.
	* gm2/gm2-compiler/M2Reserved.mod:  corrected parameter
	  passing to AddKeyword.
	* gm2/gm2-compiler/SymbolTable.def:  extended
	  IsNameAnonymous.
	* gm2/gm2-compiler/SymbolTable.mod:  extended
	  IsNameAnonymous.
	* gm2/gm2-compiler/gm2lorder.mod:  improved the help message.
	* gm2/gm2-libs/Debug.mod:  tidied up comments.
	* gm2/gm2-libs/M2RTS.mod:  corrected parameters.
	* gm2/gm2-libs/StrIO.def:  tidied up comments.
	* gm2/gm2-libs-iso/ClientSocket.mod:  corrected parameters.
	* gm2/gm2-libs-iso/M2EXCEPTION.mod:  corrected parameters.
	* gm2/gm2-libs-iso/M2RTS.mod:  corrected parameters.
	* gm2/gm2-libs-iso/ProgramArgs.mod:  corrected parameters.
	* gm2/gm2-libs-iso/RTgen.mod:  corrected parameters.
	* gm2/gm2-libs-iso/SeqFile.mod:  corrected parameters.
	* gm2/gm2-libs-iso/StreamFile.mod:  corrected parameters.
	* gm2/gm2-libs-pim/BitByteOps.mod:  corrected type changes
	  by using fixed sized types.
	* gm2/p2c/p2c-src/src/lex.c:  fixed bug when implementing
	  __FUNCTION__ in p2c.
	* gm2/ulm-lib-gm2/std/M2RTS.mod:  import RTExceptions to
	  aid linker.

2008-10-19       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Base.mod:  AttemptToCreateSetType
	  modified parameter name and altered calls to this
	  function accordingly.  Corrected set sized types.
	
2008-10-18       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2/m2.flex:  corrected dates.
	* gm2/gm2/gm2-compiler/M2Base.mod:  moved from M2Error
	  handling to M2MetaError handling.
	* gm2/gm2/gm2-compiler/M2GCCDeclare.mod:  moved from M2Error
	  handling to M2MetaError handling.
	* gm2/gm2/gm2-compiler/M2LexBuf.mod:  updated debugging
	  code.
	* gm2/gm2/gm2-compiler/M2MetaError.def:  MetaErrorString1,
	  MetaErrorString2, MetaErrorString3, MetaErrorStringT1,
	  MetaErrorStringT2, MetaErrorStringT3 (new procedures).
	* gm2/gm2/gm2-compiler/M2MetaError.mod:  MetaErrorString1,
	  MetaErrorString2, MetaErrorString3, MetaErrorStringT1,
	  MetaErrorStringT2, MetaErrorStringT3  (implemented
	  new procedures) and also the '!' operator and the '%n'
	  specifier.
	* gm2/gm2/gm2-compiler/M2Quads.mod:  migrated some of the
	  M2Error calls onto the new M2MetaError mechanism.
	* gm2/gm2/gm2-compiler/M2Range.mod:  moved from M2Error
	  handling to M2MetaError handling.
	* gm2/gm2/gm2-compiler/NameKey.mod:  corrected MakeKey
	  off by one error when comparing against HIGH(a).
	* gm2/gm2/gm2-compiler/P2SymBuild.mod:  removed
	  procedure CheckAnonymous.
	* gm2/gm2/gm2-compiler/SymbolTable.def:  added
	  procedure CheckAnonymous and IsNameAnonymous.
	* gm2/gm2/gm2-compiler/SymbolTable.mod:  implemented
	  CheckAnonymous and IsNameAnonymous.  Also implemented
	  PutConstVarTemporary and modified IsTemporary to
	  test whether constants are also temporary.
	* gm2/gm2/gm2-libs/DynamicStrings.mod:  fixed off by
	  one error in procedure, char.
	* gm2/gm2/Make-lang.in:  added LongMath.mod to the list
	  of ISO modules.
	* gm2/gm2/gm2-libs/libm.def:  export floor, floorl,
	  floorf, ceil, ceill and ceilf.
	* gm2/gm2/gm2-libs-iso/LongMath.def:  fixed dates.
	  Use exp and ln builtins.
	* gm2/gm2/gm2-libs-iso/LongMath.mod:  implement
	  builtins.  Finish non builtin equivalents of the
	  procedures.
	* gm2/gm2-compiler/M2Base.mod:  simplified expression
	  in IsBaseCompatible and corrected parameter type
	  matix (ZType and normint).
	
2008-10-15       Gaius Mulley <gaius@gnu.org>

        * gm2/M2MetaError.{def,mod}:  new files.
	* gm2/gm2/Make-lang.in:  added M2MetaError to be built.
	* gm2/gm2/gm2-compiler/Indexing.mod:  use casts when
	  assigning different pointers.
	* gm2/gm2/gm2-compiler/M2ALU.mod:  fixed return value
	  declaration in ToArrayValue.
	* gm2/gm2/gm2-compiler/M2MetaError.def:  export all
	  MetaError procedures.
	* gm2/gm2/gm2-compiler/M2MetaError.mod:  added end
	  of case delimiter.
	* gm2/gm2/gm2-compiler/M2Range.mod:  use MetaError
	  rather than M2Error.
	* gm2/gm2/gm2-libs/DynamicStrings.def:  corrected dates
	  and tidied up comments.
	* gm2/gm2/init/gm2-gccinit:  add M2MetaError to list
	  of modules to be linked.

2008-10-14       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  added RTExceptions.mod and
	  M2EXCEPTION.mod to the build list of Ulm libraries
	  as way of GNU Modula-2 compatible runtime support.
	* gm2/gccgm2.c:  fixed bug in gccgm2_DetermineSizeOfConstant
	  which incorrectly set needsUnsigned.
	* gm2/gm2-compiler/M2Base.mod:  correct order of meta type
	  testing.
	* gm2/gm2-compiler/M2Quads.mod:  doBuildAssignment (new
	  procedure).  Modified BuildAssignmentWithoutBounds to
	  use a parameter which determines whether type checking
	  should be done.
	* gm2/gm2-compiler/M2System.mod:  corrected 'SET' with
	  'BITSET' in fixed sized data type procedure.
	* gm2/gm2-libs-pim/BitBlockOps.mod:  corrected pointer
	  type casts.
	* gm2/gm2-libs-pim/BlockOps.mod:  corrected pointer
	  type casts.
	* gm2/gm2-libs-pim/Termbase.mod:  corrected assignment
	  typo caught by new stronger type checking.
	* gm2/gm2-compiler/M2Base.mod:  correct bug to test
	  whether the types pointer to are the same.  MixTypes
	  skips over type symbols.
	* gm2/gm2-compiler/M2Quads.mod:  CheckReturnType (new
	  procedure).   BuildFunctionReturn uses CheckReturnType.
	* gm2/gm2-compiler/M2Range.mod:  generates return type
	  error messages if, des, is a procedure.
	* gm2/gm2-compiler/SymbolTable.mod:  added debugging.
	* gm2/gm2-libs-iso/IOChan.mod:  fixed wrong enumeration
	  bug, uncovered by new stricter assignment checks.
	* gm2/gm2-libs-iso/StdChans.mod:  fixed wrong enumeration
	  bug, uncovered by new stricter assignment checks.

2008-10-13       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  modified rule to build ISO C files.
	* gm2/NEWS:  updated to include implementation of
	  exception handling and swig.
	* gm2/gm2-libs-coroutines/SYSTEM.mod:  corrected dates
	  and removed redundant return value from printf.
	* gm2/gm2-libs-coroutines/SysVec.mod:  corrected dates
	  and removed redundant return value from printf.
	* gm2/gm2-libs-coroutines/testiotransfer.mod:  removed
	  redundant return value from printf.
	* gm2/gm2-libs-coroutines/testtransfer.mod:  removed
	  redundant return value from printf.
	* gm2/gm2-libs-iso/ErrnoCategory.c:  include <p2c/p2c.h>
	  rather than <stdio.h>.
	* gm2/gm2-libs-iso/WholeConv.mod:  intemediate checkin.
	* gm2/gm2-libs-iso/WholeStr.def:  corrected dates and
	  tidied up comments.
	* gm2/gm2-libs-iso/wrapsock.c:  remove include <stdio.h>
	* gm2/gm2-libs-pim/RealConversions.mod:  removed
	  redundant return value from printf.
	* gm2/gm2-compiler/M2BasicBlock.mod:  removed unnecessary
	  import.
	* gm2/gm2-compiler/M2Code.mod:  call SetPassToCodeGeneration.
	* gm2/gm2-compiler/M2Range.def:  introduce
	  InitTypesParameterCheck.
	* gm2/gm2-compiler/M2Range.mod:  implement InitTypesParameterCheck.
	* gm2/gm2-libs-iso/WholeStr.def:  tidied up comments.

2008-10-11       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2/gccgm2.c:  removed STRIP_NOPS from FoldAndStrip.
	* gm2/gm2/bnf/gm2l.bnf:  InitStopSet changed to reflect p2c
	  corrections to INCL and EXCL.
	* gm2/gm2/bnf/gm2m.bnf:  InitStopSet changed to reflect p2c
	  corrections to INCL and EXCL.
	* gm2/gm2/gm2-compiler/M2Base.def:  CannotCheckTypeInPass3,
	  ExceptionIncl, ExceptionExcl new procedures.
	* gm2/gm2/gm2-compiler/M2Base.mod:  CannotCheckTypeInPass3,
	  ExceptionIncl, ExceptionExcl implemented.
	* gm2/gm2/gm2-compiler/M2Code.mod:  call ResolveConstructorTypes.
	* gm2/gm2/gm2-compiler/M2Pass.def:  corrected dates.
	* gm2/gm2/gm2-compiler/M2Quads.mod:  introduced additional
	  range check markers to check type compatibility post pass 3.
	  Removes many ugly hacks and makes type checking more resiliant.
	* gm2/gm2/gm2-compiler/M2Range.def:  InitInclCheck, InitExclCheck,
          InitTypesAssignmentCheck, InitTypesExpressionnCheck new
	  procedures.
	* gm2/gm2/gm2-compiler/M2Range.mod:  InitInclCheck, InitExclCheck,
          InitTypesAssignmentCheck, InitTypesExpressionnCheck implement
	  these procedures and flush errors should a type check fail.
	* gm2/gm2/gm2-compiler/SymbolTable.def:  MakeTemporaryFromExpression,
          MakeTemporaryFromExpressions, PutConstructorFrom,
	  ResolveConstructorTypes new procedures.
	* gm2/gm2/gm2-compiler/SymbolTable.mod:  MakeTemporaryFromExpression,
          MakeTemporaryFromExpressions, PutConstructorFrom,
	  ResolveConstructorTypes implement these new procedures.
	* gm2/gm2/gm2-compiler/ppg.mod:  emit the stop subrange used to
	  build the set.
	* gm2/gm2/gm2-libs/M2RTS.def:  InclException, ExclException new
	  procedures.
	* gm2/gm2/gm2-libs/M2RTS.mod:  InclException, ExclException implement
	  new procedures.
	* gm2/gm2/gm2-libs-ch/sckt.c:  tidied up spacing.
	* gm2/gm2/gm2-libs-iso/M2EXCEPTION.def:  corrected dates.
	* gm2/gm2/gm2-libs-iso/M2RTS.def:  InclException, ExclException
	  new procedures.
	* gm2/gm2/gm2-libs-iso/M2RTS.mod:  InclException, ExclException
	  implement new procedures.
	* gm2/gm2/gm2-libs-iso/STextIO.mod:  corrected copyright notice.
	* gm2/gm2/gm2-libs-iso/TextIO.def:  tidied up comment.
	* gm2/gm2/gm2-libs-iso/WholeConv.def:  corrected dates and
	  tidied up long lines.
	* gm2/gm2/gm2-libs-pim/RealInOut.def:  tidied up spacing.
	* gm2/gm2/gm2-libs-pim/RealInOut.mod:  corrected dates.
	* gm2/gm2/p2c/p2c-src/src/decl.c:  added debugging.
	* gm2/gm2/p2c/p2c-src/src/funcs.c:  corrected INCL and EXCL
	  to subract low bound of subrange from bit value.
	* gm2/gm2/ulm-lib-gm2/std/M2RTS.mod:  InclException, ExclException
	  implement new procedures.
	
2008-10-11       Michael Lambert <lambert@psc.edu>

	* gm2/Make-lang.in:  set XGM2BUILD1 flags for
	  darwin, apple, i386 (leave out -gdwarf-2)

2008-10-07       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs/FIO.mod:  reintroduced
	  InstallTerminationProcedure as p2c does
	  not use FINALLY.  Thus a boottrap error
	  occurred when building gm2/gm2-auto/pg.

2008-10-03       Gaius Mulley <gaius@gnu.org>

	* gm2/examples/iso/socket/client.mod:  improved
	  example program.
	* gm2/gm2-libs/FIO.mod:  tidied up increment and
	  removed InstallTerminationProcedure as the
	  module uses FINALLY instead.
	* gm2/gm2-libs-iso/ClientSocket.mod:  bug fixes.
	* gm2/gm2-libs-iso/IOLink.mod:  UnMakeChan
	  call doFlush and doFree.
	* gm2/gm2-libs-iso/RTdata.mod:  fixed typo bug
	  md should be m.
	* gm2/gm2-libs-iso/RTfio.mod:  iserror must not
	  call EOF.
	* gm2/gm2-libs-iso/RTgen.mod:  checkPostRead call
	  checkErrno.  doLook call doUnReadChar.
	* gm2/gm2-libs-iso/wrapsock.c:  fixed
	  getPushBackChar and setPushBackChar.

2008-10-01       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-iso/ClientSocket.def:  new file.
	* gm2/gm2-libs-iso/ClientSocket.mod:  new file.
	* gm2/gm2-libs-iso/wrapsock.def:  new file.
	* gm2/gm2-libs-iso/wrapsock.c:  new file.
	* gm2/gm2-libs-iso/ChanConsts.h:  new file.
	* gm2/Make-lang.in:  added wrapsock.c to list of
	  GM2-LIBS-ISO-C files.  Also added ClientSocket.mod
	  to GM2-LIBS-ISO-MODS.
	* gm2/gm2-libs/sckt.def:  tidied up comments.
	* gm2/gm2-libs-iso/ErrnoCategory.c:  use ChanConsts.h.
	* gm2/gm2-libs-iso/SimpleCipher.def:  RemoveCipherLayer
	  new function and fixed destructors.
	* gm2/gm2-libs-iso/Strings.def:  tidied up comments.
	* gm2/examples/iso/socket/Makefile:  new file.
	* gm2/examples/iso/socket/client.mod:  new file.

2008-09-30       Gaius Mulley <gaius@gnu.org>

        * gm2/Make-lang.in:  added ProgramArgs, SimpleCipher,
	  RTData modules to be installed as part of the ISO
	  libraries.
        * gm2/TODO:  updated TODO with outstanding bugs.
        * gm2/gm2.texi:  updated modification date to reflect
	  new modules.
        * gm2/gm2-libs/Args.mod:  updated dates.
        * gm2/gm2-libs-iso/M2RTS.mod:  fixed bug regarding
	  whether an application is terminating.
        * gm2/gm2-libs-iso/ProgramArgs.def:  updated dates.
        * gm2/gm2-libs-iso/README.texi:  updated list of
	  completed modules and their licence.
        * gm2/gm2-libs-iso/RTgen.mod:  fixed bug when
	  examining pre read status.
        * gm2/gm2-libs-iso/RawIO.def:  tidied up comments.
        * gm2/gm2-libs-iso/RawIO.mod:  fixed read results
	  bug.
        * gm2/gm2-libs-iso/STextIO.mod:  tidied up comments.
        * gm2/gm2-libs-iso/SimpleCipher.{def,mod}:  new files.
	* gm2/gm2-libs-iso/ProgramArgs.mod:  new file.
	* gm2/examples/iso/hello:  new directory for example.
	* gm2/examples/iso/hello/hello.mod:  new file.
	* gm2/examples/iso/files:  new directory for example.
	* gm2/examples/iso/files/rot13.mod:  new file.

2008-09-25       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2spec.c:  add -lgcc_eh to the link command line.
	* gm2/Make-lang.in:  added many new implementation and
	  definition modules to be installed as part of the ISO
	  library.
	* gm2/TODO:  added more outstanding bug reports.
	* gm2/gm2-compiler/M2ALU.mod:  flush non recoverable
	  errors.  Fixed bug during generation of constant array
	  if the subrange was an enumerated type.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  fixed bug which
	  manifested itself if an implementation module imported
	  itself.  The symbols were not emitted and incorrectly
	  defined as extern.
	* gm2/gm2-compiler/M2GenGCC.mod:  added more error checking
	  when constructing HIGH.
	* gm2/gm2-compiler/M2Quads.mod:  fixed bug in HIGH if the
	  operand is a constant string which has been concatenated.
	* gm2/gm2-libs/FIO.def:  changed all seek positions to
	  LONGINT.
	* gm2/gm2-libs/FIO.mod:  (SetPositionFromEnd) new procedure.
	* gm2/gm2-libs/PushBackInput.def:  tidied up code.
	* gm2/gm2-libs/PushBackInput.mod:  tidied up comments.
	* gm2/gm2-libs/Selective.def:  tidied up comments.
	* gm2/gm2-libs/libc.def:  changed seek offset from INTEGER
	  to LONGINT.
	* gm2/gm2-libs-ch/libc.c:  changed seek long offset to
	  long int offset.
	* gm2/gm2-libs-iso/ErrnoCategory.c:  (GetOpenResults) new
	  procedure.
	* gm2/gm2-libs-iso/ErrnoCategory.def:  (GetOpenResults) new
	  procedure.
	* gm2/gm2-libs-iso/IOChan.def:  tidied up comments.
	* gm2/gm2-libs-iso/IOChan.mod:  major rewrite.
	* gm2/gm2-libs-iso/IOLink.def:  tidied up comments.
	* gm2/gm2-libs-iso/README.texi:  updated README with list
	  of completed modules.
	* gm2/gm2-libs-iso/RTio.def:  major rewrite.
	* gm2/gm2-libs-iso/RTio.mod:  major rewrite.
	* gm2/gm2-libs-iso/SeqFile.def:  tidied up comments.
	* gm2/gm2-libs-iso/SeqFile.mod:  major rewrite.
	* gm2/gm2-libs-iso/StdChans.def:  tidied up comments.
	* gm2/gm2-libs-iso/StdChans.mod:  major rewrite.
	* gm2/gm2-libs-iso/Storage.mod:  major rewrite using
	  RTentity.
	* gm2/gm2-libs-iso/StreamFile.def:  tidied up comments.
	* gm2/gm2-libs-iso/TextIO.def:  tidied up comments.
	* gm2/gm2-libs-iso/TextIO.mod:  major rewrite.
	* gm2/gm2-libs-pim/FileSystem.mod:  fixed calls to
	  lseek to use LONGCARD rather than CARDINAL.

2008-09-15       Gaius Mulley <gaius@gnu.org>

	* gm2/m2pp.c:  corrected prototypes and fixed format
	  specifier for snprintf.

2008-09-11       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2.texi:  added more information to the
	  release map.
	* gm2/gm2-libs-iso/TextIO.mod:  new file.
	* gm2/gm2-libs-iso/STextIO.mod:  new file.
	* gm2/gm2-libs-iso/StdChans.mod:  new file.
	* testsuite/gm2/isolib/run/pass/hello.mod:  new file.
	* testsuite/gm2/isolib/run/pass/gm2.exp:  new file.
	* gm2/gm2-compiler/M2ALU.mod:  fixed bug in
          CollectConstructorDependants in which a unknown
	  value might be saved as a constant.

2008-09-10       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2.texi:  modified many examples to reflect
	  optional return value for printf.   Also updated
	  the swig examples to use -c++.
        * gm2/Make-lang.in:  added entries for IOChan.mod,
	  RTio.mod and ErrnoCategory.c.  Also added rule
	  to build ErrnoCategory.o.
        * gm2/bnf/gm2m.bnf:  moved FIO import list before
	  M2LexBuf to avoid getting the wrong definition of
	  GetFileName during p2c bootstrap phase.
        * gm2/bnf/m2-2.bnf:  added OptReturnType for
	  procedures (functions).  Rationalized function
	  return values via OptReturnType.
        * gm2/bnf/m2-3.bnf:  added OptReturnType for
	  procedures (functions).  Rationalized function
	  return values via OptReturnType.  Also added
	  productions to implement functions using
	  an optional return type.
        * gm2/bnf/m2-h.bnf:  added OptReturnType for
	  procedures (functions).  Rationalized function
	  return values via OptReturnType.
        * gm2/bnf/m2.bnf:  added OptReturnType for
	  procedures (functions).  Rationalized function
	  return values via OptReturnType.
        * gm2/examples/server/server.mod:  modified code
	  to exploit calling printf and ignoring its return
	  value.
        * gm2/examples/swig/exceptions/tiny.mod:  ignore
	  return result for printf.
        * gm2/gm2-compiler/M2Quads.def:  define
	  CheckBuildFunction.
        * gm2/gm2-compiler/M2Quads.mod:  implement
	  CheckBuildFunction.
        * gm2/gm2-compiler/P2SymBuild.def:  corrected dates.
	  Added new procedure definition
	  BuildOptFunction.
        * gm2/gm2-compiler/P2SymBuild.mod:  corrected dates
	  and implemented BuildOptFunction.
        * gm2/gm2-compiler/SymbolTable.def:  PutOptFunction
	  (new definition).  IsReturnOptional (new definition).
        * gm2/gm2-compiler/SymbolTable.mod:  ReturnOptional
	  new field for ProcedureSym and ProcTypeSym.
	  Implemented IsReturnOptional, SetReturnOptional,
	  CheckOptFunction and PutOptFunction.
	  Set ReturnOptional appropriately.
        * gm2/gm2-libs/FIO.mod:  implemented GetFileName.
	  Modified names of stdin, stdout and stderr to
	  <stdin>, <stdout>, <stderr> respectively.
        * gm2/gm2-libs/errno.c:  added init and finish
	  functions.
        * gm2/gm2-libs/libc.def:  declare printf to have
	  an optional return value.
        * gm2/gm2-libs-iso/ChanConsts.def:  fixed dates.
        * gm2/gm2-libs-iso/IOChan.mod:  fixed dates
	  and reimplemented this module.
        * gm2/gm2-libs-iso/RndFile.def:  fixed dates.
        * gm2/gm2-libs-iso/TextIO.def:  fixed dates.
        * gm2/p2c/p2c-src/src/decl.c:  handle new syntax
	  for optional function return value.

2008-09-07       Gaius Mulley <gaius@gnu.org>

        * gm2/examples/cplusplus/cppcatchm2:  new directory
	  containing an example of C++ catching a Modula-2
	  exception.
        * gm2/examples/cplusplus/m2catchcpp:  new directory
	  containing an example of Modula-2 catching a C++
	  exception.

2008-09-06       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Swig.mod:  modified so that it
	  produces a C++ style swig interface.  Also modified
	  to include the language independent exception code.
        * gm2/examples/swig/full-strlib/Makefile:  modified
	  swig command line to use C++ style interface.
        * gm2/examples/swig/strlib/Makefile:  modified
	  swig command line to use C++ style interface.
	* gm2/examples/swig/tiny/Makefile:  modified
	  swig command line to use C++ style interface.
	* gm2/examples/swig/exceptions:  new example which
	  demonstrates Python catching a GNU Modula-2
	  exception.
	
2008-09-05       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/gm2lorder.mod:  Usage now writes
	  out the default list of system modules.
	* gm2/gm2.texi:  documented new flag (-fruntime-modules=).
        * gm2/gm2-compiler/M2Quads.mod:  added prototypes for
	  BuildRTExceptEnter and BuildRTExceptLeave.  Also
	  added exception handling for module initialization
	  and finalization blocks.
        * gm2/gm2-compiler/gm2lorder.mod:  Usage now prints
	  the default settings.
	
2008-09-04       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  replaced gm2lsub with gm2lorder.
	  now build and install M2 ISO modules, M2EXCEPTION.mod,
	  EXCEPTIONS.mod and Storage.mod.
	* gm2/Makefile.in:  replaced gm2lsub with gm2lorder.
	* gm2/gm2spec.c:  tidied up static function declarations.
	  Added ability to remember link arguments and return these
	  as a string to lang-specs.h.
	* gm2/lang-specs.h:  replaced gm2lsub with gm2lorder.
	  Tidied up dates.  pass linkargs to gm2lorder.  Also pass
	  -fruntime-modules= to gm2lorder.
	* gm2/gm2-compiler/Indexing.def:  tidied up dates.
	* gm2/gm2-compiler/Indexing.mod:  tidied up dates.
	* gm2/gm2-compiler/M2Base.mod:  ensure that the runtime
	  module (RTExceptions) is parsed.
	* gm2/gm2-compiler/M2GenGCC.mod:  implement (CodeSaveException)
	  and (CodeRestoreException).  Call these procedures
	  appropriately.
	* gm2/gm2-compiler/M2Quads.mod:  add SaveExceptionOp and
	  RestoreExceptionOp to the repetoir of quadruples.
	  (BuildRTExceptEnter) new function.  (BuildRTExceptLeave)
	  new function.
	* gm2/gm2-compiler/gm2lcc.mod:  tidied up dates.  Fixed off
	  by one bug when testing for '-l'.  Added test for '-L'.
	* gm2/gm2-compiler/gm2lgen.mod:  fixed bug in writing out
	  DefaultErrorCatch prototype.  Fixed cast bugs.
	* gm2/gm2-libs/RTExceptions.def:  (IsInExceptionState),
	  (SetExecptionState), (SwitchExceptionState),
	  (GetBaseExceptionBlock) new procedures defined.
	* gm2/gm2-libs/RTExceptions.mod:  (IsInExceptionState),
	  (SetExecptionState), (SwitchExceptionState),
	  (GetBaseExceptionBlock) new procedures implemented.
        * gm2/gm2-libs/SYSTEM.def:  fixed dates.
	* gm2/gm2-libs-coroutines/SYSTEM.def:  added THROW
	  to export list.
	* gm2/gm2-libs-iso/COROUTINES.mod:  fixed dates.
        * gm2/gm2-libs-iso/EXCEPTIONS.mod:  fixed dates.
	  Completed implementing the module.
        * gm2/gm2-libs-iso/M2EXCEPTION.mod:  completed implementing
	  the module.
	* gm2/gm2-libs-iso/M2RTS.def:  fixed dates.
	* gm2/gm2-libs-iso/Storage.mod:  completed implementing
	  the module.
	* gm2/gm2-libs-min/SYSTEM.def:  added THROW
	  to export list.
	* gm2/ulm-lib-gm2/sys/SYSTEM.def:  fixed dates and added THROW
	  to export list.
	* gm2/gm2-compiler/gm2lsub.mod:   removed file.
	* gm2/gm2-compiler/gm2lorder.mod:   new file (a placement for
	  gm2lsub.mod).
	
2008-08-23       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  replaces list of checking flags with
	  -fcheck-all.
	* gm2/TODO:  corrected sentance.
	* gm2/lang-options.h:  introduced new option, -fdiv-mod-rem.
	* gm2/gm2-compiler/M2Base.def:  ExceptionNonPosDiv,
	  ExceptionNonPosMod, ExceptionZeroDiv, ExceptionZeroRem new
	  exception handlers defined.
	* gm2/gm2-compiler/M2Base.mod:  ExceptionNonPosDiv,
	  ExceptionNonPosMod, ExceptionZeroDiv, ExceptionZeroRem new
	  exception handlers implemented.
        * gm2/gm2-compiler/M2GenGCC.def:  export
	  LValueToGenericPtr and ZConstToTypedConst.
	* gm2/gm2-compiler/M2GenGCC.mod:  removed (p2c) forward
	  declarations for LValueToGenericPtr and ZConstToTypedConst.
	* gm2/gm2-compiler/M2Options.def:  defined and export
	  DivModRemChecking.
	* gm2/gm2-compiler/M2Options.mod:  implement detection of
	  -fdiv-mod-rem.
	* gm2/gm2-compiler/M2Quads.mod:  (CheckDivModRem) new procedure.
	  (BuildBinaryOp) call CheckDivModRem.
	* gm2/gm2-compiler/M2Range.def:  define InitWholeNonPosDivCheck,
          InitWholeNonPosModCheck, InitWholeZeroDivisionCheck and
          InitWholeZeroRemainderCheck.
        * gm2/gm2-compiler/M2Range.mod:  implement InitWholeNonPosDivCheck,
          InitWholeNonPosModCheck, InitWholeZeroDivisionCheck and
          InitWholeZeroRemainderCheck.
	* gm2/gm2-libs/M2RTS.def:  define new exception handlers:
          WholeNonPosDivException, WholeNonPosModException,
          WholeZeroDivException and WholeZeroRemException.
        * gm2/gm2-libs/M2RTS.mod:  implement new exception handlers:
          WholeNonPosDivException, WholeNonPosModException,
          WholeZeroDivException and WholeZeroRemException.
	* gm2/gm2-libs-iso/M2RTS.def:  defined new exception handlers:
          WholeNonPosDivException, WholeNonPosModException,
          WholeZeroDivException and WholeZeroRemException.
	* gm2/gm2-libs-iso/M2RTS.mod:  implemented new exception
	  handlers WholeNonPosDivException, WholeNonPosModException,
          WholeZeroDivException and WholeZeroRemException.
        * gm2/gm2-libs-iso/SYSTEM.def:  export THROW.
	* gm2/ulm-lib-gm2/std/M2RTS.mod:  implement new exception
	  handlers WholeNonPosDivException, WholeNonPosModException,
          WholeZeroDivException and WholeZeroRemException.

2008-08-16       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2spec.c:  set linking to false if -S flag was seen.
	* gm2/examples/cpp/Makefile:  altered flag from -Wcpp to -fcpp.
	* gm2/examples/pthread/libcwrap.c:  (_M2_libcwrap_finish) new
	  function stub.
	* gm2/gm2-compiler/M2BasicBlock.mod:  preserve InitStart, InitEnd,
	  FinallyStart, FinallyEnd quadruples during basic block elimination.
	* gm2/gm2-compiler/M2Quads.def:  (IsInitStart) (IsInitEnd)
	  (IsFinallyStart) (IsFinallyEnd) new functions defined and exported.
        * gm2/gm2-compiler/M2Quads.mod:  (IsInitStart) (IsInitEnd)
	  (IsFinallyStart) (IsFinallyEnd) new functions implemented.
        * gm2/gm2-libs-coroutines/KeyBoardLEDs.c:  (_M2_KeyBoardLEDs_init)
	  (_M2_KeyBoardLEDs_finish)  new functions.
	* gm2/gm2.texi:  changed configure example to include the build of
	  c++.

2008-08-15       Gaius Mulley <gaius@gnu.org>

        * gm2/gm2/Make-lang.in:  include gm2/config-make for TARGET_SUBDIR
	  macro.  Link stage2 and stage3 cc1gm2 against libstdc++.a.
        * gm2/config-lang.in:  require target-libstdc++-v3.  Also generate
	  gm2/config-make during configure.
	* gm2/gm2spec.c:  (add_lstdcpp) new function which is called if
	  linking.
	* gm2/lang-specs.h:  gm2lgen enable generation of C++ main via -cpp.
	  Change references to %g.c to %g.cpp.
	* gm2/p2crc:  define ThrowName.
	* gm2/gm2-compiler/gm2lcc.mod:  correctly initialise LibrariesFound
	  to FALSE.
	* gm2/gm2-compiler/gm2lgen.mod:  introduced new switch -cpp which
	  informs gm2lgen to generate a C++ main with a try catch dispatcher.
	* gm2/gm2-libs/M2RTS.mod:  fixed space.
	* gm2/gm2-libs/RTExceptions.def:  define BaseExceptionsThrow and
	  DefaultErrorCatch.
	* gm2/gm2-libs/RTExceptions.mod:  implement BaseExceptionsThrow and
	  DefaultErrorCatch.  Also fixed PushHandler and PopHandler.
	* gm2/gm2-libs-boot/SYSTEM.def:  tidied up header comment.
	* gm2/p2c/p2c-src/src/decl.c:  removed spaces.
	* gm2/p2c/p2c-src/src/funcs.c:  (proc_throw) new function.
	* gm2/p2c/p2c-src/src/trans.h:  define name_THROW.
	* gm2/make-config.in:  new file.
	
2008-08-11       Gaius Mulley <gaius@gnu.org>

        * gm2/bnf/m2-3.bnf:  call BuildReThrow after statement sequence
	  in an exception block.
        * gm2/gm2-compiler/M2GenGCC.mod:  implement rethrow.
        * gm2/gm2-compiler/M2Quads.def:  (BuildReThrow) define and export.
        * gm2/gm2-compiler/M2Quads.mod:  (BuildReThrow) implemented.
        * gm2/gm2-libs/M2RTS.mod:  fixed dates.

2008-08-09       Gaius Mulley <gaius@gnu.org>

        * gm2/Make-lang.in:  added gt dependancies for gm2builtins.h
	  and gm2except.h.  Added rules and dependancies to build
	  gm2except.c and link it to cc1gm2.  Updated GM2DISTFILES.
        * gm2/config-lang.in:  updated gtfiles to include gm2except.c
	  and gm2builtins.c.
        * gm2/gccgm2.c:  updated dates.  Updated prototype (removed
	  PARAMS).  (gimplify_expr_stmt) new function.
	  (genericize_try_block) new function.  (genericize_catch_block)
	  new function.  (init_m2_builtins) call gm2except_InitExceptions.
        * gm2/gm2-tree.def:  define TRY_BLOCK, HANDLER, EXPR_STMT nodes.
        * gm2/gm2-tree.h:  (TRY_STMTS), (TRY_HANDLERS), (FN_TRY_BLOCK_P),
	  (HANDLER_PARMS), (HANDLER_BODY), (HANDLER_TYPE),
	  (STMT_EXPR_STMT), (EXPR_STMT_EXPR) new macros.
        * gm2/gm2.texi:  minor cosmetic changes.  Also heavily altered
	  exception handling internal section to reflect using C++
	  tree nodes rather than setjmp/longjmp mechanism.
        * gm2/gm2builtins.c:  added GTY(()) clauses to global tree
	  variables and imported appropriate GTY related header files.
	  This has probably fixed a number of garbage collection bugs.
        * gm2/m2pp.c:  major changes to allow this file to be built and
	  linked to cc1plus as well as cc1gm2.  (m2pp_print_char),
	  (m2pp_try_block), (m2pp_cleanup_point_expr), (m2pp_handler),
	  (m2pp_try_catch_expr), (m2pp_throw), (m2pp_catch_expr),
	  (m2pp_try_finally_expr), (m2pp_if_stmt),
	  (m2pp_compound_expression), (m2pp_target_expression) new
	  functions.
        * gm2/bnf/m2-2.bnf:  (PutExceptionFinally), (PutExceptionBlock),
	  (GetCurrentScope) call these building functions when parsing
	  source.  (RetryStatement) new separate rule.
	  (InitialBlock), (FinalBlock) new rules.
        * gm2/bnf/m2-3.bnf:  (RetryStatement) new separate rule.
        * gm2/bnf/m2-h.bnf:  (RetryStatement) new separate rule.
        * gm2/bnf/m2-2.bnf:  (RetryStatement) new separate rule.
        * gm2/gm2-compiler/M2Base.def:  added space.
        * gm2/gm2-compiler/M2BasicBlock.mod:  (ConvertQuads2BasicBlock)
	  updated to understand about CatchBegin and CatchEnd quads.
        * gm2/gm2-compiler/M2GenGCC.mod:  (CodeTry), (CodeCatchBegin),
	  (CodeCatchEnd), (CodeRetry), (CodeThrow) new procedures.
        * gm2/gm2-compiler/M2Optimize.def:  fixed dates.
        * gm2/gm2-compiler/M2Optimize.mod:  fixed dates.
        * gm2/gm2-compiler/M2Quads.def:  (IsCatchBegin), (IsCatchEnd)
	  new functions defined and exported.
        * gm2/gm2-compiler/M2Quads.mod:  (BuildThrowProcedure) new
	  procedure.  (IsUnConditional)  understands ThrowOp and RetryOp.
          (WriteQuad) displays ThrowOp.  (IsQuadA) new function which
	  allows (IsCall), (IsReturn), (IsNewLocalVar), (IsKillLocalVar),
	  (ProcedureScope) to be refactored.  (IsCatchBegin),
	  (IsCatchEnd), new functions.  (BuildExceptInitial) new
	  procedure.  (BuildExceptFinally) new procedure.
	  (BuildExceptProcedure) new procedure.  (BuildRetry) new
	  procedure.
        * gm2/gm2-compiler/M2System.def:  fixed dates.  (Throw) exported.
	  (IsPseudoSystemProcedure) exported.
        * gm2/gm2-compiler/M2System.mod:  initialize Throw, implement
	  IsPseudoSystemProcedure.
        * gm2/gm2-compiler/SymbolTable.def:  (PutExceptionBlock),
	  (HasExceptionBlock), (PutExceptionFinally),
	  (HasExceptionFinally) defined and export new procedures.
        * gm2/gm2-compiler/SymbolTable.mod:  (PutExceptionBlock),
	  (HasExceptionBlock), (PutExceptionFinally),
	  (HasExceptionFinally) new procedures implemented.
        * gm2/gm2-compiler/gccgm2.def:  (BuildTryCatch),
	  (BuildThrow) new functions defined.
        * gm2/gm2-libs/M2RTS.mod:  explicitly qualify RTExceptions.Raise.
        * gm2/gm2-libs/SYSTEM.def:  export new internal procedure THROW.
	  (THROW) defined.
        * gm2/tools-src/createUlmSys:  fixed dates.
	
2008-07-10       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2builtins.c:  added support for return_address
	  and frame_address as builtins.
	* gm2/gm2-libs/Builtins.def:  defined return_address
	  and frame_address.
	* gm2/gm2-libs/Builtins.mod:  defined return_address
	  and frame_address to their GCC builtin counterparts.
	* gm2/gm2-tree.def:  defined THROW_EXPR node for Modula-2.
	
2008-07-07       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  add new rules for building shared
	  libraries with -O2 and -O0.  They are now stored in
	  separate directories and gm2 will link against the
	  appropriate variety given the command line options.
	* gm2/NEWS:  updated to reflect 0.63 and the new features.
	* gm2/TODO:  updated and removed completed tasks and introduced
	  new tasks.
	* gm2/gm2.texi:  updated internal runtime section which
	  now matches the new exception handling code.  Also
	  introduced a section on how exception handling is implemented
	  in GNU Modula-2 (using the setjmp/longjmp mechanism).
	* gm2/gm2builtins.c:  added setjmp, longjmp to the builtins.
	* gm2/gm2spec.c:  detect -O2 and modify the link path accordingly.
	* gm2/m2.flex:  add RETRY and EXCEPT keywords.
	* gm2/m2pp.c:  fixed pretty printing of GCC Trees (in Modula-2
	  syntax) so that nested procedures are displayed correctly.
	* gm2/bnf/gm2l.bnf:  add RETRY and EXCEPT keywords.
	* gm2/bnf/gm2m.bnf:  add RETRY and EXCEPT keywords.
	* gm2/bnf/m2-2.bnf:  add RETRY and EXCEPT keywords.
	* gm2/bnf/m2-3.bnf:  add RETRY and EXCEPT keywords.
	* gm2/bnf/m2-h.bnf:  add RETRY and EXCEPT keywords.
	* gm2/bnf/m2.bnf:  add RETRY and EXCEPT keywords.
	* gm2/el/g-mode.el:  add indent support for EXCEPT block.
	* gm2/gm2-compiler/M2ALU.def:  fixed date in comment.
	* gm2/gm2-compiler/M2ALU.mod:  fixed date in comment.
	* gm2/gm2-compiler/M2GCCDeclare.def:  fixed date in comment.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  fixed date in comment.
	* gm2/gm2-compiler/M2GenGCC.def:  fixed date in comment.
	* gm2/gm2-compiler/M2GenGCC.mod:  fixed date in comment.
	* gm2/gm2-compiler/M2Quads.def:  introduced BuildExcept
	  procedures.
	* gm2/gm2-compiler/M2Quads.mod:  implement BuildExcept
	  procedures.  Fixed GetNextQuad to do this and not skip
	  a DummyOp quadruple.   Except block builds a local
	  nested procedure for the exception block.  The
	  retry code is currently broken.
	* gm2/gm2-compiler/M2Reserved.def:  added RetryTok and
	  ExceptTok.
	* gm2/gm2-compiler/NameKey.def:  fixed spacing.
	* gm2/gm2-libs/Break.mod:  fixed comment.
	* gm2/gm2-libs/Builtins.def:  define and export longjmp
	  and setjmp.
	* gm2/gm2-libs/M2EXCEPTION.def:  fixed comment dates.
	* gm2/gm2-libs/M2RTS.def:  fixed comment dates.
	* gm2/gm2-libs/RTExceptions.def:  fixed indentation.
	* gm2/tools-src/createUlmSys:  now creates a
	  _M2_SYSTEM_finish section to the C SYSTEM implementation
	  module.
	* gm2/ulm-lib-gm2/sys/termios.c:  added a
	  _M2_termios_finish section.
	* gm2/gm2builtins.c:  fixed bug in longjump prototype and
	  included setjmp into the table of builtins.  Also fixed
	  gm2builtins_BuildBuiltinTree to set the last function
	  to NULL_TREE if the function returns void.
	* gm2/gm2-compiler/M2GenGCC.mod:  refactored CodeDirectCall.
	* gm2/gm2-libs/Builtins.def:  added comment about internal
	  longjmp's restriction.
	* gm2/gm2-libs/libc.def:  added setjmp/longjmp definitions.

2008-07-02       Gaius Mulley <gaius@gnu.org>

	* fixed bugs reported by:  Erik Irsch <eirsch@yahoo.de>.
	* gm2/gm2-libs/FIO.mod::ReadNBytes:  changed local
	  variable to INTEGER from CARDINAL.
	* gm2/gm2-libs-pim/FileSystem.mod:  modified all read
	  routines to set eof if res is notdone.  Also modified
	  so that lastByte is only set if res = done.

2008-06-28       Gaius Mulley <gaius@gnu.org>

	* fixed bug reported by Jim Cox which was exposed by
	  using unbounded arrays inside proc types.
	* gm2/gm2-compiler/SymbolTable.def:  add isUnbounded
	  as a parameter to PutProcTypeParam.
	* gm2/gm2-compiler/SymbolTable.mod:  use isUnbounded
	  when creating a ParamType.
	* gm2/gm2-compiler/P2SymBuild.mod:  pass a boolean
	  as the third parameter indicating whether parameter
	  was declared as an unbounded array.

2008-06-24       Gaius Mulley <gaius@gnu.org>

	* gm2/el/g-mode.el:  fixed auto indentation for the keyword
	  EXCEPT.
	* gm2/gm2builtins.c:  added support for setjmp and longjmp.
	* gm2/gm2-compiler/gm2builtins.def:  added definitions for
	  setjmp and longjmp.
	* gm2/gm2-libs/Builtins.{def,mod}:  added definitions for
	  setjmp and longjmp.

2008-06-16       Gaius Mulley <gaius@gnu.org>

	* gm2/el/g-mode.el:  fixed auto indentation for the keyword
	  FINALLY.
	* gm2/gm2spec.c:  enabled -O2 -fshared options.

2008-06-15       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-ch/Selective.c:  added finish function.
	* gm2/examples/svga/Transform.mod:  tidied up comment.
	* gm2/examples/svga/testbox.mod:  tidied up formatting.
	* gm2/gm2-libs/UnixArgs.def:  fixed dates.
	* gm2/gm2-libs-ch/StdIO.c:  added finish function.
	* gm2/gm2-libs-ch/Storage.c:  added finish function.
	* gm2/gm2-libs-ch/UnixArgs.c:  added finish function.
	* gm2/gm2-libs-ch/choosetemp.c:  added finish function.
	* gm2/gm2-libs-ch/libc.c:  added finish function.
	* gm2/gm2-libs-ch/sckt.c:  added finish function.
	* gm2/gm2-libs-ch/wrapc.c:  added finish function.

2008-06-14       Michael Lambert <lambert@psc.edu>

	* gm2/Make-lang.in:  invoke bash explicity due to
	  Ubuntu Hardy Heron (and others) using /bin/dash
	  as /bin/sh rather than /bin/bash.

2008-06-12       Gaius Mulley <gaius@gnu.org>

	* examples/swig/tiny:  new examples showing the
	  behaviour of FINALLY within a shared library.
	* gm2/gm2/gccgm2.c:  modify gccgm2_BuildCallInnerInit
	  to gccgm2_BuildCallInner.
	* gm2/gm2/bnf/gm2l.bnf:  modify grammer to
	  understand the keyword FINALLY.
	* gm2/gm2/bnf/gm2m.bnf:  modify grammer to
	  understand the keyword FINALLY.
	* gm2/gm2/bnf/m2-3.bnf:  modify grammer to
	  support FINALLY.
	* gm2/gm2/examples/swig/strio/teststrio.py:
	  fix bug when calling WriteLn
	* gm2/gm2/gm2-compiler/M2AsmUtil.def:  export
          GetModuleFinallyName.
	* gm2/gm2/gm2-compiler/M2AsmUtil.mod:  implement
	  GetModuleFinallyName.
	* gm2/gm2/gm2-compiler/M2GCCDeclare.mod:  declare
	  finally function for each module.
	* gm2/gm2/gm2-compiler/M2GenGCC.mod:  CodeFinallyStart,
	  CodeFinallyEnd new functions.
	* gm2/gm2/gm2-compiler/M2Optimize.mod:  make optimizer
	  understand new quadruples.
	* gm2/gm2/gm2-compiler/M2Quads.def:  added
	  InitStartOp, InitEndOp, FinallyStartOp and FinallyEndOp.
	  Export StartBuildFinally, EndBuildFinally.
	* gm2/gm2/gm2-compiler/M2Quads.mod:  introduced
          InitStartOp, InitEndOp, FinallyStartOp and FinallyEndOp.
	  Modified StartBuildInit, EndBuildInit to use InitStartOp
	  and InitEndOp.  StartBuildFinally, EndBuildFinally new
	  procedures.  Modified AsmStartementsInBlock.
	* gm2/gm2/gm2-compiler/M2Scope.mod:  modified to search
	  for blocks using InitStartOp, InitEndOp, FinallyStartOp
	  and FinallyEndOp as markers.
	* gm2/gm2/gm2-compiler/M2SubExp.mod:  modified EndOp, StartOp
	  to InitStartOp, InitEndOp, FinallyStartOp and FinallyEndOp.
	* gm2/gm2/gm2-compiler/SymbolTable.def:  exported
	  PutModuleFinallyStartQuad, GetModuleFinallyStartQuad.
	  Modified GetModuleQuads to return finally range.
	* gm2/gm2/gm2-compiler/SymbolTable.mod:  added StartFinishQuad,
	  EndFinishQuad and FinallyFunction to module fields.
	* gm2/gm2/gm2-compiler/gccgm2.def:  modified BuildCallInnerInit
	  to BuildCallInner.
	* gm2/gm2/gm2-compiler/gm2lgen.mod:  uncommented the
	  calls to the final function in each module.
	* gm2/gm2/gm2-libs/FIO.mod:  uncommented the FINALLY
	  clause.
	* gm2/gm2/gm2-libs/StrIO.mod:  tidied up formatting and
	  updated dates.

2008-06-06       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2/m2.flex:  added FINALLY keyword.
	* gm2/gm2/p2crc:  added _M2_%s_fini function template name.
	* gm2/gm2/bnf/m2-2.bnf:  added FINALLY keyword and altered grammar.
	* gm2/gm2/bnf/m2-3.bnf:  added FINALLY keyword and altered grammar.
	* gm2/gm2/bnf/m2-h.bnf:  added FINALLY keyword and altered grammar.
	* gm2/gm2/bnf/m2.bnf:  added FINALLY keyword and altered grammar.
	* gm2/gm2/gm2-compiler/M2Reserved.def:  added FINALLY keyword.
	* gm2/gm2/gm2-compiler/M2Reserved.mod:  added FINALLY to the set of
	  keywords.
	* gm2/gm2/gm2-libs/FIO.mod:   added commented code to use the
	  FINALLY construct.  This will be enabled once all the changes are
	  complete.
	* gm2/gm2/p2c/p2c-src/src/decl.c:  set new field isfinally to FALSE.
	* gm2/gm2/p2c/p2c-src/src/lex.c:  add new FINALLY keyword.
	* gm2/gm2/p2c/p2c-src/src/p2crc:  also added skeleton function name.
	* gm2/gm2/p2c/p2c-src/src/parse.c:  added new flags to determine
	  whether the block is in the initialization or finalization section.
	  Modified p_body accordingly.  Added routines to generate the
	  finally function.
	* gm2/gm2/p2c/p2c-src/src/trans.h: added FINALLY as a keyword to p2c.

2008-06-04       Gaius Mulley <gaius@gnu.org>

        * gm2/gm2/Make-lang.in:  added RealMath to the
	  GM2-LIBS-ISO-MODS list.
      	* gm2/gm2/gm2.texi:  added description of
	  -fdump-system-exports, -fswig, -fmakeinit and
	  modified description of -I and -fobject-path to
	  reflect changes.
	* gm2/gm2/gm2spec.c:  add -fobject-path if user has
	  omitted it.
	* gm2/gm2/gm2-libs-iso/RealMath.def:  use builtins
	  if possible.
	* gm2/gm2/gm2-libs-iso/RealMath.mod:  implementation
	  to use builtins if possible.  Implemented ln.

2008-06-03       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-file.in:  introduce GM2_ISO_FLAGS.  Fixed spelling
	  for GM2-LIBS-ISO-MODS, modified ISO library building rule.
	* gm2/gm2.texi:  updated documentation date stamp.
	* gm2/gm2-libs-iso/ChanConsts.mod:  fixed date.
	* gm2/gm2-libs-iso/CharClass.mod:  fixed import bug.
	* gm2/gm2-libs-iso/ConvTypes.mod:  fixed date.
	* gm2/gm2/gm2-libs-iso/LongMath.mod:  fixed date.
	* gm2/gm2/gm2-libs-iso/RealMath.mod:  fixed date.
	* gm2/gm2-libs-iso/M2RTS.def:  export HasHalted, IsTerminating.
	* gm2/gm2-libs-iso/M2RTS.mod:  implemented HasHalted, IsTerminating
	  and use CardToStr rather than ConvertCardinal.
	* gm2/gm2-libs-iso/README.texi:  updated dates and also which modules
	  are complete.
	* gm2/gm2-libs-iso/Strings.mod:  new file.

2008-05-29       Gaius Mulley <gaius@gnu.org>

	* gm2/patches/gcc/4.1.2/04.gaius_patch_gcc:  new file.
        * gm2/examples/swig/full-strlib/testnum.py:  modified print.
	* gm2/Make-lang.in:  tidied up formatting and added
	  ability to generate and install shared library
	  versions of the pim libraries.
	* gm2/gm2-lang.c:  corrected dates.
	* gm2/gm2-lang.h:  corrected dates.
	* gm2/gm2.texi:  new section index, how to produce
	  swig interface files.  Documented -I, -fobject-path=
	  and -fmodules flags.  Added new section
          "How to produce swig interface files".
	* gm2/gm2spec.c:  corrected dates and added ability
	  to force no linking to be done by ld/collect.
	  Also added ability to collect all object files.
	  Introduced styles of libraries (shared libraries,
	  libraries compiled with debugging and optimization
	  switches turned on/off).  Front end will now
	  generate a -fobject-path= option if one is not
	  provided.  Fixed several warnings.
	* gm2/gm2spec.c:get_objects.  new function.
	* gm2/gm2spec.c:get_style.  new function.
	* gm2/gm2spec.c:no_link.  new function.
	* gm2/lang-options.h:  -fshared, -fmakeinit, -fobject-path=
	  all introduced.
	* gm2/lang-specs.h:  modified to enable position independant
	  code to be created and linked against.  Also modified to
	  reflect change in arguments needed in subsidiary linking
	  programs.
	* gm2/lang.opt:  list of options includes:  fshared, fmakeinit
	  and fobject-path=.
	* gm2/examples/executive/Makefile:  modified to utilise
	  -fobject-path=.
	* gm2/examples/ncurses/ColorText.mod:  fixed bug caught by the
	  new stricter compatibility rules.
	* gm2/examples/ncurses/WindowDevice.mod:  fixed another bug
	  caught by the new stricter compatibility rules.
	* gm2/examples/pthread/Makefile:  changed -Wmakeall to -fmakeall.
	* gm2/examples/svga/Makefile:  changed -Wmakeall to -fmakeall.
	* gm2/examples/swig/full-strlib/Makefile:  removed many rules
	  now that automatic linking has been implemented.
	* gm2/examples/swig/strlen/Makefile:  changed StrLib to
	  MyStrLib to avoid a name clash.
        * gm2/examples/swig/strlen/testlen.py:  changed StrLib to
	  MyStrLib.
	* gm2/examples/swig/strlib/MyStrLib.{def,mod}:  new files.
	* gm2/examples/swig/strlib/StrLib.{def,mod}:  removed.
	* gm2/gm2-compiler/M2BasicBlock.mod:  fixed dates.
	* gm2/gm2-compiler/M2Quads.mod:  implemented
          IsProcedureScope.
	* gm2/gm2-compiler/M2Quads.def:  defined
          IsProcedureScope.
        * gm2/gm2-compiler/M2Swig.mod:  now explores basic blocks
	  of each external procedure to see if parameters are
	  in, out or inout.  It also states whether a parameter
	  direction is unknown or likely to be in, out or inout.
        * gm2/gm2-compiler/gm2lcc.mod:  now understands -shared
	  and -fshared and passes all -f options to gcc.
        * gm2/gm2-compiler/gm2lgen.mod:  fixed dates and understands
	  -fshared.
        * gm2/gm2-libs/FIO.{def,mod}:  improved comment.
	* gm2/gm2-libs/FpuIO.def:  fixed date and comments.
	* gm2/www/index.ms:  updated web page to say documentation
	  is built nightly.
	
2008-05-08       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2.texi:  tidied up English and fixed a node
	  label.
	* gm2/gm2-compiler/P2SymBuild.mod:  fixed bug reported
	  by Scott Iverson involving
	  ARRAY BOOLEAN OF ARRAY BOOLEAN OF BITSET.
	* gm2/gm2-compiler/SymbolTable.mod:  modified some of
	  the debugging hooks.

2008-05-07       Gaius Mulley <gaius@gnu.org>

        * gm2/examples/swig/full-strlib/Makefile:  added new
	  example rules.
        * gm2/gm2/gm2-compiler/M2GCCDeclare.mod:  improve
	  debugging information.
        * gm2/gm2/gm2-compiler/M2Quads.mod:  separated out
	  knowledge of read, write of LeftValues and RightValues.
	  Refactored EraseQuad and SubQuad.
        * gm2/gm2/gm2-compiler/M2Range.mod:  modified read, write
	  symbol information to determine whether LeftValue or RightValue.
        * gm2/gm2/gm2-compiler/M2SubExp.mod:  ditto.
        * gm2/gm2/gm2-compiler/M2Swig.mod:  ditto and also introduced
	  CalculateVarDirective which attempts to determine whether
	  a VAR paramete is used for INPUT, OUTPUT or INOUT.
        * gm2/gm2/gm2-compiler/SymbolTable.def:  provide symbol
	  read write quad procedure calls with LeftValue or RightValue
	  information.
        * gm2/gm2/gm2-compiler/SymbolTable.mod:  implement above.
        * gm2/gm2/gm2-libs/NumberIO.mod:  tidied up comments and
	  spacing.
        * gm2/gm2/gm2-libs/TimeString.mod:  tidied up comments.


2008-05-06       Michael Lambert <lambert@psc.edu>

	* gm2/patches/gcc/4.1.2/03.michael_i386:  new file
	  which patches gcc/config/i386/i386.c.

2008-05-04       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/gm2lgen.mod:  fixed name at end of
	  procedure.

2008-05-03       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/gm2lgen.mod:  replaced NULL for (void *)0.

2008-05-02       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Swig.{def,mod}:  new files.
	  Checked in this time.
	* gm2/gm2-compiler/gm2lgen.mod:  added and implemented
	  the -shared option.
	* gm2/gm2-compiler/gm2lgen.mod:  fixed finish function
	  parameter mismatch.

2008-05-02       Gaius Mulley <gaius@gnu.org>

        * gm2/Make-lang.in:  added rules for M2Swig.def and
	  M2Swig.mod.
	* gm2/lang.opt:  added new option -fswig.
	* gm2/gm2-compiler/M2Code.mod:  import GenerateSwigFile
	  and call it appropriately.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  improved debugging
	  of subranges.
	* gm2/gm2-compiler/M2Options.def:  added GenerateSwig.
	* gm2/gm2-compiler/M2Options.mod:  implemented case to
	  test for -fswig which sets GenerateSwig to TRUE.
	* gm2/gm2-compiler/SymbolTable.def:  export
	  IsParameterUnbounded, IsParameterVar.
	* gm2/gm2-compiler/SymbolTable.mod:  implemented above
	  procedures.
	* gm2/init/gm2-gccinit:  added reference to M2Swig.
	* gm2/examples/swig/{full-strlib,strlen,strlib}:  new
	  directories.
	* gm2/examples/swig/full-strlib/{Makefile,testcopy.py,
	  testequ.py,testlen.py}:  new files.
	* gm2/examples/swig/strlen/{Makefile,StrLib.def,StrLib.i,
	  StrLib.mod,testlen.py}:  new files.
	* gm2/examples/swig/strlib/{Makefile,StrLib.def,
	  StrLib.mod,testlen.py}:  new files.
	* gm2/gm2-compiler/M2Swig.{def,mod}:  new files which
	  implement an automatic way of producing swig interface
	  files from an implementation module.
	
2008-04-29       Gaius Mulley <gaius@gnu.org>

	* gm2/gccgm2.c:  skip_type_decl in build constructor
	  functions.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  handle subscripts
	  in PrintVerbose routines.
	* gm2/gm2-compiler/M2GenGCC.mod:  detect unbounded
	  arrays of generic type and use memcpy rather than
	  assignment.
	* gm2/gm2/gm2-compiler/M2Quads.mod:  improved error
	  messages for unknown types at the end of functions.
	* gm2/gm2/gm2-compiler/M2System.def:  export
	  IsGenericSystemType.
	* gm2/gm2/gm2-compiler/M2System.mod:  implement
	  IsGenericSystemType.
	* gm2/gm2-compiler/SymbolTable.def:  export
	  IsPartialUnbounded.
	* gm2/gm2-compiler/SymbolTable.mod:  implement
	  IsPartialUnbounded and added PartialUnbounded
	  cases to GetSymName and GetDeclared.
	* fixed bug reported by James Cox.

2008-04-27       Gaius Mulley <gaius@gnu.org>

	* gm2/gccgm2.c:  build_common_tree_nodes requesting
	  unsigned char type.
	* gm2/gm2-compiler/M2GenGCC.mod:  CalculateBase
	  must not assume GetType(Subscript) will always yield
	  a subrange.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  likewise
	  must not assume GetType(Subscript) will always yield
	  a subrange (the array might be declared as ARRAY CHAR
	  OF CHAR).
	* testsuite/gm2/pim/run/pass/For9.mod:  new file.
	
2008-04-26       Gaius Mulley <gaius@gnu.org>

	* gm2/lang-specs.h:  fixed cpp invocation by adding -o to
	  the command line.  This allows -fcpp to work again.
	* fixes all regression tests in
	  testsuite/gm2/switches/pim4/run/pass.

2008-04-25       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GCCDeclare.mod:  fixed bug to
	  allow declaration such as ARRAY CHAR OF foo.
	  (Bug reported by Scott Iverson).
	* gm2/TODO:  updated.

2008-04-24       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GCCDeclare.mod:  fixed bug reported
	  by Scott Iverson (unbounded array type was undeclared).
	* gm2/gm2.texi:  added draft section describing type
	  compatibility rules.
	* gm2/gm2-compiler/M2Quads.mod:  simplified BuildConvert
	* gm2/gm2-compiler/M2Range.mod:  removed REALs from being
	  range checked.
	* gm2/gm2-compiler/M2System.mod:  fixed bug in IsRealN
	* gm2/gm2-compiler/M2GenGCC.def:  export StrToChar
	* gm2/gm2-compiler/M2Range.mod:  import StringToChar
	  and use it in OutOfRange.  Modify OutOfRange to
	  take the Modula-2 expr and type so we can catch
	  CHAR constants or one character ConstLitStrings and
	  convert them to integers.
	  Fixes testsuite/gm2/pim/pass/arraychar.mod

2008-04-22       Gaius Mulley <gaius@gnu.org>

	* renamed SET8 to BITSET8, SET16 to BITSET16 and SET32 to
	  BITSET32.
	* gm2/gm2-compiler/M2System.mod:  implement SET8, SET16, SET32
	  fixed sized types.  Also implemented is AttemptToCreateSetType.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  declare fixed sized types.
	* gm2/gccgm2.c:  added build_m2_set8_type_node,
	  build_m2_set16_type_node and build_m2_set32_type_node.
	  Added ability to create fixed sized SET_TYPE types.
	  Added gccgm2_GetM2Set8, gccgm2_GetM2Set16 and gccgm2_GetM2Set32.
	* gm2/gm2-compiler/M2Base.mod:  added set8, set16, set32 and
	  included these into the assignment, expression and parameter
	  matrices.
	* gm2/gm2-compiler/gccgm2.def:  export GetM2Set8, GetM2Set16
	  and GetM2Set32.

2008-04-19       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2Range.mod:  fixed bug so that GetMinMax
	  returns FALSE if the type is a WORD or BYTE, LOC, WORD16 etc
	  and also returns FALSE if the type is a set.  This fixes
	  the bug in testsuite/gm2/iso/pass/testiso2.mod.
	* gm2/gm2-compiler/M2GenGCC.mod:  use AddStatement to connect
	  the case range check to the list of trees.  This fixes
	  testsuite/gm2/pim/run/fail/case.mod.

2008-04-18       Gaius Mulley <gaius@gnu.org>
	
	* gm2/gm2.texi:  included __COLUMN__ into documentation.
	* gm2/m2.flex:   added column field to lineInfo.
          Use column field to hold first token column position.
	  There by allowing testsuite/gm2/extensions/run/pass/column.mod
	  to pass.
	* testsuite/gm2/extensions/run/pass/gm2.exp:  fixed include path
	  which allows all these tests to pass.
	* testsuite/gm2/extensions/pass/gm2.exp:  fixed include path
	  which allows all these tests to pass.

2008-04-17       Gaius Mulley <gaius@gnu.org>

	* gm2/tools-src/makeSystem:  removed '-' from sed command
	  so that it is compatible with non GNU sed.

2008-04-16       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  modified rules relating to gm2.info
	  so that it is built in the $(objdir) directory.

2008-04-15       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  added rules to build SYSTEM-pim.texi and
	  SYSTEM-iso.texi and Builtins.texi.  Rationalised rules.
	* gm2/gm2.texi:  include SYSTEM-pim.texi, SYSTEM-iso.texi and
	  Builtins.texi.
	* gm2/tools-src/def2texi.py:  extended to build individual files.
          Also extended to implement '-u', '-f' options.

2008-04-13       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-iso:  moved to
	* gm2/gm2-libs-iso:  instead
	* gm2/Make-lang.in:  altered source rules to reflect
	  changes in directory.
	* gm2/gm2/gm2-libs/SYSTEM.def:  added @SYSTEM_TYPES@
	  as a marker for gm2/tools-src/makeSystem to add
	  inbuilt types.
	* gm2/gm2/tools-src/def2texi.py:  modified to reflect
	  new directory.  Also allowed indices to be created
	  from opaque types.  Fixed unique module list bug.
	* gm2/tools-src/makeSystem:  adds opaque types to
	  SYSTEM.def

2008-04-12       Gaius Mulley <gaius@gnu.org>

	* gm2/bnf/m2-2.bnf:  reverted patch from 2008-03-18
	  so that testsuite/pim/pass/impf.mod and
	  ulm-lib-gm2/std/GetPass.mod compile.
	* gm2/gm2-compiler/M2Base.mod:  TRUNC, TRUNCS and TRUNCL
	  are declared to return an unsigned value if -fpim2,
	  -fpim3 or -fiso are specified.  They return signed
	  values if -fpim4 is specified.
	* gm2/gm2-compiler/M2Range.mod:  dereferences L values
	  correctly in CodeAssignment.
	* gm2/ulm-lib-gm2/std/M2RTS.mod:  updated to export the
	  new exception handler procedures expected by gm2.
	* gm2/gm2-compiler/M2Base.mod:  use IsFloat and IsTrunc
	  rather compare Sym to function symbols in
	  IsPseudoBaseFunction.  Fixes six regression tests.
	* gm2/gm2-compiler/M2Range.mod:  avoid range checking
	  ADDRESS expressions.

2008-04-11       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-ch/sckt.c:  use memset, memcpy to avoid using
	  bcopy and bzero which were poisoned during make gm2.paranoid.
	* gm2/gccgm2.c:  fixed major bug in function call handling.
	* gm2/tools-src/makeSystem:  new file which creates SYSTEM.def
	  for the target which contains an export list of all supported
	  datatypes.
	* gm2/gm2-libs.texi:  removed as it will be built in the build
	  directory.
	* gm2/gm2-ebnf.texi:  removed as it will be built in the build
	  directory.
	* gm2/Make-lang.in:  build gm2/gm2-libs/SYSTEM.def,
	  gm2/gm2-ebnf.texi and gm2/gm2-libs.texi.
	* gm2/gm2-libs/RTExceptions.mod:  fixed circular list
	  initialization bug.
	* gm2/gm2-compiler/M2Range.mod:  fixed parameter order and type
	  when calling an exception handler.

2008-04-10       Gaius Mulley <gaius@gnu.org>

        * gm2/gm2/Make-lang.in:  added M2EXCEPTION.def RTExceptions.def
	  M2EXCEPTION.mod RTExceptions.mod to the list of library modules.
        * gm2/gm2/README:  fixed CVS command instruction.
        * gm2/gm2/gccgm2.c:  added gccgm2_GetM2Integer8, gccgm2_GetM2Integer16,
	  gccgm2_GetM2Integer32, gccgm2_GetM2Integer64, gccgm2_GetM2Cardinal8,
	  gccgm2_GetM2Cardinal16, gccgm2_GetM2Cardinal32, gccgm2_GetM2Cardinal64,
	  gccgm2_GetM2Word16, gccgm2_GetM2Word32, gccgm2_GetM2Word64,
	  gccgm2_GetM2Real32, gccgm2_GetM2Real64, gccgm2_GetM2Real96,
	  gccgm2_GetM2Real128, gccgm2_BuildIfThenDoEnd, gccgm2_BuildIfThenElseEnd,
	  gccgm2_IsTrue, gccgm2_IsFalse, gccgm2_GetTreeType, gccgm2_AddStatement,
          build_m2_specific_size_type, build_m2_integer8_type_node,
	  build_m2_integer16_type_node, build_m2_integer32_type_node,
	  build_m2_integer64_type_node, build_m2_cardinal8_type_node,
	  build_m2_cardinal16_type_node, build_m2_cardinal32_type_node,
	  build_m2_cardinal64_type_node, build_m2_word16_type_node,
	  build_m2_word32_type_node, build_m2_word64_type_node,
	  build_m2_real32_type_node, build_m2_real64_type_node,
	  build_m2_real96_type_node and build_m2_real128_type_node.
        * gm2/gm2/lang-options.h:  introduced -fdump-system-exports.
        * gm2/gm2/m2.flex:  added the token __COLUMN__ to gm2 (m2flex_GetColumnNo).
        * gm2/gm2/m2pp.c:  updated copyright dates.
        * gm2/gm2/gm2-compiler/Lists.def:  tidied up spacing.
        * gm2/gm2/gm2-compiler/M2Base.def:  added IsTrunc, IsFloat, ExceptionAssign,
	  ExceptionInc, ExceptionDec, ExceptionStaticArray, ExceptionDynamicArray,
	  ExceptionForLoopBegin, ExceptionForLoopTo, ExceptionForLoopEnd,
	  ExceptionPointerNil, ExceptionNoReturn, ExceptionCase, ExceptionNo.
        * gm2/gm2/gm2-compiler/M2Base.mod:  implemented above procedures and also
	  introduced assignment, expression and parameter passing matrices for
	  the new system types.
        * gm2/gm2/gm2-compiler/M2GCCDeclare.mod:  declare new fixed sized types.
        * gm2/gm2/gm2-compiler/M2GenGCC.def:  export GetHighFromUnbounded.
        * gm2/gm2/gm2-compiler/M2GenGCC.mod:  fixed the --fixme-- requests
	  surrounding scope naming for error messages.  Refactored
	  GetHighFromUnbounded.  Renamed ExpandExpressionStatement to
	  AddStatement.  Renamed BuildAssignment to BuildAssignmentTree.
	  use IsTrunc rather than comparing symbol to Trunc.
	  Introduced scope stack to identify scope name for better error
	  messages.
        * gm2/gm2/gm2-compiler/M2Options.def:  export DumpSystemExports.
        * gm2/gm2/gm2-compiler/M2Options.mod:  detect DumpSystemExports.
        * gm2/gm2/gm2-compiler/M2Quads.mod:  utilise IsFloat, IsTrunc,
	  removed GetTypeMinMax, use M2Range functions instead of
	  M2Quads versions.  Allow ADR("string").
        * gm2/gm2/gm2-compiler/M2Range.def:  modify CodeRangeCheck and
	  CodeErrorCheck.
        * gm2/gm2/gm2-compiler/M2Range.mod:  finished implementation.
        * gm2/gm2/gm2-compiler/M2System.def:  export IntegerN, CardinalN
	  WordN, RealN.
        * gm2/gm2/gm2-compiler/M2System.mod:  implemented above and also
	  implemented many support procedures.  Heavily refactored code.
        * gm2/gm2/gm2-compiler/P2SymBuild.mod:  fixed bug reported by
	  Scott Iverson (ARRAY OF importedType).  Type checking of
	  parameter types extended to embrace PedanticParamNames for
	  type names as well.
        * gm2/gm2/gm2-compiler/SymbolKey.def:  tidied up spacing.
        * gm2/gm2/gm2-compiler/SymbolKey.mod:  improved error message.
        * gm2/gm2/gm2-compiler/SymbolTable.def:  introduced isUnbounded
	  parameter into PutVarParam and PutParam.
        * gm2/gm2/gm2-compiler/SymbolTable.mod:  introduced PartialUnbounded
	  to fix the ARRAY OF importedType bug above.  New procedures,
	  PutPartialUnbounded, HandleHiddenOrDeclare, FillInUnboundedFields,
	  FillInUnknownFields.  Fixed bug to allow ARRAY OF proctype.
	  Refactored to utilise HandleHiddenOrDeclare.
        * gm2/gm2/gm2-compiler/gccgm2.def:  exported new data type functions.
	  Define IsTrue, IsFalse, BuildIfThenDoEnd,
	  BuildIfThenElseEnd, GetTreeType.
	  Renamed BuildAssignment to BuildAssignmentTree
	  and BuildProcedureCall to BuildProcedureCallTree
	  and ExpandExpressionStatement to AddStatement.
        * gm2/gm2/gm2-libs/M2RTS.def:  export new Exception handlers,
	  AssignmentException, IncException, DecException,
	  StaticArraySubscriptException, DynamicArraySubscriptException,
	  ForLoopBeginException, ForLoopToException, ForLoopEndException,
	  PointerNilException, NoReturnException, CaseException,
	  NoException.
	  Removed old exception handlers.
        * gm2/gm2/gm2-libs/M2RTS.mod:  implemented above by using
	  M2EXCEPTION and RTExceptions.
        * gm2/gm2/gm2-libs/SysStorage.mod:  tidied up spacing.
        * gm2/gm2/gm2-libs-boot/SYSTEM.def:  tidied up spacing.
        * gm2/gm2/init/gm2-gccinit:  added RTExceptions and M2EXCEPTION.
        * gm2/gm2/init/gm2lccinit:  added RTExceptions and M2EXCEPTION.
        * gm2/gm2/init/gm2lgeninit:  added RTExceptions and M2EXCEPTION.
        * gm2/gm2/init/gm2linit:  added RTExceptions and M2EXCEPTION.
        * gm2/gm2/init/gm2lsubinit:  added RTExceptions and M2EXCEPTION.
        * gm2/gm2/init/gm2minit:  added RTExceptions and M2EXCEPTION.
        * gm2/gm2/init/h2definit:  added RTExceptions and M2EXCEPTION.
        * gm2/gm2/init/ppginit:  added RTExceptions and M2EXCEPTION.
        * gm2/gm2/p2c/p2c-src/src/lex.c:  introduced __COLUMN__ to p2c.

2008-04-08       Peter Eiserloh <eiserlohpp@yahoo.com>

	* gm2/gm2.texi:  patch to correct directory name
	  in example script within building documentation.
	* gm2/gm2-libs-ch/wrapc.c:  patch to define the
	  clock variable as time_t, rather than void *.

2008-03-19       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2/gccgm2.c:  do not use GCC boolean type.
	* gm2/gm2-compiler/M2Base.def:  export IsOrd
	  remove Ord variable.  Define IsOrd.
	* gm2/gm2-compiler/M2Base.mod:  implement IsOrd, add
	  OrdL, OrdS.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  add debugging.
	  Fix bug in StartDeclareScope which failed to declare
	  subranges in definition modules.
	* gm2/gm2-compiler/M2Quads.mod:  allow BuildOrdFunction
	  to return SHORTCARD, LONGCARD, CARDINAL depending upon
	  which version of ORD[SL] is called.  Suppress range
	  checking of sets during assignment.
	* gm2/gm2/gm2-libs-pim/RealConversions.mod:  fix INTEGER
	  CARDINAL expression.
	* gm2/ulm-lib-gm2/std/Archive.mod:  fix LONGINT, INTEGER
	  expression.
	* gm2/ulm-lib-gm2/std/Calendar.mod:  fix LONGINT, INTEGER
	  expression.

2008-03-18       Gaius Mulley <gaius@gnu.org>

        * gm2/gm2/Make-lang.in:  added M2Range.{def, mod}
	* gm2/gm2/TODO:  updated.
	* gm2/gm2/gccgm2.c:  replaced gccgm2_GetM2ZRealType with
	  gccgm2_GetM2RType and removed dead code.
	* gm2/gm2/bnf/m2-2.bnf:  fixed bug in ConstSetOrQualidentOrFunction
	  which was pushing a non type symbol as a type cast.
	* gm2/gm2/el/g-mode.el:  updated Copyright dates.
	* gm2/gm2/gm2-compiler/M2ALU.def:  fixed header comment for function
	  Less.
	* gm2/gm2/gm2-compiler/M2Base.def:  exports ZType, RType.
	* gm2/gm2/gm2-compiler/M2Base.mod:  removed dead code and also type
	  mixing code.  Updated expression, assignment and parameter compatibilty
	  matrices to include Ztype and Rtype as per ISO standard.  Improved
	  error messages.
	* gm2/gm2/gm2-compiler/M2Error.mod:  fixed bug, warning messages
	  were emitted twice.
	* gm2/gm2/gm2-compiler/M2GCCDeclare.mod:  declare ZType, RType
	  and also call DeclareTypeInfo during block scope.
	* gm2/gm2/gm2-compiler/M2GenGCC.mod:  import and use range
	  checking code during code generation and quadruple folding.
	* gm2/gm2/gm2-compiler/M2Quads.def:  export debugging procedure,
	  WriteOperand.
	* gm2/gm2/gm2-compiler/M2Quads.mod:  import range checking
	  constructors.  Removed huge amount of quadruple based range
	  checking code and replaced it by specific RangeCheck and Error
	  quadruples.
	  Make calls to M2Range which define specific range checking to
	  be done during code generation.  This in turn allows limited
	  error based static analysis to be done when all constants
	  and type are resolved.
	* gm2/gm2/gm2-compiler/M2SubExp.mod:  fixed casts as the
	  compiler is now stricter when passing parameters.
	* gm2/gm2/gm2-compiler/P2SymBuild.def:  export SeenCast.
	* gm2/gm2/gm2-compiler/P2SymBuild.mod:  implemented SeenCast
	  and improved error message.
	* gm2/gm2/gm2-compiler/SymbolKey.mod:  removed debugging code.
	* gm2/gm2/gm2-compiler/SymbolTable.mod:  import ZType and RType,
	  tidied up GetLowestType and made const literal types comply
	  with ZType and RType.
	* gm2/gm2/gm2-compiler/bnflex.mod:  changed types of local
	  variables to avoid INTEGER, CARDINAL incompatibilities.
	* gm2/gm2/gm2-compiler/gccgm2.def:  provided GetM2RType function.
	* gm2/gm2/gm2-libs/DynamicStrings.mod:  fixed many INTEGER, CARDINAL
	  incompatibilities.
	* gm2/gm2/gm2-libs/FormatStrings.mod:  fixed many INTEGER, CARDINAL
	  incompatibilities.
	* gm2/gm2/gm2-libs/NumberIO.mod:  fixed many INTEGER, CARDINAL
	  incompatibilities.
	* gm2/gm2/gm2-libs/SYSTEM.def:  changed parameter types to
	  avoid CARDINAL, INTEGER problems.
	* gm2/gm2/gm2-libs/SYSTEM.mod:  likewise.
	* gm2/gm2/gm2-libs/StringConvert.mod:  fixed many INTEGER, CARDINAL
	  incompatibilities.
	* gm2/gm2/gm2-libs-pim/Strings.mod:  fixed a few INTEGER, CARDINAL
	  incompatibilities.
	* gm2/gm2/init/gm2-gccinit:  added M2Range.

2008-03-07       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GCCDeclare.mod:  reverted patch as
	  it also included some unfinished changes due to appear
	  soon.

2008-03-01       Gaius Mulley <gaius@gnu.org>

	* an interim checkin of many changes which will
	  initially cause many regression test failures.
	  A huge amount of assignment, expression and parameter
	  compile time and runtime checking has been added.
	* gm2/Make-lang.in:  new module M2Range.{def,mod} added.
	* gm2/TODO:  suggested future GCC modifications.
	* gm2/gccgm2.c:  renamed GetM2ZRealType as GetM2RType
	  as per ISO documentation.
	* gm2/el/g-mode.el:  corrected dates.
	* gm2/gm2-compiler/M2Base.def:  introduced ZType, RType types.

2008-02-22       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  fixed build rule for gm2/gm2-libs/sckt.c
	  to include the p2c header (containing configure results).
	* gm2/gm2-libs-ch/sckt.c:  prefixed most includes with
	  tests based on configure results.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  fixed declaration of
	  user defined unbounded parameters.

2008-02-09       Gaius Mulley <gaius@gnu.org>

        * gm2/Make-lang.in:  replaced references of gm2/pg? to
	  gm2/pg?$(exeext) to enable building in a cygwin
	  environment as reported by David Moreno
	  <jose_david_moreno@yahoo.es>.

2008-02-08       Gaius Mulley <gaius@gnu.org>

        * gm2/gm2-libs/StringConvert.mod:  fixed CARDINAL
	  overflow bug.

2008-02-07       Gaius Mulley <gaius@gnu.org>

	* fixed REAL/LONGREAL bugs as reported by:
	  Ivan F. Villanueva B and Steve Giess.
	* gm2/gm2-compiler/M2Base.def:  ZRealType added and
	  exported.
	* gm2/gm2-compiler/M2Base.mod:  ZRealType implemented.
	  Added parameter checking meta type matrix.
	  Added ZRealType to expression, assignment and
	  parameter type checking matrices.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  tell GCC about
	  the front end ZRealType type.
	* gm2/gm2-compiler/M2Quads.mod:  improved type incompatible
	  error message.
	* gm2-compiler/SymbolTable.mod:  floating point literals
	  use the ZRealType.
	* gm2/gm2-libs/FpuIO.mod:  explicitly cast REAL to LONGREAL.
	* gm2/gm2-libs/StringConvert.mod:  explicitly cast CARDINAL
	  to LONGCARD.
	* gm2/gm2-libs-pim/RealInOut.mod:  explicitly cast LONGREAL
	  to REAL and visa versa.
	* gm2/ulm-lib-gm2/std/Directories.mod:  cast blocksize
	  (LONGCARD) to CARDINAL.

2008-01-24       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-pim/InOut.mod:  fixed bug reported by
	  Steve Giess, data written by InOut and FpuIO did not
	  appear in order.  Modified InOut.mod so that all reads
	  and writes go through FIO.mod.

2008-01-21       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2ALU.def:  renamed parameters to
	  procedure AddElements.
	* gm2/gm2-compiler/M2ALU.mod:  AddElements uses AddElementToEnd
	  which fixes a bug in array element ordering during compound
	  constant literal construction.

2008-01-17       Gaius Mulley <gaius@gnu.org>

	* ISO conformant compound literal constructors have been
	  implemented.
	* gm2/TODO:  updated.
	* gm2/gccgm2.c:  added constructor type and build
	  functions to create ARRAY, RECORD and SET compound
	  constructors.
	* gm2/bnf/m2-2.bnf:  modified grammer to include compound
	  constructors and associated type build functions.  Limited
	  compound literal type checking is also implemented.
	* gm2/bnf/m2-3.bnf:  modified grammer to include compound
	  constructors and to appropriate quadruple generation.
	* gm2/bnf/m2-h.bnf:  modified grammer to include compound
	  constructors during the hidden pass.
	* gm2/gm2/bnf/m2.bnf:  modified grammer to include compound
	  constructors.
	* gm2/FifoQueue.def:  extended to allow enumerations and
	  subranges to be stored and retrieved.
	* gm2/FifoQueue.mod:  implemented appropriately.
	* gm2/gm2-compiler/M2ALU.def:  major alterations to allow
	  constructors (ARRAY, RECORD and SET) constants to be
	  created at compile time and also be translated into GCC trees.
	* gm2/gm2-compiler/M2ALU.mod:  implemented above, more checking
	  to ensure that a RECORDs and ARRAYs cannot have bits included.
	  SETs cannot have fields initialized etc.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  resolves all dependants
	  of compound literals and declares Modula-2 constructors to
	  their gcc tree counterpart.
	* gm2/gm2-compiler/M2Quads.def:  BuildConstructorStart,
	  BuildConstructorEnd, CollectConstructor, BuildComponentValue
	  added.
	* gm2/gm2-compiler/M2Quads.mod:  BuildConstructorStart,
	  BuildConstructorEnd, CollectConstructor, BuildComponentValue,
	  AddFieldTo implemented.
	* gm2/gm2-compiler/P1SymBuild.mod:  use
	  PutEnumerationIntoFifoQueue.
	* gm2/gm2-compiler/P2SymBuild.mod:  use
	  GetEnumerationFromFifoQueue and PutSubrangeInfoFifoQueue.
	  Implement constructor type checking and add error messages.
	  Implement constructor symbol creation.
	* gm2/gm2-compiler/P3SymBuild.mod:  use
	  GetSubrangeFromFifoQueue.
	* gm2/gm2-compiler/SymbolTable.def:  export IsConstructor
	  and PutConstructor.
	* gm2/gm2-compiler/SymbolTable.mod:  add IsConstructor
	  field to SymConstVar and SymConstLit record in symbol
	  table.  Implement procedures IsConstructor and
	  PutConstructor.
	* gm2/gm2-compiler/gccgm2.def:  declare and export
	  new versions of BuildStartSetConstructor,
	  BuildSetConstructorElement, BuildEndSetConstructor.
	  Also export BuildStartRecordConstructor,
	  BuildEndRecordConstructor, BuildRecordConstructorElement,
	  BuildStartArrayConstructor, BuildEndArrayConstructor and
          BuildArrayConstructorElement.  Also export Constructor
	  hidden type.
	
2007-12-10       Gaius Mulley <gaius@gnu.org>

	* gm2/NEWS:  updated.
	* gm2/tools-src/def2texi.py:  modified so that references
	  to types, variables and constants are added to the index
	  at the end of the documentation.
	* gm2-libs-pim/RealInOut.def:  all long procedures are also
	  exported.

2007-12-07       Gaius Mulley <gaius@gnu.org>

	* gm2/NEWS:  updated.
	* gm2/gm2.texi:  documented new -fxcode option and minor
	  fixes.
	* gm2/lang-options.h:  added -fxcode to list of options.
	* gm2/lang.opt:  added -fxcode to list of options.
	* gm2/m2.flex:  added m2flex_GetColumnNo.
	* gm2/gm2-compiler/M2Error.mod:  OutString modified to
	  use column and produce GNU and Xcode format errors.
	* gm2/gm2-compiler/M2LexBuf.def:  export column
	  related procedures.
	* gm2/gm2-compiler/M2LexBuf.mod:  introduced recording
	  of the column position.  GetColumnNo, TokenToColumnNo
	  new procedures.
	* gm2/gm2-compiler/M2Options.def:  added Xcode.
	* gm2/gm2-compiler/M2Options.mod:  set Xcode accordingly.
	* gm2/gm2/gm2-compiler/M2Students.mod:  fixed spelling
	  mistake.
	* gm2/gm2-compiler/P1SymBuild.mod:  tidied up error
	  message.
	* gm2/gm2-compiler/SymbolTable.mod:  ditto.
	* gm2/gm2-compiler/m2flex.def:  added GetColumnNo
	  procedure.
	* gm2/gm2-libs-pim/BitBlockOps.mod:  intemediate checkin.

2007-12-06       Gaius Mulley <gaius@gnu.org>

	* gm2/tools-src/gensum.py:  new file.
	
2007-11-14       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2.texi:  corrected urls and last edit.
	* gm2/gm2-libs.texi:  recreated.

2007-11-10       Gaius Mulley <gaius@gnu.org>

	* gm2/m2.flex:  added explicit cast.
	* gm2/Make-lang.in:  now build h2def during stage2.
	* gm2/gm2/c.flex:  modified so that it ignores tabs.
	* gm2/bnf/h2def.bnf:  many bugfixes, still broken though.
	* gm2/gm2-compiler/CLexBuf.mod:  improved Debugging support.
	* gm2/gm2-compiler/gm2lcc.mod:  refactored comment handling
	  code to use the RemoveComment, RemoveWhiteSuffix and
          RemoveWhitePrefix procedures in DynamicStrings module.
	* gm2/gm2-compiler/gm2lgen.mod:  likewise handle comments.
	* gm2/gm2-libs/DynamicStrings.def:  export 
          RemoveWhitePrefix, RemoveWhitePostfix, RemoveComment.
	* gm2/gm2-libs/DynamicStrings.mod:  implement above.
	
2007-11-07       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  updated version to 0.63
	* gm2/gm2.texi:  updated version to 0.63 and updated
	  unbounded-by-reference documentation.
	* gm2/gm2-compiler/M2GenGCC.mod:  modified optimization
	  of unbounded addresses to test the memory range of
	  each unbounded parameter against a type compatible
	  var parameter, any overlapping addresses results in
	  a alloca and memcpy of the non var unbounded array.

2007-11-02       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GenGCC.mod:  completed the further
	  optimization of unbounded addresses.  It checks to
	  see if the contents of a type compatible unbounded
	  ARRAY matches the contents of a VAR parameter.
	  It checks against any VAR parameter (not just
	  unbounded VAR parameters - consider ARRAY OF BYTE).
	* gm2/gm2.texi:  documented the implementation of
	  the -funbounded-by-reference optimization flag
	  giving examples.

2007-10-30       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2.texi:  fixed @xref punctuation requirement.
	* gm2/gm2-compiler/M2GenGCC.mod:  fixed unbounded-by-reference
	  so that it works out whether two parameters might contain
	  the same contents.  Further optimization is possible via
	  runtime checking of unbounded addresses.
	* gm2/gm2-compiler/SymbolTable.mod:  factored out some code.

2007-10-26       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs/sckt.def:  moved here from examples/server.
	* gm2/gm2-libs-ch/sckt.c:  moved here from examples/server.
	* gm2/examples/ncurses/Makefile:  changed switches from -W
	  to -f
	* gm2/gm2-libs-coroutines/Makefile:  changed switches from -W
	  to -f
	* gm2/gm2-libs-coroutines/SysVec.mod:  added many Asserts and
          fixed some bugs relating to microseconds.
	* gm2/gm2-libs-coroutines/TimerHandler.mod:  fixed bug relating
	  to time vector.

2007-10-25       Gaius Mulley <gaius@gnu.org>

        * gm2/gccgm2.c:  CHAR is now declared as an unsigned char.
	* testsuite/gm2/pimlib/logitech/run/pass/bbits.mod:  new file.
	* testsuite/gm2/pimlib/logitech/run/pass/intb.mod:  new file.

2007-10-23       Gaius Mulley <gaius@gnu.org>

        * gm2/gm2.texi:  more building documentation fixes.
	* gm2/www/index.ms:  updated documentation to reflect
          changes to the gm2.texi building instructions.
	
2007-10-22       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-pim/BitBlockOps.{def,mod}:  added.
	* gm2/Make-lang.in:  added BitBlockOps to the Logitech list
          of modules.
	* gm2/gm2.texi:  improved building documentation which now
	  relates to the daily CVS snapshot held on
	  http://floppsie.comp.glam.ac.uk/download/c

2007-10-18       Gaius Mulley <gaius@gnu.org>

	* gm2/www/index.ms:  rationalised the building instructions
	  between the web page and gm2/gm2.texi
	* gm2/gm2.texi:  updated the building instructions.

2007-10-14       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  fixed bug in gm2/gm2-libs/gm2-libs-host.h
	  target so that configure uses the correct CC and CPP.

2007-10-09       Gaius Mulley <gaius@gnu.org>

	* gm2/README:  updated to reflect new homepage and mailing
	  list address.

2007-10-07       Gaius Mulley <gaius@gnu.org>

	* fixed bug reported by Dmitry Shatrov <shatrov@gmail.com>
	* gm2/gm2-compiler/M2Quads.mod:  added CheckNotConstAndVar
	  procedure.  BuildAssignment use CheckNotConstAndVar.
	* gm2/testsuite/gm2/pim/fail/constvar.mod:  added new
	  regression test.
	* gm2/gm2.texi:  updated the last update field.

2007-10-05       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  updated version to 0.62
	* gm2/Make-lang.in:  altered all -W options to their new
	  -f counterparts
	* gm2/README:  modified the advised build command
	* gm2/gccgm2.c:  removed all section of code inside #if 0
	  blocks (which were not part of the orig gcc source).
	* gm2/gccgm2.c:  modified OPT_W to OPT_f to reflect change
	  of -W flags to -f flags.
	* gm2/gccgm2.c:  reintroduced the -fcpp handling code.
	* gm2/gm2.texi:  updated version number to 0.62
	* gm2/gm2.texi:  altered all -W options to -f options
	  for code generation options.  Left warning options
	  to use -W to mirror the gcc paradigm.
	* gm2/gm2/gm2builtins.c:  memmove introduced.
	* gm2/gm2spec.c:  changed all -W options to -f.
	* gm2/lang-specs.h:  changed all -W options to -f.
	* gm2/lang.opt:  changed all -W options to -f.
	* gm2/bnf/gm2l.bnf:  changed all -W options to -f.
	* gm2/bnf/gm2m.bnf:  changed all -W options to -f.
	* gm2/gm2-libs-pim/BlockOps.{def,mod}:  added to repository.
	* gm2/examples/map/Makefile:  changed all -W options to -f and
	  added -O3.
	* gm2/gm2/gm2-compiler/M2Options.def:  changed comments.
	* gm2/gm2-compiler/M2Options.mod:  changed all -W options to -f.
	* gm2/gm2-compiler/M2Quads.mod:  changed all -W options to -f.
	* gm2/gm2-compiler/SymbolTable.mod:  changed all -W options to -f.
	* gm2/gm2-compiler/gm2.mod:  changed all -W options to -f.
	* gm2/gm2-compiler/gm2lcc.mod:  changed all -W options to -f.
	* gm2/gm2/gm2-compiler/ppg.mod:  modified compile-command.
	* gm2/gm2-libs/Builtins.def:  added memmove to the list of
	  builtins.
	* gm2/gm2-libs/Builtins.mod:  implemented M2 wrapper for memmove.
	* gm2/gm2-libs/cbuiltin.def:  added access to C memmove.
	* gm2/man/gm2.man:  changed all -W options to -f.
	
2007-09-27       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs/SYSTEM.mod:  added SHIFT, ROTATE and their
	  support counterparts.
	* gm2/gm2-libs-pim/BitByteOps.{def,mod}:  added.
	* gm2/gm2-libs-pim/BitWordOps.{def,mod}:  completed.
	* gm2/gm2.texi:  updated to reflect the addition of SHIFT,
	  ROTATE procedures in PIM SYSTEM.mod.
	* gm2/gm2/Make-lang.in:  
	* gm2/gm2/README:  
	* gm2/gm2/gccgm2.c:  
	* gm2/gm2/gm2.texi:  
	* gm2/gm2/gm2spec.c:  
	* gm2/gm2/lang-options.h:  
	* gm2/gm2/lang-specs.h:  
	* gm2/gm2/lang.opt:  
	* gm2/gm2/bnf/gm2l.bnf:  
	* gm2/gm2/bnf/gm2m.bnf:  
	* gm2/gm2/gm2-compiler/M2Options.def:  
	* gm2/gm2/gm2-compiler/M2Options.mod:  
	* gm2/gm2/gm2-compiler/M2Quads.mod:  
	* gm2/gm2/gm2-compiler/SymbolTable.mod:  
	* gm2/gm2/gm2-compiler/gm2.mod:  
	* gm2/gm2/gm2-compiler/gm2lcc.mod:  
	* gm2/gm2/gm2-compiler/ppg.mod:  all changed to reflect moving
	  -W switches to -f switches as per gcc.  Only using -W for
	  compile time warnings, -f for language features including
	  runtime checking.

2007-09-14       Gaius Mulley <gaius@gnu.org>

	* www/index.ms:  updated web pages to reflect 0.60 release
	  and availability of debian packages.
	
2007-08-14       Gaius Mulley <gaius@gnu.org>

	* gm2/patches/gcc/4.1.2/02.gaius_rs6000_lang:  new patch to
	  enable gm2 to build on the PS3 (ppc) based machines.

2007-08-08       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  fixes to enable avr cross compile to
	  build (use cross gcc and add -B./ when building libraries).

2007-07-23       Gaius Mulley <gaius@gnu.org>

	* gm2/gccgm2.c:  gccgm2_BuildSubrangeType switched over to using
	  the implementation of the subrange type as opposed to the base
	  INTEGER type.
	* gm2/gm2-compiler/M2Quads.mod:   CheckSubrange converts the
	  Exp into an INTEGER type before generating the range checking
	  quadruples.  This in turn allows M2SubExp.mod to be built with
	  optimization.  make gm2.paranoid with -O works against gcc-4.1.2.

2007-07-06       Gaius Mulley <gaius@gnu.org>

	* added gm2/gm2-harness.
	* gm2/Make-lang.in:  added interactive debugging module
	  gm2/m2pp.o to link targets.
	* gm2/gccgm2.c:  rewritten pushdecl and friends and vastly
	  simplified and reduced the code.  Modified all parameters
	  to use ANSI C rather than K&R C.  Rewritten create
          gccgm2_BuildStartFunctionCode and gccgm2_BuildEndFunctionCode.
          Also ensured that all variables are added to the statement list
	  via DECL_EXPR and ensured that BIND_EXPR and BLOCKs are created
	  in exactly the same way as their C counterparts.
	  Fixed important bug in creating TREEs which represent parameters.
	* gm2/m2pp.c:  new interactive debugging module will print a GCC
	  tree using Modula-2 syntax.
	* gm2/m2pp.h:  prototype for the above.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  unbounded types are now uniquely
	  created from their basic type.  Improved debugging of unbounded type.
	* gm2/gm2-compiler/M2GenGCC.mod:  DoCopyString new function which is
	  used by CodeBecomes and CodeXIndr.  Simplified CodeIndrX and CodeXIndr
	  in light of bugs fixed in gm2/gccgm2.c.
	* gm2/gm2-compiler/M2Quads.mod:  made the type following more accurate
	  during the construction of array arithmetic and indirection.  This
	  in turn allows -O to be used in GCC's backend.
	* gm2/gm2-compiler/SymbolTable.def:  modified interface to unbounded
	  symbols.
	* gm2/gm2-compiler/SymbolTable.def:  implemented above.
	* GM2 now builds when -O is suppled to stage2 or stage3.
	* GM2 now builds with (a patched) gcc-4.1.2

2007-05-28       Gaius Mulley <gaius@gnu.org>

	* gm2-compiler/M2Quads.mod:  replaced PutVarTypeAndSize with
	  PutLeftValueFrontBackType.
	* gm2-compiler/SymbolTable.mod:  implemented
	  PutLeftValueFrontBackType and GetLeftValueFrontBackType.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  rationalised variable
	  creation by introducing function:  DoVariableDeclaration.
	  All variables are created via this function.
	  Use GetLeftValueFrontBackType.

2007-05-18       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  removed -O for paranoid

2007-05-11       Gaius Mulley <gaius@gnu.org>
	
	* gm2/Make-lang.in:  added -O for paranoid
	* gm2/gccgm2.c:  
	* gm2/gm2-compiler/M2Base.def:  removed generic Unbounded type
	* gm2/gm2-compiler/M2Base.mod:  removed generic Unbounded type
	  creation.
	* gm2/gm2-compiler/M2Code.mod:  tidied up comments and semicolon.
	* gm2/gm2-compiler/M2GCCDeclare.def:  export DeclareParameters.
	* gm2/gm2-compiler/M2GCCDeclare.mod:  implement
	  DeclareParameters and new unbounded type mechanism.
	* gm2/gm2-compiler/M2GenGCC.mod:  modified references
	  to unbounded fields.  Fixed two major optimization bugs
	  in CodeXIndr and CodeIndrX pointer types
	  now use generic pointer types when building indirect GCC
	  trees.
	* gm2/gm2-compiler/M2Quads:  now create a specific unbounded type
	  rather than cast to a generic unbounded record.  Again this fixes
	  bugs in Tree construction which were exposed by the back end
	  when -O was enabled.
	* gm2/gm2-compiler/SymbolTable.def:  declared Unbounded record and
	  field operators.
	* gm2/gm2-compiler/SymbolTable.mod:  implement Unbounded record and
	  field operators.

2007-04-25       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs:  regenerated configure

2007-02-16       Gaius Mulley <gaius@gnu.org>

	* gm2/bnf/gm2m.bnf:  fixed string deallocation bug.
	* gm2/gm2-libs-pim/FileSystem.{def,mod}:  exported Reset
	  and fixed filename and string conversion.

2007-02-07       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GCCDeclare.mod:  added FindOuterModule
	  to determine whether a symbol should be declared in the
	  GCC global scope.
	* fixes ulm library building problem introduced by the previous
	  interim checkin.

2007-02-06       Gaius Mulley <gaius@gnu.org>

	* interim checkin, due to optimization fixes.
	* gm2/gccgm2.c:  changes to the way variables are declared.
	  Removed calls to expand_decl.
	* gm2-compiler/M2GCCDeclare.mod:  passes boolean to
	  DeclareKnownVariable indicating whether the variable was
	  declared in the outer global scope.

2007-01-26       Gaius Mulley <gaius@gnu.org>

	* gm2/gccgm2.c: mark_function_addresses_referenced added.
	* gm2/gccgm2.c: gccgm2_MarkFunctionReferenced added.
	* gm2/gccgm2.c: gccgm2_SetFlagUnitAtATime added.
	* gm2/gm2-compiler/M2Code.mod: MarkExported used.
	* gm2-compiler/M2GCCDeclare.def: MakeExported defined.
	* gm2-compiler/M2GCCDeclare.mod: MakeExported added.
	* gm2/gm2-compiler/gccgm2.def:  SetFlagUnitAtATime,
	  MarkFunctionReferenced, defined.

2007-01-19       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-pim/FileSystem.mod:  added.
	* gm2/Make-lang.in:  introduced GM2_O_S3 variable so that
	  optimization can be introduced into stage3 only.
        * gm2/gccgm2.c:  added gccgm2_FinishBackend.
	* gm2/gm2-compiler/M2Code.mod:  use gccgm2_FinishBackend.

2007-01-18       Gaius Mulley <gaius@gnu.org>

	* gm2/gccgm2.c:  use gm2_mark_addressable rather than
	  the TREE_ADDRESSABLE macro for consistency.

2007-01-05       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-file.in:  added FileSystem.mod to the gm2-libs-pim
	  set of libraries.
	* gm2/TODO:  removed FileSystem.mod from the list
	* gm2/gm2-compiler/P1SymBuild.mod:  added error message
	* gm2/gm2-libs/FIO.mod:  fixed copyright message
	* gm2/gm2-libs/M2RTS.def:  fixed typo.
	* gm2/gm2-libs/libc.def:  added rename function.
	* gm2/gm2-libs/wrapc.def:  modified filesize so that it modifies
	  two unsigned ints as the size, rather than return a long unsigned.
	* gm2/gm2/gm2-libs-ch/libc.c:  added unlink function.
	* gm2/gm2/gm2-libs-ch/wrapc.c:  implemented filesize.
	* gm2/gm2/gm2-libs-pim/FileSystem.def:  improved comments and added
	  more file state to the File record.

2006-12-25       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-file.in:  fixed conditional building of library files.
          Bug reported by Michael Lambert <lambert@psc.edu>.

2006-12-21       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  fixed manual page installation.
	* gm2/lang-options.h:  include -Wlibs=min option.
	* gm2/gm2-libs-min/libc.c:  added parameters to functions.
	* gm2/gm2-libs-min/libc.def:  added.

2006-12-20       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs-min:  added
	* gm2/gm2spec.c:  modified to relect introduction of -Wlibs=min
	* gm2/gm2.texi:  document -Wlibs=min
	* gm2/config-lang.in:   include gm2cc to be installed
	* GNU Modula-2 can be built as a cross compiler for the avr
	  microprocessor.

2006-12-18       Gaius Mulley <gaius@gnu.org>

	* gm2/www/index.ms:  updated web page to reflect G5 successful
	  make gm2.paranoid using gcc-3.3.6 and CVS
	  tag D2006.06.23.04.00.00
	* gm2/gccgm2.c:  use integer_type_node instead of boolean_type_node
	  as the size of boolean_type_node can differ from the
	  size of an integer_type_node.
	* make gm2.paranoid works on LP64 opteron with a patched gcc-4.1.0

2006-12-17       Gaius Mulley <gaius@gnu.org>

	* fixed line number debugging information at the end of a
	  function.

2006-12-05       Gaius Mulley <gaius@gnu.org>

        * gm2/gm2-compiler/M2Quads.mod:  BuildCastFunction allow arrays
          to be cast.
	* testsuite/gm2/iso/stringchar.mod:  fixed typos.
	* gm2/gm2-compiler/M2Quads.mod:  BuildDynamicArray,
	  BuildStaticArray, BuildDesignatorArray all SkipType to allow
	  type equivalence between arrays.

2006-11-02       Gaius Mulley <gaius@gnu.org>

	* gm2/lang-specs.h:  use gm2cc rather than the gcc driver.
	* gm2/gm2-compiler/gm2lcc.mod:  also use gm2cc rather
	  than gcc.
	* gm2/gm2-compiler/gm2lcc.mod:  corrected extern
	  declaration of exit.
	* gm2/Make-lang.in:  generate gm2cc from xgcc and install
          it correcly.
        * testsuite/gm2/pim/options/optimize/run/pass/gm2.exp: fixed
          library module build.

2006-10-20       Gaius Mulley <gaius@gnu.org>

	* gm2/gccgm2.c:  fixed building of constants strings.
	  Constants are also placed into the global scope so
	  that they are not garbage collected.
	* gm2/M2GenGCC.mod:  CodeXIndr handle special case of
	  null string.
	* gm2/Make-lang.in:  add automatically generated modules
	  to the verify12 rule.
	* added a string assignment regression test.

2006-10-19       Gaius Mulley <gaius@gnu.org>

	* www/index.ms:  updated gm2-harness release to 0.96.
	* gm2/gm2-compiler/SymbolConversion.mod:   Poison must
	  not check for gcc poisoning as it is called after a
	  function has been emitted and potentially poisoned.

2006-10-18       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-config.in:  added.
	* gm2/Make-lang.in:  include gm2/gm2-config.
	* gm2/configure.in:  generate gm2/gm2-config.
	* backed out above changes

2006-10-17       Gaius Mulley <gaius@gnu.org>

	* gm2/aclocal.m4:  added.
	* gm2/configure:  rebuilt.

2006-10-14       Gaius Mulley <gaius@gnu.org>

	* gm2/Make-lang.in:  minor fixes to build manual pages.

2006-10-13       Gaius Mulley <gaius@gnu.org>

	* gm2/gccgm2.c:  call gimplify_function on all
          functions.
	* gm2/Make-lang.in:  added ability to optionally build
	  the ulm libraries which matches gm2-harness-0.94.

2006-10-12       Gaius Mulley <gaius@gnu.org>

	* gm2/patches/gcc/4.1.1/01.gaius_patch_gcc: added.

2006-10-07       Gaius Mulley <gaius@gnu.org>

	* gm2/gccgm.2c:  fixed conditional goto expressions.

2006-10-04       Gaius Mulley <gaius@gnu.org>

	* gm2/gccgm.2c:  added debugging stub.

2006-10-03       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GenGCC.mod:  fixed BuildEnd
	  to use IsProcedureGccNested in CodeKillLocalVar.
	* gm2/gm2-compiler/M2GCCDeclare.def:
	  export IsProcedureGccNested.
	
2006-10-01       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-compiler/M2GenGCC.mod:  modified BuildEnd
	  to taken an extra parameter, nested, and set it
	  accordingly.

2006-09-30       Waldek Hebisch <hebisch@math.uni.wroc.pl>

	* gm2/gccgm2.c: (gccgm2_BuildEndFunctionCode) only
	  call gimplify_function_tree and cgraph_finalize_function
	  if the procedure is not nested.

2006-09-29       Gaius Mulley <gaius@gnu.org>

	* removed execute permissions for source files.
	* gm2/patches/gcc/4.1.0/01.gaius_patch_gcc: improved.
	* gm2/gccgm2.c:  fixed comment.
	
2006-09-20       Gaius Mulley <gaius@gnu.org>

	* gm2/patches/4.1.0/01.gaius_patch_gcc: added.

2006-09-19       Gaius Mulley <gaius@gnu.org>

	* huge amount of changes to bring gm2 up to gcc-4.1.0 and
	  also make it build with gcc-4.1.0.
	* modified gm2/
          Make-lang.in config-lang.in configure.in gccgm2.c 
          gm2-common.h gm2-lang.c gm2-lang.h gm2-tree.h gm2.texi 
          gm2builtins.c gm2spec.c lang-specs.h bnf/m2-3.bnf 
          examples/server/sckt.c examples/server/sckt.def 
          gm2-compiler/M2Comp.mod gm2-compiler/M2GCCDeclare.mod 
          gm2-compiler/M2GenGCC.mod gm2-compiler/M2Options.def 
          gm2-compiler/M2Options.mod gm2-compiler/M2Preprocess.mod 
          gm2-compiler/gccgm2.def gm2-compiler/gm2.mod 
          gm2-compiler/gm2lgen.mod gm2-libs/ASCII.def gm2-libs/ASCII.mod 
          gm2-libs/Args.def gm2-libs/Debug.def gm2-libs/IO.mod 
          gm2-libs/SYSTEM.mod gm2-libs/StdIO.mod gm2-libs/StrLib.mod 
          gm2-libs/StringConvert.def gm2-libs/libc.def 
          gm2-libs-coroutines/KeyBoardLEDs.c 
          gm2-libs-coroutines/Makefile gm2-libs-coroutines/SysVec.mod 
          gm2-libs-coroutines/TimerHandler.mod p2c/p2c.h 
          p2c/p2c-src/src/makeproto.c p2c/p2c-src/src/p2c-config.h 
          p2c/p2c-src/src/p2clib.c tools-src/mklink.c www/index.ms 
        * added files:
          gm2/gm2-common.c gm2/gm2-tree.def gm2/lang.opt 

2006-08-31       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2-libs/ASCII.def: changed EOL to equal to nl rather
	  than cr.

2006-08-10       Gaius Mulley <gaius@gnu.org>

	* fixed ASM statement.
	* gm2/bnf/m2-3.bnf: fixed Pass3 and Pass2 const
	* gm2/gccgm2.c: modified gccgm2_BuildAsm to use add_stmt
	  rather than expand_asm_expr.

2006-08-09       Gaius Mulley <gaius@gnu.org>

	* GM2 Release 0.53
	* changed release number in configure.in, gm2.texi, Make-lang.in
	* builds with gcc-4.1.0
	
2006-08-08       Gaius Mulley <gaius@gnu.org>

	* GM2 Release 0.52
	* tagged CVS using gm2_0_52
	* gm2/NEWS updated
	* changed release number in configure.in, gm2.texi, Make-lang.in
	* rebuilt configure

2006-08-07       Gaius Mulley <gaius@gnu.org>

	* gm2/www/index.ms: updated to reflect release of gm2-harness-0.9

2006-06-23       Gaius Mulley <gaius@gnu.org>

	* gm2/www/index.ms: updated to reflect release of gdb-6.5 which
	  contains enhanced Modula-2 language support.  It also
          documents that gm2-harness-0.8 has been released.

2006-05-22       Gaius Mulley <gaius@gnu.org>

	* gm2/www/index.ms: updated to reflect sparc build success from
	  John O Goyo <jgoyo@ca.inter.net> 

2006-05-04       Gaius Mulley <gaius@gnu.org>

	* implemented __INLINE__
	* gm2/gccgm2.c:  modified to inline procedures if requested.
	* gm2/m2.flex: added new keyword __INLINE__
	* gm2/gm2-compiler/M2Reserved.def
	* gm2/gm2-compiler/M2Reserved.mod: added new keyword __INLINE__
	* gm2/gm2-compiler/P1SymBuild.mod: builds inlined procedure
	* gm2/gm2-compiler/M2GenGCC.mod: passes front end inlined procedure
	  to gccgm2.

2006-04-24       Gaius Mulley <gaius@gnu.org>

	* GM2 Release 0.51
	* tagged CVS using gm2_0_51
	* gm2/NEWS updated
	* rebuilt configure
	* finished implementing declaration of variables at addresses.
	* modified gm2/bnf/m2-3.bnf, gm2/gm2-compiler/M2Quads,
	  gm2/gm2-compiler/SymbolTable.mod, gm2-compiler/P3SymBuild.mod

2006-04-22       Gaius Mulley <gaius@gnu.org>

	* implemented the declaration of a variable at an address.
	* modified gm2/bnf/m2-3.bnf, gm2/bnf/m2-2.bnf, gm2/gm2-compiler/M2Quads.mod

2006-04-21       Gaius Mulley <gaius@gnu.org>

	* added testsuite/gm2/pim/pass/varaddress.mod
	* modified gm2/bnf/m2.bnf, gm2/bnf/m2-2.bnf, gm2/bnf/m2-3.bnf,
	  gm2/bnf/m2-h.bnf to allow parsing of variables declared at addresses.

2006-04-19       Gaius Mulley <gaius@gnu.org>

	* added testsuite/gm2/pim/pass/sets5.mod
	* fixed bug report by John O Goyo <jgoyo@ca.inter.net>
	* (testsuite/gm2/pim/pass/sets5.mod and testsuite/gm2/pim/pass/sets4.mod)

2006-04-19       Gaius Mulley <gaius@gnu.org>

	* added testsuite/gm2/pim/pass/sets5.mod
	* fixed bug report by John O Goyo <jgoyo@ca.inter.net>
	* (testsuite/gm2/pim/pass/sets5.mod and testsuite/gm2/pim/pass/sets4.mod)

2006-03-25       Gaius Mulley <gaius@gnu.org>

	* added testsuite/gm2/pim/pass/sets4.mod
	* gm2/gm2-compiler/P2SymBuild.mod: added more robust error detection
	* gm2/gm2-compiler/M2GenGCC.mod: added more robust error detection

2006-03-17       Gaius Mulley <gaius@gnu.org>

	* added successful build reports to the web page

2006-02-21       Gaius Mulley <gaius@gnu.org>

	* gm2/gm2.texi: fixed new urls and added missing escaped @
	* gm2/gm2-libs.texi: rebuilt
	* gm2/gm2-iso/README.texi: fixed typo

2006-02-20       Gaius Mulley <gaius@gnu.org>

	* gm2/NEWS updated

2006-02-13       Gaius Mulley <gaius@gnu.org>

	* GM2 Release 0.50
	* tagged CVS using gm2_0_50
	* gm2/NEWS: added, which contains news of user visible changes.
	* gm2/Make-lang.in: updated version number
	* gm2/gm2.texi: updated gm2 release number to 0.50 and gm2-harness number to 0.7
	  and improved install section.
	* gm2/www: added homepage documents

2006-02-10       Gaius Mulley <gaius@gnu.org>

	* gm2/ulm-lib-gm2/std/GetPass.mod: modified to work with:
	* gm2/ulm-lib-gm2/sys/termios.def: new definition module for C
	* gm2/ulm-lib-gm2/sys/termios.c: portable implmentation module for termios
	  interface
	* gm2/ulm-lib-gm2/sys/SysTermIO.def: Modula-2 interface to the underlying
	  termios library.
	* gm2/ulm-lib-gm2/sys/SysTermIO.mod: Modula-2 interface to termios.c.
	* all regression tests pass on LP64

2006-02-07	 Gaius Mulley <gaius@gnu.org>

	* fixed copyright notices for all ISO definition modules in
	  gm2/gm2-iso.
	
2006-01-23	 Gaius Mulley <gaius@glam.ac.uk>

	* gm2/gm2-compiler/M2Options.mod: allow -p option.
	* gm2/gm2-compiler/M2Quads.mod: remove call to stress stack during
	  Initialization

2006-01-17	 Michael H Lambert <lambert@psc.edu>

	* testsuite/gm2/iso/pass/realbitscast.mod: modified to detect whether
	  it is being run under alpha and 64 bit architecture.
	* testsuite/gm2/cpp/pass/subaddr.mod: modified to detect whether
	  it is being run under alpha and 64 bit architecture.

2006-01-17	 Gaius Mulley <gaius@glam.ac.uk>

	* gm2/gm2-compiler/M2GenGCC.mod: coerse constants passed to parameter
	  of SYSTEM types. Fixes the make gm2.paranoid on ppc architecture.
	* testsuite/gm2/iso/pass/realbitscast.mod: modified to detect whether
	  it is being run under ia64 architecture.
	* testsuite/gm2/cpp/pass/subaddr.mod: modified to detect whether
	  it is being run under ia64 architecture.

2006-01-16	 Gaius Mulley <gaius@glam.ac.uk>

	* gm2/gccgm2.c: altered INCL, EXCL and bit tests so that they subtract the
	  low value of the subrange before performing the bit operation.
	* testsuite/gm2/pim/run/pass/setcritical.mod to test bugfix.
	* gm2/gm2-compiler/gm2lcc.mod: added -B option
	* gm2/lang-specs.h: pass -B option to gm2lcc

2006-01-10	 Gaius Mulley <gaius@glam.ac.uk>

	* fixed INTEGER, SHORTINT and LONGINT so that they all
	  call upon gccgm2_GetM2<type> rather than their C counterparts.
	* fixed constant overflow on 32 bit address architectures when
	  compiling arrayhuge.mod and arrayhuge2.mod (as reported by
	  Michael H Lambert <lambert@psc.edu>)
	* M2Code.mod::Code: call FlushWarnings and FlushErrors after StartDeclareScope
	  which flushes errors before code generation starts. This fixes
	  a timeout bug in the regression tests reported by
	  (John B Wallace Jr <wallacjb@enter.net>).
	* M2GenGCC.mod::CodeSavePriority: introduced PriorityDebugging and turned
	  off debugging messages
	* M2GenGCC.mod::CodeRestorePriority: introduced PriorityDebugging and turned
	  off debugging messages
	* all regression tests now pass on GNU/Linux i386 (Debian Sarge)
	* gm2/gm2-compiler/M2Quads.mod::LoopAnalysis:fixed bug in while loop
	* corrected testsuite/gm2/errors/fail/testimport.mod to include a double import.

2006-01-09	 Gaius Mulley <gaius@glam.ac.uk>

	* fixed LONGINT/LONGCARD bugs so that
	  testsuite/gm2/switches/pim4/run/pass/FpuIOBug.mod now passes.
	  LONGINT and LONGCARD are declared as long long int and
	  long long unsigned int respectively.
	* updated gm2/gm2.texi to reflect changes in LONGINT and LONGCARD.

2006-01-08	 Gaius Mulley <gaius@glam.ac.uk>

	* modified examples to utilize the module priority mechanism.

2006-01-06	 Gaius Mulley <gaius@glam.ac.uk>

	* improved implementation of module priorities so that
	  only externally accessible procedures save and restore
	  interrupts.
	* added testsuite/gm2/pimlib/coroutines/pass/priority3.mod and
          testsuite/gm2/pimlib/coroutines/pass/priority3.def to test exporting
	  of procedures which need to save and restore interrupt priorities.

2006-01-05	 Gaius Mulley <gaius@glam.ac.uk>

	* gm2/Make-lang.in: removed GM2_DIRS from the dependancies of
	  various rules, which in turn removed a number of "build loops"
	* gm2/config-lang.in: removed reference to gm2/p2c/p2c-src/examples/Makefile 
	
2006-01-04	 Gaius Mulley <gaius@glam.ac.uk>

	* implemented module priorities.
	* implemented gm2/gm2-libs-pim/TimeDate.mod
	* added testsuite/gm2/pimlib/coroutines/pass/priority.mod,
          testsuite/gm2/pimlib/coroutines/pass/priority2.mod and
          testsuite/gm2/pimlib/logitech/run/pass/timedate.mod
	* included TimeDate to be installed as part of the pim
	  libraries.

2006-01-03	 Michael H Lambert <lambert@psc.edu>

	* fixed typo in gm2/gm2.texi
	* added __ppc__ ifdefs into testsuite/gm2/iso/pass/realbitscast.mod
          so that it ignores the REAL96 test on the G5
	* added __ppc__ ifdefs into testsuite/gm2/switches/pim4/run/pass/FpuIOBug.mod

2005-12-29      Gaius Mulley <gaius@glam.ac.uk>
		
	* corrections made to gm2/gm2.texi

2005-12-24      Gaius Mulley <gaius@glam.ac.uk>

	* joined lines in gm2/tools-src/createUlmSys as
	  requested by Christoph <modula2@myrealbox.com>
	  so that gm2 will build on netbsd 2.1.
	* added time and tm to gm2/gm2-libs/libc.def.
	* added partial implementation of
	  gm2/gm2-libs-pim/TimeDate.def
          gm2/gm2-libs-pim/TimeDate.mod

2005-12-22      Gaius Mulley <gaius@glam.ac.uk>

	* added gm2/gm2-libs-pim/Random.def and
          gm2/gm2-libs-pim/Random.mod and
	* modified gm2/Make-lang.in to install new module.
	* remove Random from the TODO list.

2005-12-21      Gaius Mulley <gaius@glam.ac.uk>

	* added gm2/gm2-libs-pim/Strings.def and
          gm2/gm2-libs-pim/Strings.mod
 	* modified gm2/Make-lang.in to install new module.

2005-12-19      Gaius Mulley <gaius@glam.ac.uk>

	* implemented logitech compatible library
	  gm2/gm2-libs-pim/RealConversions.def and
          gm2/gm2-libs-pim/RealConversions.mod
	* added regression test for RealConversions
	  testsuite/gm2/pimlib/logitech/run/pass/realconv.mod
	* fixed regression test expect script to set the
	  library path correctly.
	* updated gm2/gm2-libs.texi to reflect addition of
	  RealConversions.mods
	* added gm2/gm2-libs-pim/FloatingUtilities.def
	* added gm2/gm2-libs-pim/FloatingUtilities.mod
	* increased number of builtin functions accessible to GNU Modula-2.
	
2005-12-13      Gaius Mulley <gaius@glam.ac.uk>

	* gm2/gccgm2.c:default_conversion now checks the base type.
	* gm2/gm2-compiler/M2GCCDeclare.mod: add Subrange types onto the
	  to do list, if they are not yet resolved.

2005-12-10      Gaius Mulley <gaius@glam.ac.uk>

	* fixed Copyright in gm2/gm2-libs-pim library modules
	* gm2/gm2-compiler/M2Quads.mod:BuildForToByDo allowed Z type by value.
	* gm2/gm2-compiler/M2Quads.mod:BuildPseudoBy converted by value if type
	  is known.
	* fixes a bug reported by: James V. Cox example given in
	  testsuite/gm2/pim/run/pass/EnumTest.mod

2005-12-10      Gaius Mulley <gaius@glam.ac.uk>

	* fixed Copyright in gm2/gm2-libs-pim library modules

2005-12-06      Gaius Mulley <gaius@glam.ac.uk>

	* fixed Copyright in University of Ulm modules and also p2c.
	* heavily tidied up the p2c source tree.

2005-12-05      Peter P. Eiserloh <peter@eiserloh.org>

	* contributed the gm2 manual page and associated Makefile
	  in the new subdirectory: gm2/man.
	
2005-11-29	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug reported by John Wallace and Juan Reyes
	  concerning FOR loops with negative step values.
	* added new runtime regression tests gm2/pim/run/pass/For[78].mod
	  to test these new changes.
	* changes to gm2/gm2-compiler/M2Base.mod, gm2-compiler/M2Code.mod,
          gm2/gm2-compiler/M2GenGCC.mod, gm2/gm2-compiler/M2Quads.mod
	  to ensure that the Negate operator works on large data types
	  LONGCARD contants are changed into LONGINT and overflow is
	  checked.

2005-11-22	Gaius Mulley <gaius@glam.ac.uk>

	* modified ppg to take an extra parameter -f which emits the
	  Free Documentation License header when producing texinfo
	  ebnf rules.
	* fixed many dates on source files.

2005-11-21	Gaius Mulley <gaius@glam.ac.uk>

	* fixed many Copyright dates and GPL, LGPL and FDL license
	  issues.
	* replaced gm2/ulm-lib-gm2/std/Storage.mod with an implementation
	  which uses malloc and free. This in turn fixes a runtime regression
	  test (hello world) now works with the Ulm libraries.
	* fixed gm2/gm2.texi to include FDL notice and also fixed all
	  included texi files in the same way.
	* added GPL, Modula-2 and Copyright notices to all gm2/tools-src
	  files.

2005-11-15	Gaius Mulley <gaius@glam.ac.uk>

	* added more regression tests and
	* completed the printing of set types within gdb
	* completed the printing of array and subrange types within gdb
	* made gdb print Modula-2 style CHARs and improved type printing
	  within gdb.
	* rationalised the gdb and gcc patches within the gm2/patch
	  subdirectories.
	* modified gm2-harness-0.6 to apply patches in order.
	* minor fixes to gm2/gccgm2.c to give better type information.
	* improved gdb section within gm2/gm2.texi

2005-11-11	Gaius Mulley <gaius@glam.ac.uk>

	* fixed minor node bugs in gm2/gm2.texi, gm2/gpl.texi, gm2/gnu.texi

2005-11-10	Gaius Mulley <gaius@glam.ac.uk>

	* added gm2/COPYING.LGPL
	* changed all references of the old FSF address to the new address.
	* fixed bugs reported by John Wallace (MAX(INTEGER), MAX(LONGINT),
	  MIN(INTEGER) and MIN(LONGINT)) were not correctly converted in
	  gm2/gm2-libs-pim/InOut.mod, gm2/gm2-libs/FpuIO.mod,
	  gm2/gm2-libs/NumberIO.mod.
	* added new regression tests in
	  gm2/switches/pim4/run/pass/InOutBug.mod and
	  gm2/switches/pim4/run/pass/FpuIOBug.mod which perform regression
	  runtime tests.

2005-11-07	Gaius Mulley <gaius@glam.ac.uk>

	* added gm2/COPYING and included licence information
	  inside gm2/gm2.texi
	* added gm2/gnu.texi and gm2/gpl.texi and referenced
	  them from gm2/gm2.texi

2005-11-06	Gaius Mulley <gaius@glam.ac.uk>

	* improved the gdb patches

2005-11-03	Gaius Mulley <gaius@glam.ac.uk>

	* fixes to set types and subranges which in turn
	  when applied with the patches made to ../../gcc/dwarf2out.c
	  and also gdb/gdb/dwarf2read.c allow subranges and
	  set types to be debugged when using the dwarf2 format.
	* included the patches to gcc-3.3.6 and gdb-6.3 under the
	  new directory gm2/patches
	* fixed patch for gdb-6.3
	* updated gm2/gm2.texi
	* released gm2-harness-0.6 which will automatically patch
	  gcc-3.3.6 and gdb-6.3, build and install these components.
	* fixed warnings from within the gcc patch

2005-10-14	Gaius Mulley <gaius@glam.ac.uk>

	* fixed set type debugging information.
	  Many changes to gm2/gccgm2.c and
	  minor changes to gm2/gm2-compiler/M2GenGCC.mod.
	  Debugging set types with gdb now works if -gstabs
	  are used on the command line of gm2 and also the
	  modified gdb-6.3 is used.

2005-10-13	Gaius Mulley <gaius@glam.ac.uk>

	* fixed call to ranlib in gm2/gm2-compiler/gm2lcc.mod

2005-10-10	Gaius Mulley <gaius@glam.ac.uk>

	* introduced an invocation to ranlib after producing the
	  archive to fix a linking bug on MacOS OS 10.3.9 reported
	  by: Thomas Ahn <TAhnMaple@gmx.de>.
	* propagated ranlib though the various subcomponents of
	  gm2: gm2/gm2spec.c gm2/lang-specs.h gm2/Make-lang.in
	  gm2/gm2-compiler/gm2lcc.mod gm2/gm2-compiler/M2Options.mod

2005-10-07	Gaius Mulley <gaius@glam.ac.uk>

	* replaced MathLib.mod onto the list of ULM modules	  
          which prior to installation.
	* fixed ggc bug so that types are remembered and marked.
	  These types are declared in M2GCCDeclare.mod before
	  code generation takes place and do not experience the
	  `push_decl' function.

2005-10-03	Michael H Lambert <lambert@psc.edu>

	* removed $(LIBS) from the dependancies of cc1gm2 in
	  stage1, stage2 and stage3.

2005-09-30	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug in gm2/gm2-libs/FpuIO.mod so that the sign is
	  not prepended to the string if the number is positive.
	* fixed gm2/gm2-libs-pim/Break.c to use HAVE_STDLIB_H and
	  HAVE_MALLOC_H as detected by the configure script.
	* removed ulm-lib-gm2/std/MathLib.mod from the build
	  process as a temporary work around to get gm2 working
	  under opendarwin.

2005-09-27	Gaius Mulley <gaius@glam.ac.uk>

	* finally fixed _toupper porting problem in p2c as reported
	  by Thomas Ahn <TAhnMaple@gmx.de>, Ed Smith-Rowland
	  <3dw4rd@verizon.net>, John o goyo <jgoyo@ca.inter.net>,
          Eduardo Abela <eabela@mac.com>, John Calley
	  <calleys@iquest.net> and many others.
	* finally fixed the linking problem when building under
	  opendarwin. I suspect this will fix the same problems
	  under MacOS.

2005-09-16	Gaius Mulley <gaius@glam.ac.uk>

	* implemented -Wpositive-mod-floor-div option
	* updated gm2/gm2.texi and added many switch testing
	  regression tests.

2005-09-13	Gaius Mulley <gaius@glam.ac.uk>

	* implemented REM
	* implemented MOD, DIV, / as per ISO, PIM2, PIM3, PIM4
	* updated gm2/gm2.texi documentation to reflect the rules

2005-09-12	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug reported by John B. Wallace, Jr <wallacjb@enter.net>
	  testsuite/gm2/pim/options/bounds/fail/IdentifierBug.mod
	* fixed bug reported by John B. Wallace, Jr <wallacjb@enter.net>
	  testsuite/gm2/testsuite/gm2/pim/pass/ABSBug.mod
	* fixed bug reported by John B. Wallace, Jr <wallacjb@enter.net>
	  testsuite/gm2/pim/run/pass/FpuIOBug.mod
	
2005-09-06	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug reported by John B. Wallace, Jr <wallacjb@enter.net>
          gm2-libs/StringConvert.mod incorrect assumption of negative valued
	  modulus operator.
	* added testsuite/gm2/pimlib/{logitech, ulm} with tests to check
	  that programs can be linked against logitech and the ulm libraries.
	* added testsuite/gm2/pim/run/pass/modulus.mod which tests for
	  various division and modulus cases.
	
2005-09-01	Gaius Mulley <gaius@glam.ac.uk>

	* implemented -Wdef=extension and -Wmod=extension switches
	  into GNU Modula-2 compiler and subcomponents (gm2l and gm2m).
	* documented the new switches in gm2/gm2.texi
	
2005-08-09	Gaius Mulley <gaius@glam.ac.uk>

	* fixed nested WITH statement bug and added
	* testsuite/gm2/pim/run/pass/nestedwith.mod to regressively
	  check the fix.

2005-08-08	Gaius Mulley <gaius@glam.ac.uk>

	* fixed many bugs in gm2/gm2-libs-coroutines/SysVec.mod
	* minor updates to gm2/gm2-libs-coroutines/TimerHandler.mod

2005-07-26	Gaius Mulley <gaius@glam.ac.uk>

	* modified debian directory so that 0.49 can be built as
	  a debian package

2005-07-25	Michel Derosa <derosa@videotron.ca>

	* fixed malloc.h include for BSD based systems in
	  gm2/gm2-libs-pim/Break.c

2005-07-21	Gaius Mulley <gaius@glam.ac.uk>

	* moved gm2/examples/executive/Executive, TimerHandler, Debug,
	  SysVec to gm2/gm2-libs-coroutines and
	* made gm2/Make-lang.in install these modules
	* removed the -Wulm option and replaced it with -Wlibs=ulm
	* added -Wlibs=logitech, -Wlibs=pim, -Wlibs=iso,
	  -Wlibs=pim-coroutine
	* altered gm2/Make-lang.in so that the correct library modules
	  are placed into the correct directories during install.

2005-07-20	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug exposed by: testsuite/gm2/pim/pass/maxlongint.mod
	* modified IsMathType in gm2/gm2-compiler/M2Base.mod accordingly.
	
2005-07-18	Gaius Mulley <gaius@glam.ac.uk>

	* updated gm2/gm2.texi and gm2/gm2-libs.texi
	* introduced modules Delay, ErrorCode, DebugTrace
	  and Break into gm2/gm2-libs-pim
	* modified gm2/Make-file.in so that these modules
	  are built and installed.

2005-07-14	Gaius Mulley <gaius@glam.ac.uk>

	* GM2 Release 0.49
	* tagged CVS using gm2_0_49
	
	* introduced SHORTCARD into p2c
	* added gm2/gm2-libs-pim/CardinalIO.def and
	  gm2/gm2-libs-pim/CardinalIO.mod
	* added a number of procedures to implement CardinalIO.mod
	  in gm2/gm2-libs/StringConvert.mod
	* improved gm2/gm2.texi
	* modified gm2/Make-file.in so that the library modules
	  in gm2/gm2-libs-pim are also built and installed

2005-07-10	Gaius Mulley <gaius@glam.ac.uk>

	* constant literal string array assignment of smaller sizes to
	  array variables and parameters.

2005-07-09	Gaius Mulley <gaius@glam.ac.uk>

	* implemented MAX(ADDRESS) and MIN(ADDRESS)

2005-07-08	Gaius Mulley <gaius@glam.ac.uk>

	* finally all ulm modules compile under GM2
	* fixed negative integer bug which was exposed in the 32 bit port
	  of gm2 when compiling testsuite/gm2/pim/pass/setoverflow.mod
	  and also gm2/ulm-lib-gm2/std/TimeIO.mod

2005-07-06	Gaius Mulley <gaius@glam.ac.uk>

	* fixed a number of bugs relating to gm2 failuring to compile
	  gm2/ulm-lib-gm2/std/TimeIO.mod. Nested modules within
	  procedures exporting variables.
	* alterations include correct type declaration ahead of
	  variable creation.
	* creating all variables in the outer most procedure scope
	  if these variables are exported from inner modules.
	* also fixed gm2/gccgm2.c so that pointer to sets are cast
	  into a generic ptr
	* also fixed offset into sets (which had assumed sets started
	  with an element value zero).

2005-06-22	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug reported by John O Goyo <jgoyo@ca.inter.net>
	  multiple indexed arrays were internally defined incorrectly
	  and did not allow users to mix array indices by a[x,y,z] and
	  a[x][y,z] etc as per PIM and ISO specification.
	  see testsuite/gm2/pim/pass/index.mod and
              testsuite/gm2/pim/pass/index2.mod and
              testsuite/gm2/pim/run/pass/index3.mod

2005-06-20	Gaius Mulley <gaius@glam.ac.uk>

	* added code to treat LOC as a system type in parameter
	  passing.

2005-06-17	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug reported by John O Goyo <jgoyo@ca.inter.net>
	  CAST of different sized variables would fail.
	* added new switch -Wpedantic-cast which warns if a cast
	  is converting a variable of a different size to the type.

2005-06-08	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug which occurred if a constant set was created
	  in a procedure through the CONST construct.
	* fixed a number of -Wextended-opaque issues in gm2/bnf/m2-h.bnf
	* modified gm2/Make-lang.in to use -Wextended-opaque (for testing)

2005-06-07	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug which occurred if an enumerated type field
	  was imported by another module.
	  (See testsuite/gm2/pim/pass/set10.mod)
        * fixed circular dependancy bug in record generation.

2005-06-03	Gaius Mulley <gaius@glam.ac.uk>

	* reverted some of the changes made to the ulm libraries
	  in the light of fixing arrays with huge indices.
	* mofified gm2/bnf/m2-h.bnf so that expressions within
	  statement sequences are ignored.

2005-06-02	Gaius Mulley <gaius@glam.ac.uk>

	* gm2/gccgm2.c fixed BuildArrayIndexType so that gm2 can build
	  arrays which have huge indices. This removes a failure from
	  the regression tests on systems which have a 32 bit long.

2005-06-01	Gaius Mulley <gaius@glam.ac.uk>

	* gm2/Make-file.in altered grep -e to aid portability under
	  Solaris (as reported by john o goyo <jgoyo@ca.inter.net>).
	* gm2/examples/server added example of a threaded server
	  which uses the executive, transfer and iotransfer.
	* gm2/examples/executive/Executive added KillProcess.
	* gm2/gm2-libs-coroutines/SysVec.mod fixed vector selection
	  bug.

2005-05-27	Gaius Mulley <gaius@glam.ac.uk>

	* gm2/gccgm2.c fixed to detect array indices which exceed
          sizetype.
        * gm2/lang-specs.h fixed to propagate the -Wcpp flags though
	  to gm2 subcomponents.

2005-05-25	Michel Derosa <derosa@videotron.ca>

	* applied patches to gm2/gm2.texi which describe FreeBSD
	  build instructions.

2005-05-19	Gaius Mulley <gaius@glam.ac.uk>

	* rebuilt gm2/gm2-libs/configure
	* gm2/gm2.texi added section heading for advice on building
	  GNU Modula-2 under FreeBSD 5.3

2005-05-19	Michel Derosa <derosa@videotron.ca>

	* applied patches to make gm2 build on FreeBSD 5.3
	* gm2/gm2-libs/configure.in test for signal.h and direct.h
	* gm2/gm2-libs/gm2-libs-host.h.in test for signal.h and direct.h
	* gm2/tools-src/createUlmSys test for signal.h and direct.h

2005-05-18	Gaius Mulley <gaius@glam.ac.uk>

	* testsuite/gm2/types/run/pass/varient5.mod introduced to stress
	  variant records (equivalent to a C union for casting BYTES
	  into a CARDINAL). Based on an idea from Michel Derosa.

2005-05-17	Gaius Mulley <gaius@glam.ac.uk>

	* gm2/gm2-compiler/M2Quads.mod modified to accept zero length strings
	  as compatible with type CHAR.
	* gm2/gm2-compiler/M2GenGCC.mod many modifications/refactoring to enable
	  strings of 1 or 0 characters to be type compatible with CHAR.
	* these fixes allow Iztok's ISO library to compile cleanly.
	
2005-05-16	Gaius Mulley <gaius@glam.ac.uk>

	* gm2/gm2-compiler/M2GenGCC.mod fixed to allow HIGH(ch) where ch is
	  of type CHAR.
	* gm2/gm2-compiler/M2GenGCC.mod fixed to allow comparison of literals
	  against subrange types.
	* gm2/gm2-compiler/M2GenGCC.mod fixed to allow automatic conversion
	  of strings of 1 or 0 characters to be passed to a parameter of
	  type CHAR.
	* these fixes allow more of the third party tests (from Iztok)
	  to pass.

2005-05-13	Gaius Mulley <gaius@glam.ac.uk>

	* gm2/Make-lang.in shell invocation to use $(SHELL) and also
	  converted bashisms into pure sh as suggested by
	  Michel Derosa <derosa@videotron.ca>
	
2005-05-12	Gaius Mulley <gaius@glam.ac.uk>

	* gm2/gm2-compiler/SymbolTable.mod and gm2/gm2-compiler/P2SymBuild.mod
	  modified to detect double declaration on import and produce useful
	  error messages.
	* gm2/Make-lang.in fixes to the gm2.install rule.
	* gm2/gm2-compiler/M2Quads.mod fixed BuildStaticArray to calculate
	  indices using INTEGER data type.
	
2005-05-11	Gaius Mulley <gaius@glam.ac.uk>

	* P2SymBuild.mod added call to CheckForEnumerationInCurrentModule
	  to fix 5 regression tests and allow enumeration types to be
	  visible when aliased via TYPEs and later IMPORTed.
	  (see testsuite/gm2/pim/pass/impf.mod)

2005-05-10	Gaius Mulley <gaius@glam.ac.uk>

	* major changes which now allow GM2 to compile nested varient records
	  (such as found in gm2/ulm-lib-gm2/std/RTErrors.def)
	* added runtime regression test in testsuite/types/run/pass
	* gm2/Make-lang.in modified to include RTErrors.mod to be built with
	  the ulm libraries. Grammer files are built without the -l option to pge.
	* gm2/gccgm2.c new functions gccgm2_BuildOffset1 determinePenultimateField
	  which implement modifications to record/varient field calculation.
	* gm2/gm2.texi contains gm2 internal documentation on how the front end
	  symbol table represents records, field and varient records.
	* gm2/bnf/m2-2.bnf removed commented out code.
	* gm2/examples/map/Makefile builds the utility semantic.
	* gm2/gm2-compiler/M2Base.mod modifications to reflect change in PutFieldRecord
	* gm2/gm2-compiler/M2GCCDeclare.mod added debugging procedures PrintVerbose
	  and PrintSymbol, which can be called interactively from gdb. Also fixed
	  varient record declaration.
	* gm2/gm2-compiler/M2GenGCC.mod fixed varient record field calculation.
	* gm2/gm2-compiler/M2Quads.mod changed operands to OffsetOp.
	* gm2/gm2-compiler/M2SubExp.mod changes to reflect OffsetOp change.
	* gm2/gm2-compiler/P2SymBuild.mod changed to allow nested varient records.
	* gm2/gm2-compiler/SymbolTable.[def, mod] changes to varient record
	  representation. Fixed memory leak.
	* gm2/gm2-compiler/gccgm2.def changed BuildOffset and added BuildOffset1
	* gm2/ulm-lib-gm2/std/RTErrors.def changed parameter name to match
	  implementation module.
	* gm2/ulm-lib-gm2/std/RTErrors.mod fixed pointer/integer constant type clash.
	
2005-04-11	Gaius Mulley <gaius@glam.ac.uk>

	* fixed examples/executive

2005-03-24	Gaius Mulley <gaius@glam.ac.uk>

	* included the keyword MODULE as an stop set element
	  in gm2m and gm2l.

2005-03-15	Gaius Mulley <gaius@glam.ac.uk>

	* GM2 Release 0.44
	* tagged CVS using gm2_0_44

2005-03-14	Gaius Mulley <gaius@glam.ac.uk>

	* finished tools-src/createUlmSys which builds a SYSTEM.c
	  (from ./configure results) ULM library compatible interface.
	* modified Make-lang.in to install the ULM libraries.
	* added new switch -Wulm which modifies the default search
	  path so that the ULM libraries are included.
	
2005-01-05	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug reported by john o goyo <jgoyo@ca.inter.net>.
	  (testsuite/gm2/pim/run/pass/Countdown.mod)
	* for loops are now implemented as per ISO description.
	  GNU Modula-2 now calculates the last iteration value
	  before the start of a loop. It then initializes the
	  iteration value and works towards the final value,
	  rather than testing to see whether the iteration value
	  exceeds or preceeds the limit value (this fails when using
	  a CARDINAL iterator and stopping at 0).
	* added a number of run tests to exercise these changes.
	
2004-12-22	Gaius Mulley <gaius@glam.ac.uk>

	* more fixes to enable to the Z type to work.
	* introduced GetM2ZRealType which maps onto the largest
	  real type tree.
	* 24 regression test failures out of 2148 on the Opteron LP64
	  9 fail within ulm libraries (Procedure/Module scope nesting).
	  15 fail with ISO import/export of enumeration types.
	* exactly the same regression test failures on 32 bit i386
	  implementation.
	* fixed regression test path, all tests are build and run
	  using gm2-harness-0.3
	
2004-11-29	Gaius Mulley <gaius@glam.ac.uk>

	* internal changes to ordinal type which now use the Z
	  type (long_long_int) for internal calculations before
	  being converted into the actual ordinal type at assignment
	  to a variable or procedure parameter or return value.
	* works on a 32 bit i386 but fails on the Opteron LP64 model.
	
2004-11-22	Gaius Mulley <gaius@glam.ac.uk>

        * compiler now checks for overflow at compile time
	  when constructing constant expressions.
	
2004-11-17	Gaius Mulley <gaius@glam.ac.uk>

	* fixed ppg to generate a comment for in-built rules when
	  producing the EBNF documentation within gm2.texi
	* updated gm2/gm2.texi to reflect availability of the
	  gm2-harness which will build and test gm2 automatically.

2004-11-12	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug reported by John B. Wallace, Jr <wallacjb@enter.net>
	  concerning negating a LONGINT constant
	  (see testsuite/gm2/pim/run/TestLong[34].mod).
	* updated gm2/TODO list
	* gm2/gccgm2.c added functions to determine the size necessary
	  for a Modula-2 constant.
	* gm2/gm2.texi modified documentation to reflect the ISO rules
	  concerning importing enumerated types.
	* gm2/gm2-compiler/SymbolTable.mod fixed possible buffer overflow
	  and integrated MakeConstLit with the changes to gccgm2.c.
	* minor modifications made to gm2/gm2-libs-pim/README.texi
	* moved a number of regression tests into pass/fail directories
	  to reflect the expected ISO enumeration behaviour. Note
	  that many of these now fail.

2004-11-05	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug reported by John B. Wallace, Jr <wallacjb@enter.net>
	  concerning assignment of a constant to a LONGINT
	  (see testsuite/gm2/pim/run/TestLong.mod).
	  Creation of LONGINT and LONGCARD constant literals
	  was broken for values > MAX(INTEGER).

2004-10-29      John B. Wallace, Jr <wallacjb@enter.net>

	* fixed infinite loop when calling StrToLongInt.
	* contributed test code testsuite/gm2/pim/run/TestLong.mod
	
2004-10-26	Gaius Mulley <gaius@glam.ac.uk>

	* fixed -Wpedantic-param-names option.
	* added runtime tests and also parameter switch tests
	* added testsuite/gm2/switches/pedantic-params
	* added testsuite/gm2/pim/run and a number of old m2f tests
	* made compiler check to see that opaque types are really
	  equivalent to a pointer type if -Wextended-opaque is absent.
	* added testsuite/gm2/switches/extended-opaque/{pass,fail}
	  to stress this check.

2004-10-19	Gaius Mulley <gaius@glam.ac.uk>

	* added -Wpedantic-param-names option to check that
	  parameters to procedures declared in definition modules
	  have identical names to their implementation module
	  procedure counterparts.
	* fixed bug report by Iztok Kobal. The compiler would
	  crash when a constant was assigned to a procedure.

2004-10-18	Gaius Mulley <gaius@glam.ac.uk>

	* modified gm2/lang-specs.h to make the front end run
	  with only the -S option. No longer requires -S -c.
	  Bug reported by john o goyo <jgoyo@ca.inter.net>.

2004-10-12	Diego Rodr=EDguez Rodr=EDguez <dieymir@yahoo.es>

	* gm2/Make-lang.in introduced gm2.install rule so that
	  GNU Modula-2 can be installed without overwriting an
	  existing installation of gcc.
	* gm2/README updated to explain how to only install gm2.
	
2004-10-12	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug reported by John B. Wallace, Jr
	  <wallacjb@enter.net>. See testsuite/gm2/pim/run/pass/str6.mod.
	
2004-10-07	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug reported by Iztok Kobal,
	  GNU Modula-2 now allows a RETURN statement in the
	  initialization section of the module.
	* fixed another bug reported by Iztok Kobal,
	  binary and unary large set operators failed when
	  handling constant set values.
	
2004-09-20	Gaius Mulley <gaius@glam.ac.uk>

	* fixed varient record bug as reported by John B. Wallace, Jr
	  <wallacjb@enter.net>. See testsuite/gm2/pim/pass/varient.mod.

2004-09-16	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug in gm2/gm2-compiler/Indexing.mod which
	  occurred after the p2c translation.
	* in turn this fixed a gm2m problem. The bug resulted in
	  touching memory which would not have been malloced so
	  this fix may have cured a number of problems.

2004-09-14	Gaius Mulley <gaius@glam.ac.uk>

	* fixed the ncurses definition module and WindowDevice module.
	* fixed M2RTS:Termination to call termination procedures in
	  reverse.

2004-09-07	Gaius Mulley <gaius@glam.ac.uk>

	* tidied up gm2-compiler/M2Base.mod and introduced
	  compatability matrices which include all the base
	  types.

2004-09-03	Gaius Mulley <gaius@glam.ac.uk>

	* introduced SHORTINT and SHORTCARD data types.
	* added ncurses.def example in examples/ncurses

2004-08-31	Gaius Mulley <gaius@glam.ac.uk>

	* modified SIZE handling so that SIZE is only available
	  from SYSTEM when -Wpim2 is present.
	* fixed bug as reported by "John B. Wallace, Jr."
	  <wallacjb@enter.net>. A variable which when implicitly
	  imported via an IMPORT module; failed.
	  The variable was not being declared correctly by the
	  GNU Modula-2 front end to the GCC back end.
	
2004-08-27	Gaius Mulley <gaius@glam.ac.uk>

	* added new switch -Wpim2 to stipulate the Modula-2 PIM-2
	  dialect.
	* Made SIZE pervasive for ISO Modula-2 and PIM-[34] Modula-2
	  As reported by Diego RodrÌguez RodrÌguez <dieymir@yahoo.es>.
	  SIZE can be imported from SYSTEM when -Wpim2 is present.
	* removed the association with ".def" and "@modula-2"
	  inside gm2/lang-specs.h as this conflicts with shared library
	  file extension .def used by gcc. Bug reported by Gerrit P. Haase
	  <gp@familiehaase.de>.

2004-08-26	Gaius Mulley <gaius@glam.ac.uk>

	* implemented type PROCESS for SYSTEM in the pim library
	  directory (gm2/gm2-libs-coroutines).
	* SYSTEM implements NEWPROCESS, TRANSFER, IOTRANSFER.
	  This is achieved by using the GNU pthread library context
	  mechanism.
	* provided an Executive and TimerHandler module in
	  (gm2/examples/executive).
	* many bug fixes and regression tests show that 3 ulm standard
          library modules fail.
	* implemented MAX(REAL), MIN(REAL) and also provided access to
	  three more gcc builtin functions: huge_val, huge_vall, huge_valf
	* started work on a Logitech 3.0 compatible library.
	
2004-07-06	Gaius Mulley <gaius@glam.ac.uk>

	* improved error handling of unknown objects in EXPORT lists.
	* added regression test
	* implemented a few procedures in the ISO libraries.

2004-07-02	Gaius Mulley <gaius@glam.ac.uk>

	* fixed many IMPORT bugs in inner modules
	
2004-06-30	Gerrit Haase <gp@familiehaase.de>

	* cygwin patch for gm2/Make-lang.in
	
2004-06-29	Gaius Mulley <gaius@glam.ac.uk>

	* fixed EXPORT of an object from an inner module into an
	  implementation module which EXPORTs the same object.
	* fixed EXPORT of a procedure from an inner module into an
	  outer module which is not exported but is assigned to a
	  variable.

2004-06-28	Gaius Mulley <gaius@glam.ac.uk>

	* made flex lexical analysers ignore carriage return
	* fixed bug in M2Quads.mod checking parameter of
	  a const var before value was known.
	* fixed local MODULEs so that they can FROM mod IMPORT
	* tidied up some ulm implementation modules in ulm-lib-gm2/std

2004-06-22	Gaius Mulley <gaius@glam.ac.uk>

	* allowed LONGCARD compatibility with INTEGER
	* allowed LONGINT compatibility with CARDINAL
	* allowed LONGCARD compatibility with CARDINAL
	* allowed LONGINT compatibility with INTEGER

2004-06-21	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug in constant set declaration
	  (see ulm library ulm-lib-gm2/std/Calendar.mod and
	   testsuite/gm2/pim/pass/setconst.mod and
           testsuite/gm2/pim/pass/setconst2.mod)
	* all regression tests pass on the Opteron port of gm2.
	
2004-06-18	Gaius Mulley <gaius@glam.ac.uk>	

	* implemented nested module within procedures.
	  This allows a few more ulm library modules to compile.
	
2004-06-07	Gaius Mulley <gaius@glam.ac.uk>

	* renamed the -Wunbounded-by-reference option to
	  -funbounded-by-reference as suggested by Waldek Hebisch.
	* finished ISO SYSTEM implementation.
	* ROTATE, SHIFT now work with smaller than WORD sized sets,
	  WORD sized sets and larger than WORD sized sets.
	* gm2-iso/SYSTEM.mod is called by the back end if larger than
	  WORD sized sets are ROTATEd or SHIFTed.
	* updated gm2.texi to include new sections describing ISO and PIM
	  versions of the SYSTEM module.
	* renamed m2.lex as m2.flex, c.lex as c.flex to fix a bug
	  reported by Gerrit Haase while attempting the cygwin port.
        * renamed gm2-compiler/m2lex.def as gm2-compiler/m2flex.def
	* modified gm2-compiler/M2Comp to use m2flex
	* modified Make-lang.in to use m2.flex and c.flex
	* modified init/h2definit, init/gm2linit to use m2flex
	
2004-05-10	Gaius Mulley <gaius@glam.ac.uk>

	* gm2 now builds on FreeBSD 5.2.1
	* removed to_upper and to_lower in p2c
	* made gm2/gm2-libs/configure and friends test for `strsignal'
	* fixed initialization bug (missing memset)
	  in gm2/gm2-compiler/Indexing.mod

2004-05-06	Gaius Mulley <gaius@glam.ac.uk>

	* added SHIFT and ROTATE into ISO SYSTEM and
	  made the compiler shift and rotate word and multi-word
	  set types. Multi-word set rotate and shifts are implemented
	  by calling ISO SYSTEM runtime procedures. Word sized sets or
	  smaller are implemented inline using shift/rotate instructions.

2004-05-05	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug report by Paul Whittington <pwhittington@nitrodata.com>
          (see testsuite/gm2/link/pim/fail/import.mod).

2004-04-30	Gaius Mulley <gaius@glam.ac.uk>

	* updated gm2.texi to reflect new options and changes to the
	  run-time system.

2004-04-28	Gaius Mulley <gaius@glam.ac.uk>
	
	* introduced -Wunbounded-by-reference option which will make a
	  reference to non VAR unbounded data providing it is not written to
	  within the callee procedure.
        * introduced -Wverbose-unbounded option which displays names of
	  unbounded parameters which the compiler will implement as
	  references even though they were specified as non VAR parameters.
	
2004-04-27	Gaius Mulley <gaius@glam.ac.uk>

	* introduced -Wcase, -Wnil runtime checks
	* introduced -Wcheck-all to enable all runtime flags
	* updated documentation to refect new options

2004-04-19	Gaius Mulley <gaius@glam.ac.uk>

	* added more address regression tests
	* fixed address arithmetic bugs as reported by Waldek Hebisch
	* fixed record referencing bug as reported by Waldek Hebisch

2004-04-08	Gaius Mulley <gaius@glam.ac.uk>

	* tagged CVS using gm2_0_43

2004-04-07	Gaius Mulley <gaius@glam.ac.uk>

	* GM2 Release 0.43
	* The opteron port is finally integrated into CVS
	* fixed bug in vararg parameter declaration which in turn..
	* fixed varargs within the opteron port
	* checked in "work in progress" gm2/gm2-iso/COROUTINES.mod

2004-04-06	Gaius Mulley <gaius@glam.ac.uk>

	* removed gm2-compiler/M2Stack.def gm2-compiler/M2Stack.mod
	* made bnf/h2def.bnf 64 bit clean, but not fixed any bugs in h2def.
	
2004-04-05	Gaius Mulley <gaius@glam.ac.uk>

	* fixed gm2.paranoid and all regression tests for the Opteron port
	* checked in the opteron port which includes many changes
	* int/word based types are now separated from pointer based types.
	* modified p2c to use int for INTEGER and unsigned int for
	  CARDINAL rather than int and unsigned long.
	* added gm2-compiler/M2StackWord and gm2-compiler/M2StackAddress
	* added gm2-compiler/Indexing to handle arbitary sized arrays of
	  pointers.
	* removed many INTEGER/CARDINAL <-> ADDRESS coersions
	* fixed compiler to use new modules above (many changes)
	* have moved away from M2Printf using WORD parameters to ARRAY OF
	BYTE as this was not 64 bit clean
	* fixed p2c to handle ARRAY OF BYTE correctly
	* fixed gm2 to handle ARRAY OF BYTE correctly

2004-04-01	Gaius Mulley <gaius@glam.ac.uk>

	* fixed record parameter equivalence bug as reported by Waldek
	  (see testsuite/gm2/pim/pass/record4.mod)

2004-03-26	Gaius Mulley <gaius@glam.ac.uk>

	* fixed array type equivalence bug as reported by Waldek
	  (see testsuite/gm2/pim/pass/array2.mod)
	
2004-03-25	Gaius Mulley <gaius@glam.ac.uk>

	* Implemented __FUNCTION__ keyword which is translated
	  into a string containing the name of the current visible
	  function.
	* Retrofitted a function name into many of the runtime
	  procedures within M2RTS and added a new
	  procedure Halt to M2RTS.

2004-03-18	Gaius Mulley <gaius@glam.ac.uk>

	* Implemented MIN and MAX for types LONGINT and LONGCARD

2004-03-17	Gaius Mulley <gaius@glam.ac.uk>

	* GM2 Release 0.42
	* MinGW cross compilation port entered into CVS
	* added -Wtarget-ar to gm2lcc.mod, gm2specs.c lang-specs.h
	* added gm2/configure and associated files to determine
	  the whereabouts of target `ar'.
	* added gm2/gm2-libs/configure and associated files to
	  test for target libraries, header files and C functions.
	  Required to implement the gm2-libs.

2004-02-13	Gaius Mulley <gaius@glam.ac.uk>

	* GM2 Release 0.41
	* native sparc port passes make gm2.paranoid and make check-gm2
	* native i386  port passes make gm2.paranoid and make check-gm2
	* fixed bug in M2GenGCC.mod, coerced constant set parameter
	  values to correct set type.
	* fixed bug in M2GenGCC.mod when assigning constant to an ISO WORD

2004-02-10	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug in gccgm2.c CompareTrees should be tested for <= 0
	  when testing for small set sizes.
	* fixed Make-lang.in so that we only link gm2-compiler-boot/clex.o
	  during stage1. This build error showed up during cross building.
	
2004-02-05	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug as demonstrated in
          testsuite/gm2/pim/pass/subrange4.mod
	* all regression tests now pass on the *86 platform
	  under Debian Woody.
	
2004-02-05	Gaius Mulley <gaius@glam.ac.uk>

	* fixed more constant subrange bugs.
	* added new quad to delimit the start of declaration
	  scope of a procedure.
	* regression test failures reduced from 9 to 3.

2004-01-03	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bugs in forward and previous references within gm2.texi
        * fixed more constant set conversion bugs which reduces
	  the number of regression failures from 15 to 9.

2003-12-26	Gaius Mulley <gaius@glam.ac.uk>

	* increased the number of regression tests to 1332
	* gm2 passes 1317 and fails 15
	* many bug fixes..
	* improved documentation, gm2.texi. Now contains
	  a ebnf description of GNU Modula-2 extracted from
	  bnf/m2.bnf.
	* completed the optional final parameter argument.
	* reimplemented the CAP standard function so that it
	  can be used within constant expressions.
	
2003-11-27	Gaius Mulley <gaius@glam.ac.uk>

	* fixed a bug in the handling of the -Wcpp option so that it uses
	  -traditional-cpp
	* integrated the gm2 and m2f regression tests into the GNU GCC
          dejagnu format - all the m2f tests are now used to test gm2.
	* started work on a minor extension to GNU Modula-2 which allows
	  the last parameter to be optional. In turn this allows a
	  Modula-2 implementation of the ISO module COROUTINES which is
	  in development.
	
2003-11-13	Gaius Mulley <gaius@glam.ac.uk>

	* modified the generated .h files to be prefixed with `G' to avoid
	  name clashes which in turn allows gm2 to be built under a vfat
	  file system.
	
2003-11-07	Gaius Mulley <gaius@glam.ac.uk>

	* changed the flag name -Wverbose to -Wsources
	
2003-11-07	Gaius Mulley <gaius@glam.ac.uk>

	* improved array index type debugging description in gccgm2.c
	  which allows gdb to understand that arrays are declared ARRAY
	  [low..high] rather than ARRAY [0..high-low]
	
2003-11-04	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug in procedure type declaration.

2003-11-03	Gaius Mulley <gaius@glam.ac.uk>

	* modified ProcedureBlock rule in bnf/m2.bnf, bnf/m2-[23h].bnf
	  to comply with ISO syntax. The 'BEGIN' statement sequence is
	  optional.
	* updated the gm2.texi to include a description about
	  the -Wextended-opaque option.

2003-10-23	Gaius Mulley <gaius@glam.ac.uk>

	* fixes to opaque type (in)compatibility for expression and assignments.

2003-10-09	Gaius Mulley <gaius@glam.ac.uk>

	* fixed gm2 build with ./configure --enable-checking
	
2003-10-07	Gaius Mulley <gaius@glam.ac.uk>

	* introduced -Wextended-opaque which enables the GM2 extension
	  to opaque types. This allows opaque types to be non pointer
	  types, but requires that GM2 parse the corresponding
	  implementation module.
	* modified GM2 to default to the standard opaque implementation
	  of using SYSTEM.ADDRESS as the `opaque type' outside the
	  module of its declaration.
	* introduced -Wverbose to allow users see the source file names
	  for modules as they are being compiled.
	
2003-09-30	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug in ADDADR as reported by Iztok
	* fixed bug in exported type name clashes as reported by Iztok
	* fixed bug with multiple type references to a SET
	* fixed Min`basetype' to contain the type `basetype'
	* tidied up IsReallyPointer in M2Quads.mod

2003-09-25	Gaius Mulley <gaius@glam.ac.uk>

	* fixed -Wmakeall option.
	* fixed CARDINAL type to have range 0..max(unsigned int)
	  rather than 0..max(integer) as reported by Iztok.
	* fixed set type incomparability as reported by Iztok.
	* fixed README note about make gm2.paranoid as reported by
          Matthias Kurz.
	* fixed many of the example programs which were broken during
	  the migration to gcc-3.3.1.
	* fixed lang-specs.h to invoke new cpp.
	* removed the M2PATH environment variable usage.
	* added more modules to make gm2.paranoid.
	* fixed gm2->gcc declaration of arrays.
	* fixed infinite loop in M2GenGCC.mod and M2Optimize.mod
	* added more regression tests.
	* fixed Make-file.in as suggested by Matthias Kurz.
	* fixed tools-src/makeversion and tools-src/buildpg to be
	  more portable as suggested by Matthias Kurz.
	* fixed examples/pthread

2003-09-19	Gaius Mulley <gaius@glam.ac.uk>

	* GM2 release 0.40
	* brought GM2 up to date with gcc-3.3.1
	* introduced new files gm2-common.h, gm2-common.c,
	  gm2-lang.h, gm2-tree.h to reflect the new garbage collection
	  mechanism.
	* major changes to gccgm2.c to reflect migration from gcc-3.2 to
	  gcc-3.3.1
	* introduced gm2-compiler/M2Scope.def, gm2-compiler/M2Scope.mod
	  to manage the quadruples which represent a particular scope
	* major recoding of M2Code and the order that quadruples are coded
	  into GCC trees. This in turn fixes a very serious nested
	  procedure bug. (gm2/m2/comp/autotest/gm2/localproc.mod and
	  convert.mod).
	* changes to M2GCCDeclare.mod, M2GenGCC.mod, M2BasicBlock.mod
	  to allow quadruples to be translated via outer scope to inner
	  scope ordering.
	* M2Code.mod is much cleaner.
	* fixed a number of uninitialised variable errors and bad pointer
	  errors. All caught by the extremely useful x86 utility valgrind.
	  In turn this fixes a Redhat 9.0 build problem.
	* fixed bugs in DynamicStrings.mod, ppg.mod, SEnvironment.mod
	* introduced the debian package files (gm2/debian) so that .deb
	  package (gm2) can be built.
	* fixes to gm2 so that it can compile the University of Ulm's
	  system modules.

2003-06-01	Gaius Mulley <gaius@glam.ac.uk>

	* added the LONGCARD data type.
	* fixed subrange declarations so that they can be prefixed
	  by a qualident.
	* fixed variant record for ISO syntax
	  (gm2/m2/comp/autotest/gm2/caseiso.mod).
	* fixed importing of an enumerated element
	  (gm2/m2/comp/autotest/gm2/impm.mod).

2003-05-27	Gaius Mulley <gaius@glam.ac.uk>
	
	* fixed bug reported by Iztok Kobal
	  (gm2/m2/comp/autotest/gm2/realbitscast.mod).
	  Fixed cast to copy data.
	* enabled SIZE to be invoked from constant expressions.

2003-05-20	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug reported by Iztok Kobal
	  (gm2/m2/comp/autotest/gm2/testlength3.mod)
	  LENGTH is now mapped onto M2RTS.Length if the parameter is
	  not a constant at compile time.

2003-05-16	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug reported by Iztok Kobal
	  (gm2/m2/comp/autotest/gm2/longstrimp.mod)
	  and also (gm2/m2/comp/autotest/gm2/imp[deghij].mod)
	
2003-05-08	Gaius Mulley <gaius@glam.ac.uk>

	* implemented the standard function LENGTH
	* allowed standard functions to be called from constant expressions
	* improved cyclic data type dependancy error messages
	* SIZE is now only exported from SYSTEM if the switch -Wiso is absent
	  SIZE is declared as a standard procedure if -Wiso is present

2003-05-07	Gaius Mulley <gaius@glam.ac.uk>

	* implemented ISO BITSET as a standard type which takes
	  effect when -Wiso is present on the command line.
	* backed out garbage collection change to m2.lex
	* fixed bugs reported by Iztok Kobal
	  (gm2/m2/comp/autotest/gm2/[testexit.mod, bitset3.mod bits32.mod])

2003-05-06	Gaius Mulley <gaius@glam.ac.uk>

	* modified Storage and SysStorage modules so that the procedure
	  DEALLOCATE assigns the pointer to NIL
	* fixed bug reported by Iztok Kobal
	  (gm2/m2/comp/autotest/gm2/bitset2.mod)

2003-05-05	Gaius Mulley <gaius@glam.ac.uk>

	* fixed two bugs reported by Iztok Kobal.
	* fixed bug in M2GCCDeclare.mod (BITSET's subrange was undeclared).
	* added BITNUM, the subrange from which BITSET is constructed,
	  in SYSTEM.
	* added regression test case for this bug.
	* also modified c.lex to use xstrdup and not strdup.

2003-05-01	Gaius Mulley <gaius@glam.ac.uk>

	* added pseudo functions, CAP, ODD, ABS
	* removed gm2-libs/Math.def which defined ABS

2003-04-29	Gaius Mulley <gaius@glam.ac.uk>

	* examples/pthreads cleaned up
	* introduced ISO SYSTEM. Limitations, TSIZE only takes one parameter,
	  and SHIFT, ROTATE are not implemented yet
	* renamed gm2-libs/Strings to gm2-libs/DynamicStrings to avoid name
	  clash with gm2-iso/Strings
	* p2c modified to understand DEFINITION MODULE FOR "C"
	* gm2-libs/libc.def modified to use DEFINITION MODULE FOR "C"
	* gm2-iso/libc.def removed
	* linking references to libc (in gm2/init/*init) removed
	* gm2/tools-src/def2texi finished
	* gm2/gm2-libs.texi built via gm2/tools-src/def2texi
	* gm2/gm2.texi now contains library definition modules and index
	* added -Wiso switch to gm2 driver

2003-04-12	Gaius Mulley <gaius@glam.ac.uk>

	* first cut of h2def released
	* examples/pthreads introduced
	* examples/vga.def generated by h2def
	* fixed bug in CodeBecomes
	* fixed constant set bug in M2GenGCC.mod
	* updated gm2.texi to reflect introduction of h2def
	* build mechanism tidied up. p2c is now built from the top level
	  makefile.
	* some portability features of p2c fixed, so that it builds
	  cleanly under Apple Darwin
	* many internal changes made to ppg to handle recursive ebnf
	  rules.
	* fixed automatic export of unqualified identifiers from a
	  DEFINITION MODULE FOR "C"

2003-02-02	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug reported by Iztok Kobal, the gm2-iso/ChanConsts module
	  failed to compile. Added a regression test to catch this.

2003-02-01	Gaius Mulley <gaius@glam.ac.uk>

	* bug fixes in error handling. In particular duplicate symbols
	  are better handled.
	* development checkin of the h2def tool and subsidiary modules.

2003-01-20	Gaius Mulley <gaius@glam.ac.uk>

	* bug fixes for gm2m and link-specs.h which allow libraries
	  to be added with the -Wmakeall option.
	* fixed a number of built-in definitions in Builtin.def
	* also added MathLib0.def and MathLib0.mod to the pim libraries.
	* fixed svga example test
	* added long double math built-ins
	
2003-01-17	Gaius Mulley <gaius@glam.ac.uk>

	* bug fixes to the line numbering debugging info
	  which is passed to gcc. Resulting in better gdb support.
	
2003-01-14	Gaius Mulley <gaius@glam.ac.uk>

        * added the C `double' math built-ins
	* fixed path in Make-lang.in which caused `file not found
	  error' during build
	* updated documentation to show correspondance between C and
	  M2 data types.
	* fixed bug in M2SubExp.mod shown by indirect procedure calls
	* fixed bug in M2Constants.mod
	* introduced SHORTREAL data type and removed the pseudo module
	  MATH as built-ins are handled via gcc backend.
	* removed corresponding gm2-compiler/M2Math module.

2003-01-11	Gaius Mulley <gaius@glam.ac.uk>

	* changed ebnf to allow empty variant clauses in a case
	  statement. Now complies with ISO case statement syntax.
          (Bug reported by Iztok Kobal)
	
2003-01-09	Gaius Mulley <gaius@glam.ac.uk>

	* initial checkin of complete built-in function support
	  to obvious C functions.
	* gm2-libs/libc.c, gm2-libs/libc.def:: modified reference
	  to cfree to free as suggested by John Calley
	
2003-01-02	Gaius Mulley <gaius@glam.ac.uk>

	* fixed bug reported by Matthias Manhart
	  (procedure type).

2002-12-20	Gaius Mulley <gaius@glam.ac.uk>

	* added __ATTRIBUTE__ __BUILTIN__ ((Ident))
	  rules for obtaining target compiler constants
	* fixed handling of recursive procedure type definitions
	  bug reported by Iztok Kobal
	* improved base types to aid gdb in displaying data types
	* checked in some sketchy initial ISO library implementation
	  modules

2002-11-03	Gaius Mulley <gaius@glam.ac.uk>

	* GM2 Release 0.33
	* implemented large sets
	* implemented ISO complient sets
	* definition modules no longer have to explicitly export
	  identifiers

2002-06-20	Gaius Mulley <gaius@glam.ac.uk>

	* GM2 Release 0.32
	* now supports building a cross compiler (strong-arm) tested
	
2002-06-09	Gaius Mulley <gaius@glam.ac.uk>

	* brought gm2 up to date with gcc-3.2
	* fixed the $(srcdir) in all Makefile.in's
	* configuring and building gm2 is now recommended
	  to occur outside the source tree.
	* many changes to gccgm2.c to reflect gcc-3.2

2002-05-04	Gaius Mulley <gaius@glam.ac.uk>

	* implemented DEFINITION MODULE FOR "C"
	* implemented -Wmakeall
	* implemented varargs in "C" modules
	* added gm2/examples directory
	* updated documentation
	* gm2m and gm2l are now built from ebnf descriptions
	  by ppg

2002-04-15	Gaius Mulley <gaius@glam.ac.uk>

	* GM2 Release 0.21
	* brought gm2 up to date with gcc-3.0.4
	* make paranoid works on Debian GNU/Linux (Athlon)
	* finally finished rewrite of a number of key modules
	* Strings.mod used instead of StrLib.mod allowing for
	  dynamic arrays
	* new flex built lexical analyser in use.
	* cpp is run on all definition/implementation modules if
	  -Wcpp is used.
	* gm2m rewritten
	* gm2 and its utilities now use -I for path specification
	  rather than -M
	* Makefiles much simplified, removed most recursive makes.
	* all parsers are now mechanically generated using ppg.
	* ppg built if required.
	
2001-08-01	Gaius Mulley <gaius@glam.ac.uk>

	* brought gm2 up to date with gcc-3.0
	* fixed opaque handling in the new parser
	* now using new parser by default
	* rewritten NameKey.mod, removing any static limits on array
	sizes by using dynamic data structures throughout.
	* improved p2c so that it handles opaque types properly.
	* modified Lists.def, SymbolKey.def to use opaque types.
	
2001-03-09	Gaius Mulley <gaius@glam.ac.uk>
	
	* fixed bug in FpuIO.mod which failed to issue a '-' when emitting
	  real numbers.
	* added many new tests to the regression directory (autotest).
	* fixed bugs in the bnf descriptions. Compiler is now using
 	  automatically generated parser for P1, P2 and P3. Just PH
 	  remains hand built.
        * Introduced a number of small regression tests following
 	  Olivier's extensive bug report on (m2f). Fixed a number
 	  of bugs reported, see gm2/m2/comp/BUGS for details.
	* Fixed bug in M2Lexical.mod causing mismatch between
 	  source line numbers and gdb information.
        * Fixed + - / of constant sets.
        * removed tests for the interim (they exist under
 	  bitset3.mod.breaks and string.mod.breaks respectively)
        * modifications to stop overflow on max CARDINAL when converting
 	  numbers into strings (NumberIO.mod)

2001-02-28	Gaius Mulley <gaius@glam.ac.uk>

	* using new parser P1SyntaxCheck.mod and P2Build.mod
	  P1SyntaxCheck.mod now inserts simple missing tokens.
	* both automatically generated and provide better error
	  recovery
	* improved some error messages

2001-01-23	Gaius Mulley <gaius@glam.ac.uk>

	* brought gm2 up to date with gcc-20001204
	* introduced configure and moved all makefiles to Makefile.in
	* tidied up p2c a little, in an attempt to reduce the compile
 	  time warnings

2000-12-02	Gaius Mulley <gaius@glam.ac.uk>

	* brought gm2 up to date with gcc-20001120
	* garbage collection now working in gm2
	* introduced EXPORT UNQUALIFIED as a method for writing
	  definition modules as interfaces for C libraries
	* altered link tools to reflect EXPORT UNQUALIFIED
	* started work on preprocessing source when -Wcpp is supplied
	* tidied up gccgm2.c

2000-09-25	Gaius Mulley <gaius@glam.ac.uk>

	* added error messages to lang-spec.h. Issued if wrong combination
	  of -Wuselist -Wmodules -Wmakelist and -c are supplied.

2000-09-14	Matthias Kurz <mk@baerlap.north.de>

	* Many makefile portability corrections (tests for symbol links).
	  Made makeversion more portable via guessing email address.
	  Added setenv emulation in libc.c.
	  Inserted missing Close(fo) to gm2lgen.mod.GenMain().
	  Improved README,
	  Added QUIAT to the makefiles.
	  Cast EOF to (char) inside mkfor.c mklink.c.
	  
